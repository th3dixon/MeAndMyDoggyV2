2025-07-21 07:46:43.348 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=50.9181952%2C-1.3533184&maxResults=1 - null null
2025-07-21 07:46:43.355 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 07:46:43.356 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:46:43.387 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:46:43.388 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0502ms.
2025-07-21 07:46:43.390 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:46:43.392 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 32.6804ms
2025-07-21 07:46:43.394 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 07:46:43.396 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 41.1320 ms
2025-07-21 07:46:43.399 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=50.9181952%2C-1.3533184&maxResults=1 - 200 null application/json; charset=utf-8 50.8091ms
2025-07-21 07:47:46.022 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:47:46.035 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:47:46.036 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:47:46.050 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:47:46.050 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:47:46.053 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:47:46.054 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:47:46.067 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:47:46.884 +01:00 [INF] Executed DbCommand (556ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 07:47:46.901 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 850.1003ms.
2025-07-21 07:47:46.903 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:47:46.905 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 866.5096ms
2025-07-21 07:47:46.906 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:47:46.907 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 871.7729 ms
2025-07-21 07:47:46.909 +01:00 [INF] Executed DbCommand (530ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 07:47:46.971 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 985.8444ms
2025-07-21 07:47:46.973 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 904.6674ms.
2025-07-21 07:47:46.976 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:47:46.978 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 921.8305ms
2025-07-21 07:47:46.979 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:47:46.980 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 927.1299 ms
2025-07-21 07:47:46.982 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 932.1609ms
2025-07-21 07:48:02.164 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206&maxResults=1 - null null
2025-07-21 07:48:02.167 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 07:48:02.169 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:48:02.187 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:48:02.188 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0309ms.
2025-07-21 07:48:02.190 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:48:02.191 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.8983ms
2025-07-21 07:48:02.193 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 07:48:02.194 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 26.5368 ms
2025-07-21 07:48:02.196 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206&maxResults=1 - 200 null application/json; charset=utf-8 32.0227ms
2025-07-21 07:48:02.228 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.3811&longitude=-1.4701&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 07:48:02.231 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 07:48:02.232 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:48:02.247 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:48:02.249 +01:00 [INF] Getting nearby providers at 53.3811,-1.4701 within 25 miles
2025-07-21 07:48:02.252 +01:00 [INF] Starting provider search with filters: {"Location":"53.3811,-1.4701","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 07:48:02.264 +01:00 [WRN] Invalid postcode format: 53.3811,-1.4701
2025-07-21 07:48:02.265 +01:00 [WRN] Could not resolve location: 53.3811,-1.4701
2025-07-21 07:48:02.266 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.3948ms.
2025-07-21 07:48:02.268 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:48:02.269 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.105ms
2025-07-21 07:48:02.270 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 07:48:02.272 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41.1636 ms
2025-07-21 07:48:02.274 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.3811&longitude=-1.4701&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 46.1125ms
2025-07-21 07:49:29.669 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:49:29.672 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:49:29.673 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:49:29.690 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:49:29.691 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0795ms.
2025-07-21 07:49:29.693 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:49:29.695 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 19.5042ms
2025-07-21 07:49:29.696 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:49:29.697 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.2723 ms
2025-07-21 07:49:29.699 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 29.8956ms
2025-07-21 07:49:29.709 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:49:29.713 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:49:29.714 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:49:29.734 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:49:29.735 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0498ms.
2025-07-21 07:49:29.737 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:49:29.739 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 22.7562ms
2025-07-21 07:49:29.741 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:49:29.743 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 30.3808 ms
2025-07-21 07:49:29.745 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 36.195ms
2025-07-21 07:51:49.111 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:51:49.113 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:51:49.114 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:51:49.130 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:51:49.131 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1055ms.
2025-07-21 07:51:49.133 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:51:49.134 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 17.8404ms
2025-07-21 07:51:49.135 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:51:49.136 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 22.8815 ms
2025-07-21 07:51:49.138 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 26.8171ms
2025-07-21 07:51:49.146 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:51:49.148 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:51:49.149 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:51:49.166 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:51:49.167 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0373ms.
2025-07-21 07:51:49.169 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:51:49.171 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.1776ms
2025-07-21 07:51:49.172 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:51:49.174 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.6561 ms
2025-07-21 07:51:49.175 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 29.7936ms
2025-07-21 07:52:22.234 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:52:22.236 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:52:22.237 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:52:22.253 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:52:22.254 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0608ms.
2025-07-21 07:52:22.256 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:52:22.257 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.548ms
2025-07-21 07:52:22.258 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:52:22.259 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 22.9946 ms
2025-07-21 07:52:22.261 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 55.2194ms
2025-07-21 07:53:39.383 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:53:39.386 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:53:39.387 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:53:39.399 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:53:39.400 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0444ms.
2025-07-21 07:53:39.402 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:53:39.403 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 15.1541ms
2025-07-21 07:53:39.404 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:53:39.406 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 19.9844 ms
2025-07-21 07:53:39.407 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 24.0474ms
2025-07-21 07:53:47.226 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:53:47.231 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:53:47.232 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:53:47.265 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:53:47.266 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0518ms.
2025-07-21 07:53:47.268 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:53:47.270 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 35.1775ms
2025-07-21 07:53:47.271 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:53:47.273 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 42.0659 ms
2025-07-21 07:53:47.277 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 51.5589ms
2025-07-21 07:58:09.229 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 07:58:10.245 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 07:58:10.575 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 07:58:10.664 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 07:58:11.316 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 07:58:12.214 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 07:58:12.593 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 07:58:12.712 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 07:58:12.830 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 07:58:12.832 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 07:58:12.834 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 07:58:12.837 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 07:58:12.841 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 07:58:14.197 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 07:58:14.230 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 07:58:14.282 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 07:58:14.550 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 07:58:14.731 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 07:58:14.929 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 07:58:14.953 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 07:58:14.982 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 07:58:15.157 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 07:58:15.163 +01:00 [INF] Database migrations applied successfully
2025-07-21 07:58:15.168 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 07:58:15.211 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 07:58:15.794 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 07:58:15.795 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 07:58:15.895 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 07:58:16.063 +01:00 [INF] Hosting environment: Development
2025-07-21 07:58:16.302 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 07:58:16.317 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:58:16.324 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 07:58:16.525 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:58:16.558 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:58:16.630 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:58:16.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 488.1852ms
2025-07-21 07:58:16.829 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 07:58:16.839 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 10.2255ms
2025-07-21 07:58:17.395 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 07:58:17.448 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.5761ms
2025-07-21 07:58:17.742 +01:00 [INF] Executed DbCommand (564ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 07:58:17.800 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1166.0347ms.
2025-07-21 07:58:17.809 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:58:17.842 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1280.0465ms
2025-07-21 07:58:17.845 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:58:17.850 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1427.4066 ms
2025-07-21 07:58:17.858 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1555.9949ms
2025-07-21 07:58:17.894 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:58:17.911 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:58:17.913 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:58:17.936 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:58:17.939 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2374ms.
2025-07-21 07:58:17.945 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:58:17.949 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 34.2543ms
2025-07-21 07:58:17.963 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:58:17.968 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 58.9525 ms
2025-07-21 07:58:17.971 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 77.0211ms
2025-07-21 07:58:20.434 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 07:58:20.513 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.3005ms
2025-07-21 07:58:22.197 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 07:58:22.204 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:58:22.205 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 07:58:22.223 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:58:22.225 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1167ms.
2025-07-21 07:58:22.226 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 07:58:22.228 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.9057ms
2025-07-21 07:58:22.229 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 07:58:22.230 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.4930 ms
2025-07-21 07:58:22.231 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 33.9089ms
2025-07-21 07:58:22.919 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 07:58:22.922 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:58:22.935 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:58:23.042 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:58:23.045 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 07:58:23.055 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 07:58:23.087 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 5 miles
2025-07-21 07:58:23.914 +01:00 [INF] Executed DbCommand (587ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsVerified], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 07:58:23.918 +01:00 [INF] Found 0 real providers within 5 miles
2025-07-21 07:58:23.921 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 07:58:23.923 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 07:58:23.925 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 881.8529ms.
2025-07-21 07:58:23.927 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 07:58:23.944 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 1007.598ms
2025-07-21 07:58:23.946 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:58:23.947 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 1025.5995 ms
2025-07-21 07:58:24.183 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 1263.9559ms
2025-07-21 07:58:36.201 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 420
2025-07-21 07:58:36.249 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:58:36.250 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:58:36.266 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:58:36.267 +01:00 [INF] Provider search request received for location: Current Location
2025-07-21 07:58:36.281 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 13.6152ms.
2025-07-21 07:58:36.282 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 07:58:36.286 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 34.2754ms
2025-07-21 07:58:36.288 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:58:36.289 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 40.1795 ms
2025-07-21 07:58:36.442 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 241.4739ms
2025-07-21 07:58:50.109 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 406
2025-07-21 07:58:50.112 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:58:50.114 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:58:50.131 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:58:50.133 +01:00 [INF] Provider search request received for location: M1
2025-07-21 07:58:50.133 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.9219ms.
2025-07-21 07:58:50.135 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 07:58:50.136 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 20.1703ms
2025-07-21 07:58:50.138 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:58:50.140 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 27.4763 ms
2025-07-21 07:58:50.141 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 32.0585ms
2025-07-21 07:58:52.215 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 406
2025-07-21 07:58:52.218 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:58:52.219 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:58:52.234 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:58:52.236 +01:00 [INF] Provider search request received for location: M4
2025-07-21 07:58:52.237 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.1677ms.
2025-07-21 07:58:52.238 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 07:58:52.239 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 18.4487ms
2025-07-21 07:58:52.241 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:58:52.242 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 23.8463 ms
2025-07-21 07:58:52.244 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 28.6908ms
2025-07-21 07:58:53.092 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 406
2025-07-21 07:58:53.095 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:58:53.096 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:58:53.112 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:58:53.114 +01:00 [INF] Provider search request received for location: M1
2025-07-21 07:58:53.115 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.9677ms.
2025-07-21 07:58:53.116 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 07:58:53.118 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 19.4521ms
2025-07-21 07:58:53.119 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:58:53.132 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 37.7025 ms
2025-07-21 07:58:53.134 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 42.8375ms
2025-07-21 07:59:15.943 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 07:59:15.946 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:59:15.947 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:59:15.968 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:59:15.976 +01:00 [INF] Provider search request received for location: PO13 0JX
2025-07-21 07:59:15.978 +01:00 [INF] Starting provider search with filters: {"Location":"PO13 0JX","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 07:59:15.980 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 07:59:15.998 +01:00 [INF] Executing real provider search at 51.5074,-0.1278 within 5 miles
2025-07-21 07:59:16.000 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:59:16.002 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:59:16.015 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:59:16.016 +01:00 [INF] Provider search request received for location: PO13 0JX
2025-07-21 07:59:16.017 +01:00 [INF] Starting provider search with filters: {"Location":"PO13 0JX","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 07:59:16.028 +01:00 [INF] Executing real provider search at 51.5074,-0.1278 within 5 miles
2025-07-21 07:59:16.558 +01:00 [INF] Executed DbCommand (541ms) [Parameters=[@__Cos_0='0.6224135541865977', @__longitude_1='-0.1278', @__Sin_2='0.7826885508072845', @__p_3='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsVerified], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 07:59:16.561 +01:00 [INF] Found 0 real providers within 5 miles
2025-07-21 07:59:16.562 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 07:59:16.563 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 07:59:16.564 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 587.3516ms.
2025-07-21 07:59:16.565 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 07:59:16.566 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 618.1603ms
2025-07-21 07:59:16.568 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:59:16.569 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 623.0407 ms
2025-07-21 07:59:16.571 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 628.5167ms
2025-07-21 07:59:16.637 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__Cos_0='0.6224135541865977', @__longitude_1='-0.1278', @__Sin_2='0.7826885508072845', @__p_3='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsVerified], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 07:59:16.639 +01:00 [INF] Found 0 real providers within 5 miles
2025-07-21 07:59:16.641 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 07:59:16.641 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 07:59:16.642 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 626.0997ms.
2025-07-21 07:59:16.644 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 07:59:16.645 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 641.2059ms
2025-07-21 07:59:16.646 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:59:16.647 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 647.0135 ms
2025-07-21 07:59:16.650 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 670.1244ms
2025-07-21 07:59:39.285 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 07:59:39.288 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:59:39.289 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:59:39.305 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:59:39.306 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 07:59:39.307 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.8704ms.
2025-07-21 07:59:39.309 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 07:59:39.309 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 18.1757ms
2025-07-21 07:59:39.311 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:59:39.312 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 23.9514 ms
2025-07-21 07:59:39.313 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 28.6275ms
2025-07-21 07:59:46.945 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 410
2025-07-21 07:59:46.949 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:59:46.950 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:59:46.966 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:59:46.968 +01:00 [INF] Provider search request received for location: London
2025-07-21 07:59:46.969 +01:00 [INF] Starting provider search with filters: {"Location":"London","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 07:59:46.982 +01:00 [WRN] Invalid postcode format: London
2025-07-21 07:59:46.982 +01:00 [WRN] Could not resolve location: London
2025-07-21 07:59:46.983 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 07:59:46.985 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.8047ms.
2025-07-21 07:59:46.986 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 07:59:46.987 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 34.9525ms
2025-07-21 07:59:46.989 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:59:46.990 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 40.8853 ms
2025-07-21 07:59:46.991 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 46.188ms
2025-07-21 07:59:57.983 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 414
2025-07-21 07:59:57.986 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:59:57.987 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 07:59:58.007 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 07:59:58.009 +01:00 [INF] Provider search request received for location: Manchester
2025-07-21 07:59:58.010 +01:00 [INF] Starting provider search with filters: {"Location":"Manchester","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 07:59:58.021 +01:00 [WRN] Invalid postcode format: Manchester
2025-07-21 07:59:58.022 +01:00 [WRN] Could not resolve location: Manchester
2025-07-21 07:59:58.023 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 07:59:58.024 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.8946ms.
2025-07-21 07:59:58.025 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 07:59:58.026 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 37.4433ms
2025-07-21 07:59:58.028 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 07:59:58.029 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 42.7698 ms
2025-07-21 07:59:58.030 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 47.4267ms
2025-07-21 08:00:47.752 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 420
2025-07-21 08:00:47.754 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:00:47.755 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:00:47.770 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:00:47.771 +01:00 [INF] Provider search request received for location: Current Location
2025-07-21 08:00:47.772 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.0073ms.
2025-07-21 08:00:47.773 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:00:47.774 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 17.0823ms
2025-07-21 08:00:47.776 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:00:47.777 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 22.2411 ms
2025-07-21 08:00:47.778 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 26.2197ms
2025-07-21 08:00:53.860 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:00:53.863 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:00:53.864 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:00:53.879 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:00:53.880 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:00:53.881 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7242ms.
2025-07-21 08:00:53.882 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:00:53.884 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 17.7512ms
2025-07-21 08:00:53.885 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:00:53.886 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 23.7608 ms
2025-07-21 08:00:53.888 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 28.3517ms
2025-07-21 08:02:51.450 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.450 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.454 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.456 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.457 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.457 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.472 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.484 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.484 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.528 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.535 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 51.303ms.
2025-07-21 08:02:51.536 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 8.6996ms.
2025-07-21 08:02:51.538 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.540 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.541 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 81.7683ms
2025-07-21 08:02:51.543 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 70.5124ms
2025-07-21 08:02:51.544 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.546 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.547 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 93.3946 ms
2025-07-21 08:02:51.548 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 92.1274 ms
2025-07-21 08:02:51.550 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 99.5716ms
2025-07-21 08:02:51.551 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 101.1997ms
2025-07-21 08:02:51.611 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.611 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.616 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.620 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.622 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.624 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.641 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.659 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.659 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.661 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.661 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.7569ms.
2025-07-21 08:02:51.662 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.2882ms.
2025-07-21 08:02:51.664 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.665 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.666 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 40.0236ms
2025-07-21 08:02:51.667 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 18.7935ms
2025-07-21 08:02:51.668 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.669 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.669 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.670 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.670 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 54.3957 ms
2025-07-21 08:02:51.673 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.675 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.675 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 55.1897 ms
2025-07-21 08:02:51.677 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 65.9456ms
2025-07-21 08:02:51.678 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.679 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.681 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 69.8679ms
2025-07-21 08:02:51.697 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.712 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.715 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.716 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.717 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.7908ms.
2025-07-21 08:02:51.718 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.5998ms.
2025-07-21 08:02:51.719 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.720 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.721 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 36.274ms
2025-07-21 08:02:51.722 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 24.6068ms
2025-07-21 08:02:51.723 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.724 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.725 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 52.0391 ms
2025-07-21 08:02:51.726 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 51.6653 ms
2025-07-21 08:02:51.726 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.728 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 58.8154ms
2025-07-21 08:02:51.729 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 60.1262ms
2025-07-21 08:02:51.731 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.737 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.750 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.751 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.752 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7022ms.
2025-07-21 08:02:51.753 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.754 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 15.4204ms
2025-07-21 08:02:51.755 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.756 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 24.5615 ms
2025-07-21 08:02:51.756 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.757 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.757 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.758 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 31.3516ms
2025-07-21 08:02:51.760 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.762 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.764 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.768 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.768 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.769 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.783 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.795 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.806 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.806 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.807 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.808 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.809 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.7015ms.
2025-07-21 08:02:51.810 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.3335ms.
2025-07-21 08:02:51.810 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.1855ms.
2025-07-21 08:02:51.811 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.812 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.814 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.817 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 21.3908ms
2025-07-21 08:02:51.816 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 32.885ms
2025-07-21 08:02:51.815 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 44.0001ms
2025-07-21 08:02:51.818 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.819 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.821 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.822 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 57.7099 ms
2025-07-21 08:02:51.823 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 60.7209 ms
2025-07-21 08:02:51.823 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 63.3311 ms
2025-07-21 08:02:51.825 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 67.2958ms
2025-07-21 08:02:51.826 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 69.0065ms
2025-07-21 08:02:51.828 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 71.2983ms
2025-07-21 08:02:51.849 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:51.852 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.853 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:51.865 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:51.866 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:51.867 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.6985ms.
2025-07-21 08:02:51.868 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:51.870 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 14.9808ms
2025-07-21 08:02:51.871 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:51.872 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 19.4551 ms
2025-07-21 08:02:51.873 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 23.8888ms
2025-07-21 08:02:53.322 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.325 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.326 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.350 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.350 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.350 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.351 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.354 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.356 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.357 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 5.6814ms.
2025-07-21 08:02:53.358 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.359 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.360 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.378 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.378 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.360 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.397 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.397 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.398 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.399 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.401 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.402 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.411 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.409 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.437 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.518 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.518 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.412 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 9.9483ms.
2025-07-21 08:02:53.605 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.604 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.407 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.409 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.403 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 74.5554ms
2025-07-21 08:02:53.621 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 15.778ms.
2025-07-21 08:02:53.620 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.622 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.620 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.642 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.643 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.623 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.640 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.657 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 156.8701ms
2025-07-21 08:02:53.658 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 14.7829ms.
2025-07-21 08:02:53.655 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.655 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 293.27ms
2025-07-21 08:02:53.640 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.404 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.468 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.605 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:53.504 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.558 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.589 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:02:53.605 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:53.605 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:53.671 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.671 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.672 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.674 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.674 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.675 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.676 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 350.7852 ms
2025-07-21 08:02:53.677 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 272.8389ms.
2025-07-21 08:02:53.679 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.681 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.683 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.685 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.687 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.689 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.691 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.692 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.693 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 21.7211ms.
2025-07-21 08:02:53.694 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 292.9154 ms
2025-07-21 08:02:53.695 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 87.6922ms
2025-07-21 08:02:53.696 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 21.704ms.
2025-07-21 08:02:53.697 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 343.2226 ms
2025-07-21 08:02:53.699 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 377.0821ms
2025-07-21 08:02:53.701 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.702 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.703 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.713 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 334.6498ms
2025-07-21 08:02:53.714 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.716 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.718 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 368.0032ms
2025-07-21 08:02:53.709 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 16.8525ms.
2025-07-21 08:02:53.711 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.722 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 342.8885ms
2025-07-21 08:02:53.736 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.704 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.705 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.760 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 350.8738 ms
2025-07-21 08:02:53.761 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 116.4843ms
2025-07-21 08:02:53.764 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.766 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 140.7463ms
2025-07-21 08:02:53.767 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.767 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.757 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.779 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.706 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.707 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.794 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 396.0757ms
2025-07-21 08:02:53.795 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.796 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 137.1296ms
2025-07-21 08:02:53.797 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.799 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 442.3697 ms
2025-07-21 08:02:53.799 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 31.9676ms.
2025-07-21 08:02:53.801 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.802 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.793 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.815 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.708 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:53.829 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.832 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 231.1844 ms
2025-07-21 08:02:53.833 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.833 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 434.6096 ms
2025-07-21 08:02:53.835 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 484.4971ms
2025-07-21 08:02:53.836 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.837 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 36.5ms.
2025-07-21 08:02:53.838 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 36.3014ms.
2025-07-21 08:02:53.839 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.840 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.854 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:53.855 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.856 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 443.3706ms
2025-07-21 08:02:53.857 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 449.7962 ms
2025-07-21 08:02:53.858 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 498.6142ms
2025-07-21 08:02:53.862 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 137.9693ms
2025-07-21 08:02:53.863 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.864 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.866 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 27.0407ms.
2025-07-21 08:02:53.867 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 26.6275ms.
2025-07-21 08:02:53.868 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:53.868 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 14.0611ms.
2025-07-21 08:02:53.873 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 475.4186ms
2025-07-21 08:02:53.876 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.878 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 140.7763ms
2025-07-21 08:02:53.879 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 109.8048ms
2025-07-21 08:02:53.880 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.882 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.883 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 15.489ms.
2025-07-21 08:02:53.884 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.888 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 208.5325 ms
2025-07-21 08:02:53.889 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.890 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.891 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 110.8765ms
2025-07-21 08:02:53.892 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 88.6267ms
2025-07-21 08:02:53.893 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:53.894 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 78.2408ms
2025-07-21 08:02:53.896 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 456.2123ms
2025-07-21 08:02:53.897 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 215.8690 ms
2025-07-21 08:02:53.898 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 214.5184 ms
2025-07-21 08:02:53.899 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.900 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.901 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 59.5944ms
2025-07-21 08:02:53.902 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.906 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 301.8419ms
2025-07-21 08:02:53.908 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 407.8502ms
2025-07-21 08:02:53.909 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 223.8148 ms
2025-07-21 08:02:53.910 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 222.5735 ms
2025-07-21 08:02:53.911 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:53.912 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 223.2567 ms
2025-07-21 08:02:53.920 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 397.3663ms
2025-07-21 08:02:53.922 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 333.5678ms
2025-07-21 08:02:53.929 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 237.3651 ms
2025-07-21 08:02:53.933 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 327.9578ms
2025-07-21 08:02:53.942 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 337.4425ms
2025-07-21 08:02:54.730 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:54.732 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:54.733 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:54.754 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:54.755 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:54.756 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.9869ms.
2025-07-21 08:02:54.759 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:54.760 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 25.1182ms
2025-07-21 08:02:54.762 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:54.763 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 30.8574 ms
2025-07-21 08:02:54.765 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 35.1799ms
2025-07-21 08:02:56.058 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:56.062 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:56.063 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:56.080 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:56.080 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:56.082 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:56.083 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:56.084 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:56.085 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.7705ms.
2025-07-21 08:02:56.098 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:56.098 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:56.098 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:56.099 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:56.101 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:56.102 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 37.5129ms
2025-07-21 08:02:56.103 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3.6993ms.
2025-07-21 08:02:56.104 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:56.105 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:56.107 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:56.121 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:56.121 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:56.121 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 59.1609 ms
2025-07-21 08:02:56.122 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 36.1762ms
2025-07-21 08:02:56.123 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:56.126 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:56.127 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 68.7086ms
2025-07-21 08:02:56.128 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:56.128 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 5.286ms.
2025-07-21 08:02:56.129 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:56.132 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 50.4282 ms
2025-07-21 08:02:56.134 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:56.147 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:56.148 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 67.8942ms
2025-07-21 08:02:56.149 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 40.0083ms
2025-07-21 08:02:56.150 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:56.153 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:56.154 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 4.7138ms.
2025-07-21 08:02:56.155 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 54.0140 ms
2025-07-21 08:02:56.157 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:56.158 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 59.8635ms
2025-07-21 08:02:56.159 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 24.2546ms
2025-07-21 08:02:56.162 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:56.164 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 38.2798 ms
2025-07-21 08:02:56.165 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 44.3455ms
2025-07-21 08:02:56.994 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:56.996 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:56.998 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:57.017 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:57.017 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:57.019 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:57.028 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:57.028 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:57.032 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 13.2035ms.
2025-07-21 08:02:57.034 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:57.036 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:02:57.037 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:57.039 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:57.054 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:57.056 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:57.056 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:57.057 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 57.6843ms
2025-07-21 08:02:57.058 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:57.059 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:02:57.071 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:57.072 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 13.7362ms.
2025-07-21 08:02:57.071 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:57.085 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:02:57.087 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:57.090 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:57.092 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 95.4172 ms
2025-07-21 08:02:57.093 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:02:57.096 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 8.4297ms.
2025-07-21 08:02:57.097 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 56.2739ms
2025-07-21 08:02:57.101 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 107.567ms
2025-07-21 08:02:57.102 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 9.6267ms.
2025-07-21 08:02:57.104 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:57.105 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:57.110 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:02:57.111 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 50.1023ms
2025-07-21 08:02:57.112 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 84.1359 ms
2025-07-21 08:02:57.113 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 39.4579ms
2025-07-21 08:02:57.115 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:57.116 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 99.3688ms
2025-07-21 08:02:57.117 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:02:57.118 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 81.0564 ms
2025-07-21 08:02:57.122 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 66.4815 ms
2025-07-21 08:02:57.124 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 95.5595ms
2025-07-21 08:02:57.125 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 89.7492ms
2025-07-21 08:03:06.183 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:03:06.188 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.189 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:06.220 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:06.221 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:03:06.221 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:03:06.232 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.221 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:03:06.222 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:06.225 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:03:06.226 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.221 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:03:06.232 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:03:06.235 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:06.238 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.266 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.240 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:03:06.242 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.244 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:06.238 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 16.3681ms.
2025-07-21 08:03:06.287 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:06.293 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.295 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:06.310 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:06.328 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:06.328 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:06.329 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:06.285 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:06.346 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.347 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:06.363 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:06.343 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:06.343 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:06.285 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:06.311 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:06.262 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.376 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:06.376 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:06.377 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 30.2993ms.
2025-07-21 08:03:06.379 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:06.380 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:06.381 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 37.24ms.
2025-07-21 08:03:06.385 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:06.382 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:06.383 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 191.8304ms
2025-07-21 08:03:06.384 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:06.398 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:06.398 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:06.399 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 20.6205ms.
2025-07-21 08:03:06.400 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 20.0699ms.
2025-07-21 08:03:06.401 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:06.402 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 17.0635ms.
2025-07-21 08:03:06.402 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 20.4233ms.
2025-07-21 08:03:06.404 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.417 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:06.417 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:06.418 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 105.6863ms
2025-07-21 08:03:06.420 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:06.421 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:06.422 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 125.1271ms
2025-07-21 08:03:06.423 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:06.424 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:06.425 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 237.5234 ms
2025-07-21 08:03:06.426 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:06.427 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 9.8723ms.
2025-07-21 08:03:06.428 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.429 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 80.084ms
2025-07-21 08:03:06.430 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 100.1905ms
2025-07-21 08:03:06.431 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.433 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 68.7317ms
2025-07-21 08:03:06.434 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 165.6208ms
2025-07-21 08:03:06.435 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 251.7637ms
2025-07-21 08:03:06.436 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 9.6978ms.
2025-07-21 08:03:06.437 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:06.438 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 171.5738 ms
2025-07-21 08:03:06.439 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.440 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.442 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 215.5599 ms
2025-07-21 08:03:06.443 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.444 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.449 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:06.450 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 63.824ms
2025-07-21 08:03:06.451 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 220.057ms
2025-07-21 08:03:06.452 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 158.5177 ms
2025-07-21 08:03:06.453 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 210.8617 ms
2025-07-21 08:03:06.454 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 233.6842ms
2025-07-21 08:03:06.455 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 217.5424 ms
2025-07-21 08:03:06.456 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 224.2720 ms
2025-07-21 08:03:06.457 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 51.9936ms
2025-07-21 08:03:06.458 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.462 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 221.9604ms
2025-07-21 08:03:06.463 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 238.5061ms
2025-07-21 08:03:06.467 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 246.4481ms
2025-07-21 08:03:06.468 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 247.7434ms
2025-07-21 08:03:06.469 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.470 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 124.5543 ms
2025-07-21 08:03:06.482 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 220.1562 ms
2025-07-21 08:03:06.483 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 154.8565ms
2025-07-21 08:03:06.485 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 264.0316ms
2025-07-21 08:03:06.567 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:06.571 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.573 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:06.586 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:06.587 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:06.588 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7464ms.
2025-07-21 08:03:06.589 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:06.590 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 16.2346ms
2025-07-21 08:03:06.591 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:06.592 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 21.0586 ms
2025-07-21 08:03:06.594 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 27.4182ms
2025-07-21 08:03:07.029 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:07.029 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:07.033 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.035 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 414
2025-07-21 08:03:07.035 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.036 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.039 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.040 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.051 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.051 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.061 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.061 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.074 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.075 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.076 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 14.5314ms.
2025-07-21 08:03:07.077 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.077 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.1735ms.
2025-07-21 08:03:07.079 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.079 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.9409ms.
2025-07-21 08:03:07.081 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.082 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 40.385ms
2025-07-21 08:03:07.084 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.085 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 32.6346ms
2025-07-21 08:03:07.086 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.087 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 24.4048ms
2025-07-21 08:03:07.088 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.089 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 56.5690 ms
2025-07-21 08:03:07.090 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.091 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 55.9514 ms
2025-07-21 08:03:07.092 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 63.6594ms
2025-07-21 08:03:07.093 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 54.2603 ms
2025-07-21 08:03:07.095 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 65.9094ms
2025-07-21 08:03:07.098 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 63.8055ms
2025-07-21 08:03:07.103 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:07.104 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:07.107 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.109 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.110 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.111 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.123 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.131 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.132 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.133 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.134 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.8791ms.
2025-07-21 08:03:07.134 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.6656ms.
2025-07-21 08:03:07.136 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.137 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.138 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 25.5163ms
2025-07-21 08:03:07.140 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.139 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 15.7971ms
2025-07-21 08:03:07.141 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 34.4748 ms
2025-07-21 08:03:07.142 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.143 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 39.8785ms
2025-07-21 08:03:07.144 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 34.7271 ms
2025-07-21 08:03:07.148 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 44.0321ms
2025-07-21 08:03:07.228 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 414
2025-07-21 08:03:07.230 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 416
2025-07-21 08:03:07.231 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.233 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.234 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.236 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.250 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.261 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.261 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.262 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.263 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.845ms.
2025-07-21 08:03:07.264 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.3892ms.
2025-07-21 08:03:07.265 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.266 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.267 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 29.5273ms
2025-07-21 08:03:07.268 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 16.9045ms
2025-07-21 08:03:07.269 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.270 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.270 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 39.4872 ms
2025-07-21 08:03:07.271 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 37.9693 ms
2025-07-21 08:03:07.273 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 44.8006ms
2025-07-21 08:03:07.274 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 44.5384ms
2025-07-21 08:03:07.292 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:07.294 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.295 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.296 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:07.306 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.308 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.308 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.309 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.310 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.3933ms.
2025-07-21 08:03:07.319 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.320 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:07.320 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.321 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.323 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.325 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 27.9207ms
2025-07-21 08:03:07.325 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3.9948ms.
2025-07-21 08:03:07.326 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.327 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.328 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.338 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.339 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 44.4766 ms
2025-07-21 08:03:07.340 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 28.5101ms
2025-07-21 08:03:07.340 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.342 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 49.4489ms
2025-07-21 08:03:07.343 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.343 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.9174ms.
2025-07-21 08:03:07.346 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 38.4549 ms
2025-07-21 08:03:07.347 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.348 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 52.2039ms
2025-07-21 08:03:07.349 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 19.8607ms
2025-07-21 08:03:07.353 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.354 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 30.9049 ms
2025-07-21 08:03:07.356 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 36.2487ms
2025-07-21 08:03:07.423 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:07.426 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.427 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.440 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.441 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.442 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7858ms.
2025-07-21 08:03:07.443 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.446 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 16.7296ms
2025-07-21 08:03:07.447 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.448 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:07.448 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 22.3462 ms
2025-07-21 08:03:07.450 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.452 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 29.1071ms
2025-07-21 08:03:07.453 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.467 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.468 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.469 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7525ms.
2025-07-21 08:03:07.470 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.471 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 13.865ms
2025-07-21 08:03:07.472 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.473 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 22.8530 ms
2025-07-21 08:03:07.475 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 27.2942ms
2025-07-21 08:03:07.539 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:07.543 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.544 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:07.554 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:07.556 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:07.556 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7408ms.
2025-07-21 08:03:07.558 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:07.559 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 13.0106ms
2025-07-21 08:03:07.560 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:07.561 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 17.1187 ms
2025-07-21 08:03:07.562 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 22.9899ms
2025-07-21 08:03:08.380 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 414
2025-07-21 08:03:08.384 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:08.386 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:08.403 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:08.404 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:08.405 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.9184ms.
2025-07-21 08:03:08.406 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:08.407 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 19.4979ms
2025-07-21 08:03:08.408 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:08.409 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 25.0762 ms
2025-07-21 08:03:08.411 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 30.7917ms
2025-07-21 08:03:08.437 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:08.440 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:08.441 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:08.451 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:08.452 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:08.453 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7177ms.
2025-07-21 08:03:08.454 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:08.455 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 12.0418ms
2025-07-21 08:03:08.456 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:08.457 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 16.6443 ms
2025-07-21 08:03:08.459 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 22.1118ms
2025-07-21 08:03:28.025 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 419
2025-07-21 08:03:28.027 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:28.028 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:28.043 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:28.045 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:28.046 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.0861ms.
2025-07-21 08:03:28.047 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:28.048 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 16.9279ms
2025-07-21 08:03:28.050 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:28.051 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 23.3299 ms
2025-07-21 08:03:28.052 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 27.335ms
2025-07-21 08:03:29.025 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 419
2025-07-21 08:03:29.028 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:29.029 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:29.046 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:29.047 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:29.048 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7928ms.
2025-07-21 08:03:29.049 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:29.050 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 18.7309ms
2025-07-21 08:03:29.052 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:29.053 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 24.6893 ms
2025-07-21 08:03:29.054 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 29.2195ms
2025-07-21 08:03:29.713 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 414
2025-07-21 08:03:29.716 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:29.717 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:29.728 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:29.729 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:29.730 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7099ms.
2025-07-21 08:03:29.732 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:29.733 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 14.3533ms
2025-07-21 08:03:29.734 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:29.736 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 19.6430 ms
2025-07-21 08:03:29.737 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 23.7955ms
2025-07-21 08:03:31.566 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:31.569 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:31.570 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:31.595 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:31.600 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:31.601 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.2233ms.
2025-07-21 08:03:31.603 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:31.605 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 32.4133ms
2025-07-21 08:03:31.606 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:31.611 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 41.8095 ms
2025-07-21 08:03:31.613 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 47.1772ms
2025-07-21 08:03:32.530 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 417
2025-07-21 08:03:32.533 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:32.534 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:32.547 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:32.548 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:32.549 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.86ms.
2025-07-21 08:03:32.551 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:32.552 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 16.2726ms
2025-07-21 08:03:32.554 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:32.555 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 22.7907 ms
2025-07-21 08:03:32.557 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 27.1481ms
2025-07-21 08:03:33.767 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 415
2025-07-21 08:03:33.770 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:33.772 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:33.785 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:33.786 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:33.787 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7388ms.
2025-07-21 08:03:33.788 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:33.790 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 15.9824ms
2025-07-21 08:03:33.791 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:33.792 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 21.7830 ms
2025-07-21 08:03:33.795 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 27.3511ms
2025-07-21 08:03:47.099 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 414
2025-07-21 08:03:47.101 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:47.102 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:47.116 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:47.117 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:47.118 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.8673ms.
2025-07-21 08:03:47.120 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:47.121 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 16.7392ms
2025-07-21 08:03:47.122 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:47.123 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 21.9596 ms
2025-07-21 08:03:47.125 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 26.286ms
2025-07-21 08:03:48.248 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 414
2025-07-21 08:03:48.251 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:48.252 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:03:48.265 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:03:48.266 +01:00 [INF] Provider search request received for location: Southampton
2025-07-21 08:03:48.267 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.8386ms.
2025-07-21 08:03:48.269 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:03:48.270 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 15.7206ms
2025-07-21 08:03:48.271 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:03:48.272 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 20.9597 ms
2025-07-21 08:03:48.273 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 25.325ms
2025-07-21 08:09:07.060 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 08:09:07.646 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 08:09:07.759 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 08:09:07.801 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 08:09:08.201 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 08:09:08.685 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 08:09:08.816 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 08:09:08.877 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 08:09:08.878 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 08:09:08.879 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 08:09:08.881 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 08:09:08.882 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 08:09:08.883 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 08:09:09.559 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 08:09:09.571 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 08:09:09.605 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 08:09:09.681 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 08:09:09.733 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 08:09:09.746 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 08:09:09.766 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 08:09:09.779 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 08:09:09.807 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 08:09:09.811 +01:00 [INF] Database migrations applied successfully
2025-07-21 08:09:09.814 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 08:09:09.836 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 08:09:10.106 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 08:09:10.107 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 08:09:10.183 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 08:09:10.185 +01:00 [INF] Hosting environment: Development
2025-07-21 08:09:10.186 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 08:09:10.476 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 08:09:10.693 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 221.6877ms
2025-07-21 08:09:10.726 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 08:09:10.738 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 11.7015ms
2025-07-21 08:09:10.815 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 08:09:10.906 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 08:09:10.924 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 08:09:10.982 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:09:11.141 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 08:09:11.193 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.9722ms
2025-07-21 08:09:11.660 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 08:09:11.715 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.5913ms
2025-07-21 08:09:11.954 +01:00 [INF] Executed DbCommand (548ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 08:09:11.992 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1005.8273ms.
2025-07-21 08:09:12.001 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 08:09:12.027 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1098.3692ms
2025-07-21 08:09:12.030 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 08:09:12.034 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1210.2292 ms
2025-07-21 08:09:12.041 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1225.894ms
2025-07-21 08:09:12.058 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 08:09:12.063 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 08:09:12.064 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 08:09:12.079 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:09:12.081 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2048ms.
2025-07-21 08:09:12.083 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 08:09:12.085 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.7909ms
2025-07-21 08:09:12.086 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 08:09:12.088 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.2528 ms
2025-07-21 08:09:12.090 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 31.9068ms
2025-07-21 08:09:14.608 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 08:09:14.613 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 08:09:14.615 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 08:09:14.632 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:09:14.634 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.122ms.
2025-07-21 08:09:14.636 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 08:09:14.638 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 21.4047ms
2025-07-21 08:09:14.640 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 08:09:14.641 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 30.3685 ms
2025-07-21 08:09:14.643 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 35.5475ms
2025-07-21 08:09:15.032 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 08:09:15.035 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:09:15.045 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:09:15.099 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:09:15.102 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 08:09:15.112 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 08:09:15.134 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 5 miles
2025-07-21 08:09:15.834 +01:00 [INF] Executed DbCommand (551ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsVerified], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 08:09:15.838 +01:00 [INF] Found 0 real providers within 5 miles
2025-07-21 08:09:15.840 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 08:09:15.841 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 08:09:15.843 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 742.4168ms.
2025-07-21 08:09:15.844 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 08:09:15.857 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 810.8885ms
2025-07-21 08:09:15.858 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:09:15.859 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 823.8685 ms
2025-07-21 08:09:15.861 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 829.3289ms
2025-07-21 08:09:16.156 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 08:09:16.159 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 08:09:16.159 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 08:09:16.170 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:09:16.171 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.064ms.
2025-07-21 08:09:16.173 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 08:09:16.174 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 13.3917ms
2025-07-21 08:09:16.176 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 08:09:16.177 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 18.3423 ms
2025-07-21 08:09:16.179 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 23.2551ms
2025-07-21 08:09:16.399 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 08:09:16.403 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:09:16.405 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:09:16.427 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:09:16.428 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 08:09:16.430 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 08:09:16.443 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_5_services_grooming_pets_1
2025-07-21 08:09:16.444 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 08:09:16.445 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.7647ms.
2025-07-21 08:09:16.447 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 08:09:16.449 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 41.6424ms
2025-07-21 08:09:16.451 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:09:16.451 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 48.2237 ms
2025-07-21 08:09:16.454 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 54.7583ms
2025-07-21 08:09:23.110 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 420
2025-07-21 08:09:23.112 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:09:23.114 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:09:23.130 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:09:23.131 +01:00 [INF] Provider search request received for location: Current Location
2025-07-21 08:09:23.133 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.7866ms.
2025-07-21 08:09:23.135 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:09:23.137 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 21.5677ms
2025-07-21 08:09:23.138 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:09:23.139 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 27.4450 ms
2025-07-21 08:09:23.141 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 31.7ms
2025-07-21 08:13:04.772 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 420
2025-07-21 08:13:04.774 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:13:04.775 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:13:04.787 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:13:04.788 +01:00 [INF] Provider search request received for location: Current Location
2025-07-21 08:13:04.789 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.8541ms.
2025-07-21 08:13:04.790 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:13:04.791 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 15.1451ms
2025-07-21 08:13:04.792 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:13:04.794 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 19.9056 ms
2025-07-21 08:13:04.795 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 23.5448ms
2025-07-21 08:13:06.377 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 420
2025-07-21 08:13:06.380 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:13:06.381 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:13:06.395 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:13:06.396 +01:00 [INF] Provider search request received for location: Current Location
2025-07-21 08:13:06.397 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.8371ms.
2025-07-21 08:13:06.398 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:13:06.399 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 16.216ms
2025-07-21 08:13:06.400 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:13:06.401 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 21.4311 ms
2025-07-21 08:13:06.403 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 26.2886ms
2025-07-21 08:13:07.052 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 420
2025-07-21 08:13:07.055 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:13:07.056 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:13:07.073 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:13:07.075 +01:00 [INF] Provider search request received for location: Current Location
2025-07-21 08:13:07.077 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.0999ms.
2025-07-21 08:13:07.079 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:13:07.080 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 21.9682ms
2025-07-21 08:13:07.081 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:13:07.082 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 26.7351 ms
2025-07-21 08:13:07.084 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 31.7291ms
2025-07-21 08:13:07.446 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 420
2025-07-21 08:13:07.448 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:13:07.450 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 08:13:07.463 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 08:13:07.464 +01:00 [INF] Provider search request received for location: Current Location
2025-07-21 08:13:07.465 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.785ms.
2025-07-21 08:13:07.467 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 08:13:07.468 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 16.2488ms
2025-07-21 08:13:07.469 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 08:13:07.470 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 21.5872 ms
2025-07-21 08:13:07.472 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 25.9349ms
2025-07-21 09:00:07.405 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 09:00:07.416 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 11.0941ms
2025-07-21 10:58:34.100 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 10:58:34.829 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 10:58:34.963 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 10:58:35.003 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 10:58:38.131 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 10:58:38.664 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 10:58:38.812 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 10:58:38.883 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 10:58:38.884 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 10:58:38.886 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 10:58:38.887 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 10:58:38.889 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 10:58:38.890 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 10:58:39.295 +01:00 [FTL] An error occurred while migrating or seeding the database
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 379
2025-07-21 10:58:39.369 +01:00 [FTL] Application failed to start
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 379
2025-07-21 11:03:13.995 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:03:14.799 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:03:14.977 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:03:15.074 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:03:15.699 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:03:16.445 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:03:16.605 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:03:16.675 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:03:16.677 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:03:16.679 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:03:16.680 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:03:16.683 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:03:16.684 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:03:17.408 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:03:17.424 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:03:17.463 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:03:17.534 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:03:17.594 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:03:17.609 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:03:17.627 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:03:17.643 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:03:17.674 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:03:17.680 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:03:17.684 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:03:17.713 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:03:17.956 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:03:17.957 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:03:18.014 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:03:18.015 +01:00 [INF] Hosting environment: Development
2025-07-21 11:03:18.016 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:03:18.245 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:03:18.424 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:03:18.432 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:03:18.447 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:03:18.531 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:03:18.629 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 204.2488ms
2025-07-21 11:03:18.648 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:03:18.656 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 8.3442ms
2025-07-21 11:03:19.034 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:03:19.074 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.3402ms
2025-07-21 11:03:19.416 +01:00 [INF] Executed DbCommand (545ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:03:19.469 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 934.4657ms.
2025-07-21 11:03:19.476 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:03:19.478 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:03:19.562 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1106.7376ms
2025-07-21 11:03:19.565 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:03:19.569 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1227.9266 ms
2025-07-21 11:03:19.569 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.2204ms
2025-07-21 11:03:19.575 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1337.0864ms
2025-07-21 11:03:19.596 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:03:19.601 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:03:19.603 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:03:19.626 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:03:19.628 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2153ms.
2025-07-21 11:03:19.631 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:03:19.633 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 28.5364ms
2025-07-21 11:03:19.635 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:03:19.636 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 35.8114 ms
2025-07-21 11:03:19.638 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 42.8298ms
2025-07-21 11:03:26.171 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:03:26.177 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:03:26.191 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:03:26.230 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:03:26.234 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5832ms.
2025-07-21 11:03:26.235 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:03:26.238 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 45.1532ms
2025-07-21 11:03:26.240 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:03:26.241 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 66.7433 ms
2025-07-21 11:03:26.244 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 72.6878ms
2025-07-21 11:03:26.396 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:03:26.399 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:03:26.404 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:03:26.419 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:03:26.422 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:03:26.428 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:03:26.445 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:03:26.446 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:03:26.448 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.1214ms.
2025-07-21 11:03:26.449 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:03:26.461 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 54.8366ms
2025-07-21 11:03:26.462 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:03:26.463 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 64.2502 ms
2025-07-21 11:03:26.465 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 69.3513ms
2025-07-21 11:03:29.496 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:03:29.500 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:03:29.501 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:03:29.517 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:03:29.519 +01:00 [INF] Getting nearby providers at 51.5074,-0.1278 within 25 miles
2025-07-21 11:03:29.520 +01:00 [INF] Starting provider search with filters: {"Location":"51.5074,-0.1278","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:03:29.531 +01:00 [WRN] Invalid postcode format: 51.5074,-0.1278
2025-07-21 11:03:29.533 +01:00 [WRN] Could not resolve location: 51.5074,-0.1278
2025-07-21 11:03:29.533 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.9138ms.
2025-07-21 11:03:29.535 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:03:29.536 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.8546ms
2025-07-21 11:03:29.538 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:03:29.539 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 39.3944 ms
2025-07-21 11:03:29.541 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 44.6505ms
2025-07-21 11:07:43.094 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:07:43.953 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:07:44.114 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:07:44.158 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:07:44.640 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:07:45.252 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:07:45.409 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:07:45.483 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:07:45.485 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:07:45.486 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:07:45.487 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:07:45.489 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:07:45.490 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:07:46.295 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:07:46.308 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:07:46.348 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:07:46.427 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:07:46.479 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:07:46.495 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:07:46.549 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:07:46.564 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:07:46.600 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:07:46.605 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:07:46.610 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:07:46.649 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:07:46.953 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:07:46.955 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:07:47.037 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:07:47.038 +01:00 [INF] Hosting environment: Development
2025-07-21 11:07:47.039 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:07:47.076 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:07:47.227 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:07:47.250 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:07:47.332 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:07:47.442 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:07:47.629 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 186.2565ms
2025-07-21 11:07:47.655 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:07:47.664 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.0603ms
2025-07-21 11:07:48.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:07:48.063 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.1485ms
2025-07-21 11:07:48.317 +01:00 [INF] Executed DbCommand (543ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:07:48.358 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1021.1215ms.
2025-07-21 11:07:48.373 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:07:48.412 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1156.8548ms
2025-07-21 11:07:48.415 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:07:48.420 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1272.1891 ms
2025-07-21 11:07:48.432 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1367.7382ms
2025-07-21 11:07:48.482 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:07:48.520 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:07:48.526 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:07:48.528 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:07:48.548 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:07:48.550 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2392ms.
2025-07-21 11:07:48.552 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:07:48.555 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.4591ms
2025-07-21 11:07:48.556 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:07:48.557 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.6831ms
2025-07-21 11:07:48.558 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 32.2750 ms
2025-07-21 11:07:48.563 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 43.3205ms
2025-07-21 11:08:15.180 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:08:15.252 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:08:15.263 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:08:15.303 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:08:15.307 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.9754ms.
2025-07-21 11:08:15.309 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:08:15.313 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 47.4065ms
2025-07-21 11:08:15.314 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:08:15.315 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 66.4222 ms
2025-07-21 11:08:15.317 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 138.1711ms
2025-07-21 11:08:15.400 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:08:15.404 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:08:15.410 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:08:15.430 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:08:15.435 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:08:15.443 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:08:15.461 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:08:15.463 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:08:15.465 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.5493ms.
2025-07-21 11:08:15.467 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:08:15.482 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 69.8145ms
2025-07-21 11:08:15.484 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:08:15.485 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 80.5335 ms
2025-07-21 11:08:15.487 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 87.0566ms
2025-07-21 11:08:16.852 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:08:16.855 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:08:16.856 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:08:16.875 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:08:16.876 +01:00 [INF] Getting nearby providers at 51.5074,-0.1278 within 25 miles
2025-07-21 11:08:16.878 +01:00 [INF] Starting provider search with filters: {"Location":"51.5074,-0.1278","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:08:16.890 +01:00 [WRN] Invalid postcode format: 51.5074,-0.1278
2025-07-21 11:08:16.890 +01:00 [WRN] Could not resolve location: 51.5074,-0.1278
2025-07-21 11:08:16.891 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.1516ms.
2025-07-21 11:08:16.893 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:08:16.895 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 36.556ms
2025-07-21 11:08:16.897 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:08:16.898 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 42.9460 ms
2025-07-21 11:08:16.900 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 47.781ms
2025-07-21 11:08:18.758 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:08:18.760 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:08:18.761 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:08:18.778 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:08:18.779 +01:00 [INF] Getting nearby providers at 51.5074,-0.1278 within 25 miles
2025-07-21 11:08:18.781 +01:00 [INF] Starting provider search with filters: {"Location":"51.5074,-0.1278","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:08:18.794 +01:00 [WRN] Invalid postcode format: 51.5074,-0.1278
2025-07-21 11:08:18.794 +01:00 [WRN] Could not resolve location: 51.5074,-0.1278
2025-07-21 11:08:18.795 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.7756ms.
2025-07-21 11:08:18.797 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:08:18.799 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.6218ms
2025-07-21 11:08:18.800 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:08:18.801 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41.0940 ms
2025-07-21 11:08:18.803 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 45.5587ms
2025-07-21 11:08:20.785 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:08:20.790 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:08:20.791 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:08:20.806 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:08:20.808 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0895ms.
2025-07-21 11:08:20.809 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:08:20.811 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.4849ms
2025-07-21 11:08:20.813 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:08:20.813 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 24.9576 ms
2025-07-21 11:08:20.816 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 30.2628ms
2025-07-21 11:08:21.838 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 11:08:21.841 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:08:21.846 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:08:21.885 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:08:21.888 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:08:21.893 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:08:21.914 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 5 miles
2025-07-21 11:08:22.652 +01:00 [INF] Executed DbCommand (558ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:08:22.655 +01:00 [INF] Found 0 real providers within 5 miles
2025-07-21 11:08:22.657 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:08:22.658 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:08:22.660 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 773.8827ms.
2025-07-21 11:08:22.662 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:08:22.673 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 824.8817ms
2025-07-21 11:08:22.674 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:08:22.675 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 834.2498 ms
2025-07-21 11:08:22.677 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 839.7456ms
2025-07-21 11:08:22.691 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-21 11:08:22.694 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:08:22.695 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:08:22.714 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:08:22.716 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-21 11:08:22.717 +01:00 [INF] Starting provider search with filters: {"Location":"0,0","Latitude":null,"Longitude":null,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:08:22.729 +01:00 [WRN] Invalid postcode format: 0,0
2025-07-21 11:08:22.730 +01:00 [WRN] Could not resolve location: 0,0
2025-07-21 11:08:22.731 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.3232ms.
2025-07-21 11:08:22.732 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:08:22.733 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 36.4792ms
2025-07-21 11:08:22.735 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:08:22.736 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 42.3329 ms
2025-07-21 11:08:22.738 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 46.7128ms
2025-07-21 11:09:31.600 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:09:31.602 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:09:31.604 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:09:31.622 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:09:31.624 +01:00 [INF] Getting nearby providers at 51.5074,-0.1278 within 25 miles
2025-07-21 11:09:31.626 +01:00 [INF] Starting provider search with filters: {"Location":"51.5074,-0.1278","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:09:31.640 +01:00 [WRN] Invalid postcode format: 51.5074,-0.1278
2025-07-21 11:09:31.641 +01:00 [WRN] Could not resolve location: 51.5074,-0.1278
2025-07-21 11:09:31.641 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.4176ms.
2025-07-21 11:09:31.643 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:09:31.644 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 39.3774ms
2025-07-21 11:09:31.646 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:09:31.647 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 44.5509 ms
2025-07-21 11:09:31.648 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 48.8147ms
2025-07-21 11:09:32.191 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:09:32.193 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:09:32.194 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:09:32.211 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:09:32.223 +01:00 [INF] Getting nearby providers at 51.5074,-0.1278 within 25 miles
2025-07-21 11:09:32.225 +01:00 [INF] Starting provider search with filters: {"Location":"51.5074,-0.1278","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:09:32.236 +01:00 [WRN] Invalid postcode format: 51.5074,-0.1278
2025-07-21 11:09:32.237 +01:00 [WRN] Could not resolve location: 51.5074,-0.1278
2025-07-21 11:09:32.238 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.4725ms.
2025-07-21 11:09:32.240 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:09:32.241 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 44.9334ms
2025-07-21 11:09:32.243 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:09:32.244 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 50.8402 ms
2025-07-21 11:09:32.246 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 55.5269ms
2025-07-21 11:09:33.568 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:09:33.571 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:09:33.572 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:09:33.587 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:09:33.588 +01:00 [INF] Getting nearby providers at 51.5074,-0.1278 within 25 miles
2025-07-21 11:09:33.590 +01:00 [INF] Starting provider search with filters: {"Location":"51.5074,-0.1278","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:09:33.602 +01:00 [WRN] Invalid postcode format: 51.5074,-0.1278
2025-07-21 11:09:33.603 +01:00 [WRN] Could not resolve location: 51.5074,-0.1278
2025-07-21 11:09:33.604 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.3721ms.
2025-07-21 11:09:33.605 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:09:33.606 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.5579ms
2025-07-21 11:09:33.608 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:09:33.609 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.7043 ms
2025-07-21 11:09:33.611 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 43.2663ms
2025-07-21 11:09:47.092 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:09:47.095 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:09:47.095 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:09:47.109 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:09:47.111 +01:00 [INF] Getting nearby providers at 51.5074,-0.1278 within 25 miles
2025-07-21 11:09:47.112 +01:00 [INF] Starting provider search with filters: {"Location":"51.5074,-0.1278","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:09:47.124 +01:00 [WRN] Invalid postcode format: 51.5074,-0.1278
2025-07-21 11:09:47.125 +01:00 [WRN] Could not resolve location: 51.5074,-0.1278
2025-07-21 11:09:47.126 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.0688ms.
2025-07-21 11:09:47.127 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:09:47.129 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 31.3648ms
2025-07-21 11:09:47.130 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:09:47.131 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 36.4404 ms
2025-07-21 11:09:47.133 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 40.7539ms
2025-07-21 11:10:08.959 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:10:08.965 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:10:08.966 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:10:08.984 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:10:08.987 +01:00 [INF] Getting nearby providers at 51.5074,-0.1278 within 25 miles
2025-07-21 11:10:08.988 +01:00 [INF] Starting provider search with filters: {"Location":"51.5074,-0.1278","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:10:09.001 +01:00 [WRN] Invalid postcode format: 51.5074,-0.1278
2025-07-21 11:10:09.002 +01:00 [WRN] Could not resolve location: 51.5074,-0.1278
2025-07-21 11:10:09.003 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.0789ms.
2025-07-21 11:10:09.004 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:10:09.005 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 38.2143ms
2025-07-21 11:10:09.007 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:10:09.008 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 43.4551 ms
2025-07-21 11:10:09.010 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 50.5664ms
2025-07-21 11:10:11.756 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:10:11.760 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:10:11.761 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:10:11.784 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:10:11.785 +01:00 [INF] Getting nearby providers at 51.5074,-0.1278 within 25 miles
2025-07-21 11:10:11.786 +01:00 [INF] Starting provider search with filters: {"Location":"51.5074,-0.1278","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:10:11.798 +01:00 [WRN] Invalid postcode format: 51.5074,-0.1278
2025-07-21 11:10:11.798 +01:00 [WRN] Could not resolve location: 51.5074,-0.1278
2025-07-21 11:10:11.799 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.3651ms.
2025-07-21 11:10:11.800 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:10:11.802 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.6862ms
2025-07-21 11:10:11.803 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:10:11.804 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 44.4257 ms
2025-07-21 11:10:11.806 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 49.9033ms
2025-07-21 11:10:13.462 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:10:13.465 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:10:13.466 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:10:13.482 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:10:13.483 +01:00 [INF] Getting nearby providers at 51.5074,-0.1278 within 25 miles
2025-07-21 11:10:13.484 +01:00 [INF] Starting provider search with filters: {"Location":"51.5074,-0.1278","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:10:13.496 +01:00 [WRN] Invalid postcode format: 51.5074,-0.1278
2025-07-21 11:10:13.497 +01:00 [WRN] Could not resolve location: 51.5074,-0.1278
2025-07-21 11:10:13.498 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.8796ms.
2025-07-21 11:10:13.499 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:10:13.500 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.6213ms
2025-07-21 11:10:13.502 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:10:13.503 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.3308 ms
2025-07-21 11:10:13.505 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.5074&longitude=-0.1278&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 42.6213ms
2025-07-21 11:11:20.235 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:11:20.238 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:20.240 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:11:20.260 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:11:20.262 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3761ms.
2025-07-21 11:11:20.264 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:11:20.265 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.0493ms
2025-07-21 11:11:20.267 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:20.268 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.8767 ms
2025-07-21 11:11:20.270 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 35.0258ms
2025-07-21 11:11:20.280 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:11:20.284 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:20.285 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:11:20.300 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:11:20.302 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0295ms.
2025-07-21 11:11:20.304 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:11:20.305 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.6479ms
2025-07-21 11:11:20.308 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:20.309 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.4409 ms
2025-07-21 11:11:20.312 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 31.2546ms
2025-07-21 11:11:42.022 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:11:42.025 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:42.026 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:11:42.043 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:11:42.044 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.065ms.
2025-07-21 11:11:42.046 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:11:42.048 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.6885ms
2025-07-21 11:11:42.050 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:42.051 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 26.1715 ms
2025-07-21 11:11:42.053 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 30.75ms
2025-07-21 11:11:42.061 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:11:42.063 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:42.065 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:11:42.081 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:11:42.083 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0493ms.
2025-07-21 11:11:42.084 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:11:42.085 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.8317ms
2025-07-21 11:11:42.087 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:42.088 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 24.4646 ms
2025-07-21 11:11:42.090 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 29.1831ms
2025-07-21 11:11:55.277 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:11:55.280 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:55.281 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:11:55.295 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:11:55.297 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.039ms.
2025-07-21 11:11:55.298 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:11:55.300 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 16.9663ms
2025-07-21 11:11:55.301 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:55.302 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 22.4366 ms
2025-07-21 11:11:55.304 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 27.0992ms
2025-07-21 11:11:55.314 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:11:55.317 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:55.318 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:11:55.334 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:11:55.335 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.056ms.
2025-07-21 11:11:55.338 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:11:55.339 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 17.8901ms
2025-07-21 11:11:55.340 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:55.342 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 24.4079 ms
2025-07-21 11:11:55.344 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 29.2565ms
2025-07-21 11:11:59.818 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:11:59.822 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:59.823 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:11:59.841 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:11:59.842 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0347ms.
2025-07-21 11:11:59.844 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:11:59.845 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.1036ms
2025-07-21 11:11:59.847 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:11:59.848 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.7022 ms
2025-07-21 11:11:59.850 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 31.3898ms
2025-07-21 11:12:00.137 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 11:12:00.140 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:00.141 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:00.158 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:00.160 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:00.161 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:00.176 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_5_services_grooming_pets_1
2025-07-21 11:12:00.177 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:00.178 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.6885ms.
2025-07-21 11:12:00.180 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:00.182 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 38.4907ms
2025-07-21 11:12:00.183 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:00.184 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 44.2012 ms
2025-07-21 11:12:00.186 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 49.0618ms
2025-07-21 11:12:00.366 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-21 11:12:00.369 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:12:00.370 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:00.387 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:00.388 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-21 11:12:00.390 +01:00 [INF] Starting provider search with filters: {"Location":"0,0","Latitude":null,"Longitude":null,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:00.402 +01:00 [WRN] Invalid postcode format: 0,0
2025-07-21 11:12:00.403 +01:00 [WRN] Could not resolve location: 0,0
2025-07-21 11:12:00.404 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.2692ms.
2025-07-21 11:12:00.405 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:12:00.406 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.9167ms
2025-07-21 11:12:00.408 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:12:00.409 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 40.2106 ms
2025-07-21 11:12:00.411 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 45.3764ms
2025-07-21 11:12:21.745 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:12:21.748 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:12:21.749 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:12:21.761 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:21.762 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0573ms.
2025-07-21 11:12:21.764 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:12:21.765 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 14.7791ms
2025-07-21 11:12:21.766 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:12:21.767 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 19.1801 ms
2025-07-21 11:12:21.769 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 23.9499ms
2025-07-21 11:12:22.034 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 11:12:22.037 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:22.038 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:22.056 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:22.057 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:22.058 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:22.082 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_5_services_grooming_pets_1
2025-07-21 11:12:22.082 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:22.083 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.4816ms.
2025-07-21 11:12:22.085 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:22.086 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 46.3332ms
2025-07-21 11:12:22.088 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:22.089 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 52.0005 ms
2025-07-21 11:12:22.091 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 57.3432ms
2025-07-21 11:12:22.259 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-21 11:12:22.261 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:12:22.262 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:22.282 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:22.283 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-21 11:12:22.285 +01:00 [INF] Starting provider search with filters: {"Location":"0,0","Latitude":null,"Longitude":null,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:22.299 +01:00 [WRN] Invalid postcode format: 0,0
2025-07-21 11:12:22.299 +01:00 [WRN] Could not resolve location: 0,0
2025-07-21 11:12:22.300 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.0773ms.
2025-07-21 11:12:22.302 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:12:22.303 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 38.5355ms
2025-07-21 11:12:22.305 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:12:22.306 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 44.9521 ms
2025-07-21 11:12:22.308 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 49.7149ms
2025-07-21 11:12:35.546 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 11:12:35.549 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:35.550 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:35.570 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:35.634 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:35.671 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":6,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:35.738 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 6 miles
2025-07-21 11:12:35.743 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 11:12:35.746 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:35.747 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:35.760 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:35.761 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:35.762 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":7,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:35.774 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 7 miles
2025-07-21 11:12:35.805 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 11:12:35.805 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:35.805 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:35.808 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:35.811 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:35.813 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:35.814 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:35.814 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:35.815 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:35.828 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:35.845 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:35.857 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:35.857 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:35.858 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:35.859 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:35.860 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":8,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:35.867 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:35.861 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":13,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:35.860 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":10,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:35.876 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 8 miles
2025-07-21 11:12:35.878 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:35.890 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 13 miles
2025-07-21 11:12:35.900 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 11:12:35.905 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:35.902 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 10 miles
2025-07-21 11:12:35.914 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:35.926 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:35.928 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:35.929 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:35.943 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:35.943 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":11,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:35.944 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:35.957 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 11 miles
2025-07-21 11:12:35.958 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":9,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:35.972 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 9 miles
2025-07-21 11:12:35.982 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='8'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:35.985 +01:00 [INF] Found 0 real providers within 8 miles
2025-07-21 11:12:35.986 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:35.987 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:35.988 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 131.1306ms.
2025-07-21 11:12:35.990 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:35.991 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 174.5413ms
2025-07-21 11:12:35.992 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:35.993 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 185.1528 ms
2025-07-21 11:12:35.995 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 190.3619ms
2025-07-21 11:12:36.020 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.023 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.024 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.043 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.045 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.046 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":12,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.060 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 12 miles
2025-07-21 11:12:36.156 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='9'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:36.160 +01:00 [INF] Found 0 real providers within 9 miles
2025-07-21 11:12:36.161 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:36.162 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:36.164 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 219.3398ms.
2025-07-21 11:12:36.166 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:36.168 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 236.6604ms
2025-07-21 11:12:36.169 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.171 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 257.2773 ms
2025-07-21 11:12:36.176 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 275.8738ms
2025-07-21 11:12:36.274 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:36.277 +01:00 [INF] Found 0 real providers within 6 miles
2025-07-21 11:12:36.278 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:36.279 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:36.280 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 645.8003ms.
2025-07-21 11:12:36.281 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:36.283 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 731.9971ms
2025-07-21 11:12:36.284 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.285 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 736.3194 ms
2025-07-21 11:12:36.287 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 741.5301ms
2025-07-21 11:12:36.365 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.368 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.369 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.392 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.393 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.394 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":14,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.399 +01:00 [INF] Executed DbCommand (527ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='7'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:36.409 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 14 miles
2025-07-21 11:12:36.411 +01:00 [INF] Found 0 real providers within 7 miles
2025-07-21 11:12:36.414 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:36.415 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:36.417 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 655.2494ms.
2025-07-21 11:12:36.418 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:36.420 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 671.2471ms
2025-07-21 11:12:36.421 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.422 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 676.3655 ms
2025-07-21 11:12:36.424 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 681.2352ms
2025-07-21 11:12:36.518 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.521 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.521 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.522 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.525 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.527 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.528 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.529 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.544 +01:00 [INF] Executed DbCommand (521ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:36.544 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.530 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.564 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.572 +01:00 [INF] Found 0 real providers within 10 miles
2025-07-21 11:12:36.572 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.545 +01:00 [INF] Executed DbCommand (521ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='13'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:36.587 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.587 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.587 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.588 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:36.589 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":15,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.596 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:36.592 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.595 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":17,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.591 +01:00 [INF] Found 0 real providers within 13 miles
2025-07-21 11:12:36.602 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='11'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:36.594 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.668 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.668 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.678 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 15 miles
2025-07-21 11:12:36.679 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 821.4351ms.
2025-07-21 11:12:36.680 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":19,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.692 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 17 miles
2025-07-21 11:12:36.693 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:36.695 +01:00 [INF] Found 0 real providers within 11 miles
2025-07-21 11:12:36.696 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.698 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.703 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:36.733 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.716 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 19 miles
2025-07-21 11:12:36.732 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.732 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.718 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:36.719 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:36.732 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.733 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.700 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.739 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 909.6445ms
2025-07-21 11:12:36.740 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.744 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.746 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.747 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 887.5881ms.
2025-07-21 11:12:36.747 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:36.748 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.743 +01:00 [INF] Executed DbCommand (520ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:36.760 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.761 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.762 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.763 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.763 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.783 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 971.9754 ms
2025-07-21 11:12:36.796 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.764 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.765 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:36.809 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 1003.5514ms
2025-07-21 11:12:36.810 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.808 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.766 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 836.9987ms.
2025-07-21 11:12:36.767 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":20,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.770 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.782 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.769 +01:00 [INF] Found 0 real providers within 12 miles
2025-07-21 11:12:36.827 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.827 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:36.827 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 981.4188ms
2025-07-21 11:12:36.830 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.831 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.833 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:36.845 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 20 miles
2025-07-21 11:12:36.846 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":18,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.846 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.847 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:36.848 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.850 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.851 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.862 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 25 miles
2025-07-21 11:12:36.863 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":22,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.864 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 948.7119ms
2025-07-21 11:12:36.876 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 18 miles
2025-07-21 11:12:36.877 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":21,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.878 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:36.879 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":24,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.879 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:36.880 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 1067.5108 ms
2025-07-21 11:12:36.893 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 22 miles
2025-07-21 11:12:36.921 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 24 miles
2025-07-21 11:12:36.935 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:36.936 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 1130.9602ms
2025-07-21 11:12:36.894 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.936 +01:00 [INF] Executed DbCommand (522ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='14'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:36.907 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 21 miles
2025-07-21 11:12:36.908 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 863.6472ms.
2025-07-21 11:12:36.947 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:36.951 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 1072.7622 ms
2025-07-21 11:12:36.953 +01:00 [INF] Found 0 real providers within 14 miles
2025-07-21 11:12:36.956 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:36.957 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":23,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:36.959 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 1091.8116ms
2025-07-21 11:12:36.960 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:36.961 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 935.5155ms
2025-07-21 11:12:36.976 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 23 miles
2025-07-21 11:12:36.980 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:36.981 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.983 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 589.6984ms.
2025-07-21 11:12:36.984 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 960.8691 ms
2025-07-21 11:12:36.985 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:36.986 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 965.8999ms
2025-07-21 11:12:36.988 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 617.0341ms
2025-07-21 11:12:36.993 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:36.994 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 626.1065 ms
2025-07-21 11:12:36.996 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 631.1116ms
2025-07-21 11:12:37.014 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='22'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:37.016 +01:00 [INF] Found 0 real providers within 22 miles
2025-07-21 11:12:37.017 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:37.018 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:37.019 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 187.9065ms.
2025-07-21 11:12:37.021 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:37.022 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 225.3043ms
2025-07-21 11:12:37.024 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:37.025 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 281.1088 ms
2025-07-21 11:12:37.027 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 294.2073ms
2025-07-21 11:12:37.233 +01:00 [INF] Executed DbCommand (531ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='15'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:37.237 +01:00 [INF] Found 0 real providers within 15 miles
2025-07-21 11:12:37.239 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:37.240 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:37.242 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 669.7578ms.
2025-07-21 11:12:37.245 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:37.247 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 715.1598ms
2025-07-21 11:12:37.247 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='17'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:37.249 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:37.253 +01:00 [INF] Found 0 real providers within 17 miles
2025-07-21 11:12:37.254 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 732.5130 ms
2025-07-21 11:12:37.256 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:37.258 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 739.8365ms
2025-07-21 11:12:37.259 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:37.261 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='19'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:37.265 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 678.3416ms.
2025-07-21 11:12:37.268 +01:00 [INF] Found 0 real providers within 19 miles
2025-07-21 11:12:37.270 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:37.272 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:37.274 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 721.5097ms
2025-07-21 11:12:37.276 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:37.277 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:37.280 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 687.8375ms.
2025-07-21 11:12:37.281 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 756.4155 ms
2025-07-21 11:12:37.283 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:37.285 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 763.6958ms
2025-07-21 11:12:37.286 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 712.3556ms
2025-07-21 11:12:37.291 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:37.292 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 765.3636 ms
2025-07-21 11:12:37.294 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 772.7859ms
2025-07-21 11:12:37.384 +01:00 [INF] Executed DbCommand (518ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:37.386 +01:00 [INF] Found 0 real providers within 20 miles
2025-07-21 11:12:37.388 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:37.389 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:37.390 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 641.5829ms.
2025-07-21 11:12:37.392 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:37.393 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 672.246ms
2025-07-21 11:12:37.394 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:37.396 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 801.5925 ms
2025-07-21 11:12:37.398 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 810.9951ms
2025-07-21 11:12:37.399 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:37.403 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 11:12:37.405 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:37.406 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:37.408 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 598.104ms.
2025-07-21 11:12:37.410 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:37.411 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 627.1668ms
2025-07-21 11:12:37.413 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:37.414 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 673.8095 ms
2025-07-21 11:12:37.415 +01:00 [INF] Executed DbCommand (518ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='18'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:37.417 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 684.4913ms
2025-07-21 11:12:37.420 +01:00 [INF] Found 0 real providers within 18 miles
2025-07-21 11:12:37.424 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:37.425 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:37.426 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 656.3422ms.
2025-07-21 11:12:37.428 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:37.430 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 680.3241ms
2025-07-21 11:12:37.431 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:37.432 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 734.0643 ms
2025-07-21 11:12:37.435 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 766.9229ms
2025-07-21 11:12:37.477 +01:00 [INF] Executed DbCommand (522ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='21'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:37.480 +01:00 [INF] Found 0 real providers within 21 miles
2025-07-21 11:12:37.481 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:37.482 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:37.483 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 636.9253ms.
2025-07-21 11:12:37.485 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:37.486 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 714.1258ms
2025-07-21 11:12:37.487 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:37.488 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 788.0038 ms
2025-07-21 11:12:37.490 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 821.4638ms
2025-07-21 11:12:37.604 +01:00 [INF] Executed DbCommand (520ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='23'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:37.604 +01:00 [INF] Executed DbCommand (520ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='24'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:12:37.607 +01:00 [INF] Found 0 real providers within 23 miles
2025-07-21 11:12:37.609 +01:00 [INF] Found 0 real providers within 24 miles
2025-07-21 11:12:37.611 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:37.612 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:12:37.614 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:37.615 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:37.616 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 669.6274ms.
2025-07-21 11:12:37.618 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 770.009ms.
2025-07-21 11:12:37.620 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:37.622 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:37.624 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 700.6856ms
2025-07-21 11:12:37.625 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 813.4575ms
2025-07-21 11:12:37.627 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:37.628 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:37.629 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 779.1938 ms
2025-07-21 11:12:37.631 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 885.1856 ms
2025-07-21 11:12:37.633 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 806.187ms
2025-07-21 11:12:37.635 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 902.4533ms
2025-07-21 11:12:47.929 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:47.933 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:47.934 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:47.959 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:47.959 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:47.961 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:47.963 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:47.963 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":24,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:47.965 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:47.973 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:47.978 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_24_services_grooming_pets_1
2025-07-21 11:12:47.991 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:47.993 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:47.994 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:47.995 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:47.996 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:47.998 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.9625ms.
2025-07-21 11:12:47.998 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:47.999 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":23,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:48.014 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:48.014 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:48.015 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:48.017 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.025 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:48.032 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_23_services_grooming_pets_1
2025-07-21 11:12:48.033 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:48.035 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.037 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 100.2466ms
2025-07-21 11:12:48.043 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.040 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.041 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:48.041 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":22,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:48.042 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:48.037 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:48.045 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:48.068 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:48.084 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:48.084 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:48.057 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_22_services_grooming_pets_1
2025-07-21 11:12:48.046 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.8417ms.
2025-07-21 11:12:48.044 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 111.5061 ms
2025-07-21 11:12:48.093 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:48.094 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:48.096 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.097 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:48.098 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:48.099 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:48.101 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 171.4851ms
2025-07-21 11:12:48.102 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:48.103 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":20,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:48.104 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:48.105 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":21,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:48.111 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":19,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:48.122 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_20_services_grooming_pets_1
2025-07-21 11:12:48.106 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 73.3756ms.
2025-07-21 11:12:48.107 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 127.5383ms
2025-07-21 11:12:48.132 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:48.143 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_21_services_grooming_pets_1
2025-07-21 11:12:48.153 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_19_services_grooming_pets_1
2025-07-21 11:12:48.154 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:48.155 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:48.156 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.157 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:48.158 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:48.158 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:48.159 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.3417ms.
2025-07-21 11:12:48.161 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 160.5093ms
2025-07-21 11:12:48.161 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 198.5218 ms
2025-07-21 11:12:48.162 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":18,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:48.163 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 66.3457ms.
2025-07-21 11:12:48.164 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62.4763ms.
2025-07-21 11:12:48.166 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:48.167 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.168 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 208.9481ms
2025-07-21 11:12:48.181 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_18_services_grooming_pets_1
2025-07-21 11:12:48.182 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:48.184 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:48.185 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 126.0483ms
2025-07-21 11:12:48.186 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 193.4053 ms
2025-07-21 11:12:48.189 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:48.190 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 121.5449ms
2025-07-21 11:12:48.191 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 107.0512ms
2025-07-21 11:12:48.193 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.195 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 221.376ms
2025-07-21 11:12:48.195 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.4653ms.
2025-07-21 11:12:48.197 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.198 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.198 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 163.0619 ms
2025-07-21 11:12:48.202 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:48.203 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 185.8802 ms
2025-07-21 11:12:48.204 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 163.6292 ms
2025-07-21 11:12:48.205 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 190.9877ms
2025-07-21 11:12:48.206 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 82.194ms
2025-07-21 11:12:48.208 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 209.4391ms
2025-07-21 11:12:48.209 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 183.5729ms
2025-07-21 11:12:48.212 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:48.218 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 121.8823 ms
2025-07-21 11:12:48.219 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 136.0201ms
2025-07-21 11:12:49.255 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:49.258 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.259 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:49.272 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:49.273 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:49.274 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":19,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:49.288 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_19_services_grooming_pets_1
2025-07-21 11:12:49.289 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:49.290 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.3319ms.
2025-07-21 11:12:49.291 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:49.292 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 31.9451ms
2025-07-21 11:12:49.294 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.296 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 38.0353 ms
2025-07-21 11:12:49.298 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 42.7794ms
2025-07-21 11:12:49.302 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:49.305 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.306 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:49.320 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:49.322 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:49.323 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":20,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:49.325 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:49.340 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_20_services_grooming_pets_1
2025-07-21 11:12:49.343 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.344 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:49.345 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:49.346 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:49.347 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.4154ms.
2025-07-21 11:12:49.350 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.368 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:49.368 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:49.368 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:49.370 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:49.372 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:49.375 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.372 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:49.376 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 67.2886ms
2025-07-21 11:12:49.393 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:49.393 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 413
2025-07-21 11:12:49.393 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":21,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:49.394 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:49.397 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.401 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.398 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:49.397 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.412 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_21_services_grooming_pets_1
2025-07-21 11:12:49.423 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:49.424 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:49.425 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:49.425 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":22,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:49.428 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:49.439 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:49.426 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 120.8940 ms
2025-07-21 11:12:49.427 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:49.450 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:49.461 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_22_services_grooming_pets_1
2025-07-21 11:12:49.462 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":23,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:49.463 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:49.464 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 162.1536ms
2025-07-21 11:12:49.466 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 94.403ms.
2025-07-21 11:12:49.468 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:12:49.469 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:49.483 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_23_services_grooming_pets_1
2025-07-21 11:12:49.484 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":24,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:49.488 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:49.489 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:12:49.490 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 91.4564ms.
2025-07-21 11:12:49.490 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:49.503 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_24_services_grooming_pets_1
2025-07-21 11:12:49.504 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 152.409ms
2025-07-21 11:12:49.515 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_25_services_grooming_pets_1
2025-07-21 11:12:49.517 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:49.518 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 89.8045ms.
2025-07-21 11:12:49.518 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:49.519 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.520 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:12:49.522 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 144.1284ms
2025-07-21 11:12:49.523 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:49.524 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.8574ms.
2025-07-21 11:12:49.525 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 181.4219 ms
2025-07-21 11:12:49.526 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 58.0576ms.
2025-07-21 11:12:49.527 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.528 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 114.3374ms
2025-07-21 11:12:49.529 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:49.531 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 206.0907ms
2025-07-21 11:12:49.533 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:12:49.534 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 183.4997 ms
2025-07-21 11:12:49.535 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.536 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 106.663ms
2025-07-21 11:12:49.542 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 101.7009ms
2025-07-21 11:12:49.544 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 198.8812ms
2025-07-21 11:12:49.544 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 169.8420 ms
2025-07-21 11:12:49.546 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.547 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:49.551 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 183.3172ms
2025-07-21 11:12:49.552 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 155.1201 ms
2025-07-21 11:12:49.552 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 151.6844 ms
2025-07-21 11:12:49.556 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 184.1613ms
2025-07-21 11:12:49.558 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 164.8763ms
2025-07-21 11:12:54.957 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 421
2025-07-21 11:12:54.960 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:54.961 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:12:54.978 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:12:54.980 +01:00 [INF] Provider search request received for location: Current Location
2025-07-21 11:12:54.983 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.5468ms.
2025-07-21 11:12:54.985 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 11:12:54.988 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 24.3763ms
2025-07-21 11:12:54.990 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:12:54.991 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 31.0169 ms
2025-07-21 11:12:54.993 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 35.8231ms
2025-07-21 11:13:58.558 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/1/availability?startDate=2025-07-21T10:13:58.5190000+00:00&endDate=2025-08-20T10:13:58.5190000+00:00 - null null
2025-07-21 11:13:58.561 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-21 11:13:58.565 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:13:58.576 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-21 11:13:58.586 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 19.4266ms
2025-07-21 11:13:58.594 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-21 11:13:58.595 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/1/availability responded 400 in 34.6360 ms
2025-07-21 11:13:58.599 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/1/availability?startDate=2025-07-21T10:13:58.5190000+00:00&endDate=2025-08-20T10:13:58.5190000+00:00 - 400 null application/problem+json; charset=utf-8 41.084ms
2025-07-21 11:14:01.816 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/1/pricing - null null
2025-07-21 11:14:01.819 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API)'
2025-07-21 11:14:01.823 +01:00 [INF] Route matched with {action = "CalculateServicePricing", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Services.Interfaces.ServicePricingDto]] CalculateServicePricing(System.String, System.String, System.DateTimeOffset, Int32, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:14:01.827 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-21 11:14:01.829 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API) in 3.5271ms
2025-07-21 11:14:01.830 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API)'
2025-07-21 11:14:01.832 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/1/pricing responded 400 in 12.8998 ms
2025-07-21 11:14:01.833 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/1/pricing - 400 null application/problem+json; charset=utf-8 17.8031ms
2025-07-21 11:14:06.228 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/3/pricing - null null
2025-07-21 11:14:06.230 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API)'
2025-07-21 11:14:06.231 +01:00 [INF] Route matched with {action = "CalculateServicePricing", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Services.Interfaces.ServicePricingDto]] CalculateServicePricing(System.String, System.String, System.DateTimeOffset, Int32, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:14:06.233 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-21 11:14:06.235 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API) in 2.0633ms
2025-07-21 11:14:06.236 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API)'
2025-07-21 11:14:06.237 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/3/pricing responded 400 in 6.6555 ms
2025-07-21 11:14:06.239 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/3/pricing - 400 null application/problem+json; charset=utf-8 11.1381ms
2025-07-21 11:15:07.802 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:15:08.880 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:15:09.130 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:15:09.217 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:15:09.985 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:15:10.681 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:15:10.923 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:15:11.010 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:15:11.012 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:15:11.013 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:15:11.015 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:15:11.016 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:15:11.017 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:15:11.892 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:15:11.910 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:15:11.947 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:15:12.026 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:15:12.073 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:15:12.088 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:15:12.106 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:15:12.124 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:15:12.153 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:15:12.159 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:15:12.164 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:15:12.206 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:15:12.531 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:15:12.532 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:15:12.632 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:15:12.684 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:15:12.727 +01:00 [INF] Hosting environment: Development
2025-07-21 11:15:12.729 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:15:12.930 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:15:12.939 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:15:12.962 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:15:13.196 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:15:13.485 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 554.8504ms
2025-07-21 11:15:13.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:15:13.536 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 10.0775ms
2025-07-21 11:15:13.958 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:15:14.005 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.0502ms
2025-07-21 11:15:14.339 +01:00 [INF] Executed DbCommand (531ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:15:14.388 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1183.9573ms.
2025-07-21 11:15:14.403 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:15:14.447 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1447.3691ms
2025-07-21 11:15:14.458 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:15:14.472 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1682.8593 ms
2025-07-21 11:15:14.482 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1858.4881ms
2025-07-21 11:15:14.510 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:15:14.513 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:15:14.520 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:15:14.523 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:15:14.587 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:15:14.589 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3141ms.
2025-07-21 11:15:14.591 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:15:14.593 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 39.7459ms
2025-07-21 11:15:14.596 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:15:14.598 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 78.8398 ms
2025-07-21 11:15:14.601 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 87.5315ms
2025-07-21 11:15:14.608 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.4562ms
2025-07-21 11:15:20.421 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 11:15:20.428 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:15:20.443 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:15:20.493 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:15:20.496 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9648ms.
2025-07-21 11:15:20.498 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:15:20.501 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 55.8815ms
2025-07-21 11:15:20.503 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:15:20.504 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 79.2241 ms
2025-07-21 11:15:20.506 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 85.9621ms
2025-07-21 11:15:20.761 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:15:20.765 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:15:20.770 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:15:20.789 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:15:20.792 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 11:15:20.800 +01:00 [INF] Starting provider search with filters: {"Location":"50.8205301,-1.1713195","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:15:20.818 +01:00 [WRN] Invalid postcode format: 50.8205301,-1.1713195
2025-07-21 11:15:20.819 +01:00 [WRN] Could not resolve location: 50.8205301,-1.1713195
2025-07-21 11:15:20.820 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.7574ms.
2025-07-21 11:15:20.822 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:15:20.835 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 63.5087ms
2025-07-21 11:15:20.837 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:15:20.838 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 73.4163 ms
2025-07-21 11:15:20.840 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 79.1386ms
2025-07-21 11:15:22.415 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 11:15:22.419 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:15:22.420 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:15:22.442 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:15:22.443 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0968ms.
2025-07-21 11:15:22.445 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:15:22.446 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 24.3429ms
2025-07-21 11:15:22.447 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:15:22.448 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 29.3901 ms
2025-07-21 11:15:22.450 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 34.7618ms
2025-07-21 11:15:22.521 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:15:22.524 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:15:22.525 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:15:22.542 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:15:22.543 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 11:15:22.546 +01:00 [INF] Starting provider search with filters: {"Location":"50.8205301,-1.1713195","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:15:22.559 +01:00 [WRN] Invalid postcode format: 50.8205301,-1.1713195
2025-07-21 11:15:22.560 +01:00 [WRN] Could not resolve location: 50.8205301,-1.1713195
2025-07-21 11:15:22.560 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.0834ms.
2025-07-21 11:15:22.564 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:15:22.566 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 39.4131ms
2025-07-21 11:15:22.568 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:15:22.569 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 44.8238 ms
2025-07-21 11:15:22.571 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 49.6213ms
2025-07-21 11:15:27.685 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 11:15:27.687 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:15:27.688 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:15:27.708 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:15:27.710 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0389ms.
2025-07-21 11:15:27.712 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:15:27.714 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 23.6935ms
2025-07-21 11:15:27.715 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:15:27.716 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 28.4136 ms
2025-07-21 11:15:27.718 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 33.2221ms
2025-07-21 11:15:27.796 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:15:27.800 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:15:27.801 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:15:27.820 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:15:27.821 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 11:15:27.823 +01:00 [INF] Starting provider search with filters: {"Location":"50.8205301,-1.1713195","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:15:27.834 +01:00 [WRN] Invalid postcode format: 50.8205301,-1.1713195
2025-07-21 11:15:27.835 +01:00 [WRN] Could not resolve location: 50.8205301,-1.1713195
2025-07-21 11:15:27.836 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.7844ms.
2025-07-21 11:15:27.838 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:15:27.839 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.7045ms
2025-07-21 11:15:27.840 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:15:27.841 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41.9478 ms
2025-07-21 11:15:27.843 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 47.3203ms
2025-07-21 11:17:46.670 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:17:46.683 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:17:46.684 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:17:46.704 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:17:46.706 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3606ms.
2025-07-21 11:17:46.707 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:17:46.709 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.0286ms
2025-07-21 11:17:46.710 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:17:46.712 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 30.7826 ms
2025-07-21 11:17:46.714 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 43.9934ms
2025-07-21 11:17:46.723 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:17:46.725 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:17:46.726 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:17:46.744 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:17:46.746 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0429ms.
2025-07-21 11:17:46.747 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:17:46.749 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.7283ms
2025-07-21 11:17:46.750 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:17:46.751 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 26.5917 ms
2025-07-21 11:17:46.753 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 30.5309ms
2025-07-21 11:17:51.291 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:17:51.293 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:17:51.295 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:17:51.315 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:17:51.317 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0951ms.
2025-07-21 11:17:51.319 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:17:51.321 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.7778ms
2025-07-21 11:17:51.322 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:17:51.323 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 30.0748 ms
2025-07-21 11:17:51.325 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.5184ms
2025-07-21 11:17:51.336 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:17:51.339 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:17:51.340 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:17:51.359 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:17:51.360 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.046ms.
2025-07-21 11:17:51.362 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:17:51.363 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 21.3483ms
2025-07-21 11:17:51.365 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:17:51.366 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 26.6031 ms
2025-07-21 11:17:51.368 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 31.4566ms
2025-07-21 11:19:54.086 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:19:55.042 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:19:55.293 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:19:55.348 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:19:55.891 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:19:56.582 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:19:56.780 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:19:56.852 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:19:56.854 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:19:56.855 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:19:56.857 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:19:56.858 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:19:56.860 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:19:57.652 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:19:57.667 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:19:57.707 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:19:57.788 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:19:57.844 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:19:57.869 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:19:57.891 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:19:57.914 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:19:57.947 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:19:57.953 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:19:57.958 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:19:57.983 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:19:58.209 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:19:58.211 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:19:58.275 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:19:58.280 +01:00 [INF] Hosting environment: Development
2025-07-21 11:19:58.281 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:19:58.676 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:19:58.676 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:19:58.834 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:19:58.865 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:19:58.931 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:19:58.966 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 290.862ms
2025-07-21 11:19:58.996 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:19:59.005 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.4083ms
2025-07-21 11:19:59.399 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:19:59.437 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.1535ms
2025-07-21 11:19:59.854 +01:00 [INF] Executed DbCommand (537ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:19:59.863 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:19:59.926 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 991.0141ms.
2025-07-21 11:19:59.933 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.7389ms
2025-07-21 11:19:59.938 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:19:59.977 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1106.6848ms
2025-07-21 11:19:59.979 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:19:59.985 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1252.8108 ms
2025-07-21 11:19:59.994 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1325.0352ms
2025-07-21 11:20:00.026 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:20:00.032 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:20:00.034 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:20:00.056 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:20:00.059 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2867ms.
2025-07-21 11:20:00.061 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:20:00.064 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 27.9245ms
2025-07-21 11:20:00.066 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:20:00.071 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 39.9660 ms
2025-07-21 11:20:00.074 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 48.6316ms
2025-07-21 11:20:03.967 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:20:03.972 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:20:03.982 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:20:04.023 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:20:04.027 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.6107ms.
2025-07-21 11:20:04.028 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:20:04.032 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 47.4754ms
2025-07-21 11:20:04.034 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:20:04.035 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 64.9890 ms
2025-07-21 11:20:04.049 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 81.4627ms
2025-07-21 11:20:04.154 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:20:04.157 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:20:04.163 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:20:04.185 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:20:04.188 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:20:04.198 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:20:04.214 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:20:04.215 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:20:04.217 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.4998ms.
2025-07-21 11:20:04.219 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:20:04.233 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 68.083ms
2025-07-21 11:20:04.235 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:20:04.236 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 78.8418 ms
2025-07-21 11:20:04.239 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 85.1772ms
2025-07-21 11:20:05.613 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:20:05.618 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:20:05.620 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:20:05.642 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:20:05.644 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2061ms.
2025-07-21 11:20:05.646 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:20:05.648 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 26.619ms
2025-07-21 11:20:05.650 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:20:05.651 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 33.4167 ms
2025-07-21 11:20:05.653 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 40.4565ms
2025-07-21 11:20:05.716 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:20:05.718 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:20:05.719 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:20:05.736 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:20:05.737 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:20:05.740 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:20:05.752 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:20:05.752 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:20:05.753 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.8209ms.
2025-07-21 11:20:05.754 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:20:05.757 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.9505ms
2025-07-21 11:20:05.758 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:20:05.759 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 40.6973 ms
2025-07-21 11:20:05.761 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 45.0316ms
2025-07-21 11:20:12.862 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:20:12.865 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:20:12.867 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:20:12.888 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:20:12.890 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0494ms.
2025-07-21 11:20:12.892 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:20:12.893 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 24.8937ms
2025-07-21 11:20:12.895 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:20:12.896 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 31.0058 ms
2025-07-21 11:20:12.898 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 36.4033ms
2025-07-21 11:20:12.964 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:20:12.968 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:20:12.969 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:20:12.991 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:20:12.993 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:20:12.994 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:20:13.007 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:20:13.008 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:20:13.009 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.4787ms.
2025-07-21 11:20:13.010 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:20:13.012 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 40.0422ms
2025-07-21 11:20:13.013 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:20:13.014 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 46.9338 ms
2025-07-21 11:20:13.016 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 51.9259ms
2025-07-21 11:24:21.465 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:24:22.409 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:24:22.596 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:24:22.663 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:24:23.263 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:24:23.847 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:24:24.012 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:24:24.085 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:24:24.087 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:24:24.089 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:24:24.090 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:24:24.091 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:24:24.093 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:24:24.886 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:24:24.903 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:24:24.946 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:24:25.043 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:24:25.100 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:24:25.120 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:24:25.145 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:24:25.165 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:24:25.205 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:24:25.210 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:24:25.214 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:24:25.248 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:24:25.551 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:24:25.552 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:24:25.619 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:24:25.620 +01:00 [INF] Hosting environment: Development
2025-07-21 11:24:25.621 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:24:25.705 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:24:25.893 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:24:25.895 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:24:25.917 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:24:26.001 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:24:26.119 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 222.8835ms
2025-07-21 11:24:26.141 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:24:26.147 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 6.6025ms
2025-07-21 11:24:26.545 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:24:26.587 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.3281ms
2025-07-21 11:24:26.913 +01:00 [INF] Executed DbCommand (544ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:24:26.959 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 953.696ms.
2025-07-21 11:24:26.972 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:24:27.009 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1085.9109ms
2025-07-21 11:24:27.011 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:24:27.016 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1262.4303 ms
2025-07-21 11:24:27.026 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1325.8835ms
2025-07-21 11:24:27.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:24:27.330 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.3642ms
2025-07-21 11:24:37.029 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:24:37.035 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:24:37.036 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:24:37.064 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:24:37.066 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1839ms.
2025-07-21 11:24:37.069 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:24:37.071 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 32.3519ms
2025-07-21 11:24:37.072 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:24:37.073 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 39.4792 ms
2025-07-21 11:24:37.075 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 46.6793ms
2025-07-21 11:25:29.002 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:25:29.035 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:25:29.047 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:25:29.085 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:25:29.089 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.7059ms.
2025-07-21 11:25:29.091 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:25:29.095 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 45.7071ms
2025-07-21 11:25:29.096 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:25:29.097 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 90.5692 ms
2025-07-21 11:25:29.099 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 97.1133ms
2025-07-21 11:25:29.173 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:25:29.177 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:25:29.184 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:25:29.202 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:25:29.205 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:25:29.216 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:25:29.237 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:25:29.238 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:25:29.240 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.4836ms.
2025-07-21 11:25:29.242 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:25:29.257 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 70.2473ms
2025-07-21 11:25:29.259 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:25:29.260 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 82.8253 ms
2025-07-21 11:25:29.262 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 89.4174ms
2025-07-21 11:25:31.018 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:25:31.023 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:25:31.024 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:25:31.043 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:25:31.045 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1395ms.
2025-07-21 11:25:31.061 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:25:31.063 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 36.5812ms
2025-07-21 11:25:31.064 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:25:31.070 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 47.0369 ms
2025-07-21 11:25:31.072 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 53.5293ms
2025-07-21 11:25:31.144 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:25:31.148 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:25:31.149 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:25:31.170 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:25:31.177 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:25:31.179 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:25:31.196 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:25:31.197 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:25:31.198 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.6394ms.
2025-07-21 11:25:31.201 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:25:31.202 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 51.6057ms
2025-07-21 11:25:31.204 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:25:31.205 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 57.6884 ms
2025-07-21 11:25:31.207 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 63.8095ms
2025-07-21 11:26:21.014 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:26:21.019 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:26:21.021 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:26:21.042 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:26:21.058 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.5591ms.
2025-07-21 11:26:21.062 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:26:21.064 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 41.4186ms
2025-07-21 11:26:21.071 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:26:21.076 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 58.7421 ms
2025-07-21 11:26:21.079 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 92.9804ms
2025-07-21 11:26:31.346 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:26:31.350 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:26:31.351 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:26:31.371 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:26:31.372 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0463ms.
2025-07-21 11:26:31.374 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:26:31.375 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 22.4791ms
2025-07-21 11:26:31.377 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:26:31.378 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 28.5137 ms
2025-07-21 11:26:31.380 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 33.9981ms
2025-07-21 11:27:37.587 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:27:38.293 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:27:38.445 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:27:38.490 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:27:39.022 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:27:39.607 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:27:39.789 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:27:39.874 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:27:39.875 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:27:39.877 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:27:39.879 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:27:39.880 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:27:39.881 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:27:40.606 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:27:40.625 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:27:40.664 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:27:40.744 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:27:40.789 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:27:40.802 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:27:40.821 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:27:40.839 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:27:40.870 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:27:40.875 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:27:40.879 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:27:40.905 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:27:41.152 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:27:41.153 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:27:41.205 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:27:41.206 +01:00 [INF] Hosting environment: Development
2025-07-21 11:27:41.207 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:27:41.413 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:27:41.578 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:27:41.579 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:27:41.596 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:27:41.689 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:27:41.800 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 221.2378ms
2025-07-21 11:27:41.829 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:27:41.836 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 7.3028ms
2025-07-21 11:27:42.220 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:27:42.252 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.9114ms
2025-07-21 11:27:42.615 +01:00 [INF] Executed DbCommand (560ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:27:42.666 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 971.0592ms.
2025-07-21 11:27:42.677 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:27:42.712 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1110.9159ms
2025-07-21 11:27:42.714 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:27:42.718 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1250.7535 ms
2025-07-21 11:27:42.726 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1320.1806ms
2025-07-21 11:27:42.936 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:27:42.999 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.195ms
2025-07-21 11:27:46.081 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:27:46.088 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:27:46.102 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:27:46.151 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:27:46.155 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5083ms.
2025-07-21 11:27:46.157 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:27:46.161 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 56.9614ms
2025-07-21 11:27:46.162 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:27:46.164 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 76.6110 ms
2025-07-21 11:27:46.166 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 84.9484ms
2025-07-21 11:27:46.237 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:27:46.242 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:27:46.248 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:27:46.264 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:27:46.267 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:27:46.277 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:27:46.296 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:27:46.297 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:27:46.299 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.3073ms.
2025-07-21 11:27:46.300 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:27:46.316 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 66.5916ms
2025-07-21 11:27:46.318 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:27:46.320 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 79.1649 ms
2025-07-21 11:27:46.322 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 85.2692ms
2025-07-21 11:27:47.805 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:27:47.809 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:27:47.810 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:27:47.828 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:27:47.829 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1273ms.
2025-07-21 11:27:47.830 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:27:47.832 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.565ms
2025-07-21 11:27:47.834 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:27:47.835 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.8437 ms
2025-07-21 11:27:47.837 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 31.9706ms
2025-07-21 11:27:47.886 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:27:47.890 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:27:47.891 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:27:47.908 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:27:47.909 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:27:47.910 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:27:47.924 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:27:47.924 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:27:47.926 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.6745ms.
2025-07-21 11:27:47.927 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:27:47.929 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 36.1984ms
2025-07-21 11:27:47.930 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:27:47.932 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 42.1775 ms
2025-07-21 11:27:47.934 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 47.6171ms
2025-07-21 11:28:06.230 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:28:06.234 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:28:06.236 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:28:06.285 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:28:06.287 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3346ms.
2025-07-21 11:28:06.289 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:28:06.291 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 53.8406ms
2025-07-21 11:28:06.293 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:28:06.294 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 60.1650 ms
2025-07-21 11:28:06.296 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 65.4301ms
2025-07-21 11:28:13.329 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:28:13.334 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:28:13.335 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:28:13.352 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:28:13.354 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0736ms.
2025-07-21 11:28:13.355 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:28:13.358 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.7418ms
2025-07-21 11:28:13.359 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:28:13.360 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 28.1319 ms
2025-07-21 11:28:13.364 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.4428ms
2025-07-21 11:29:04.392 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:29:05.299 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:29:05.458 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:29:05.508 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:29:05.994 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:29:06.592 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:29:06.748 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:29:06.838 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:29:06.840 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:29:06.842 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:29:06.844 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:29:06.846 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:29:06.848 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:29:07.627 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:29:07.645 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:29:07.689 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:29:07.762 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:29:07.832 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:29:07.846 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:29:07.864 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:29:07.881 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:29:07.914 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:29:07.919 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:29:07.923 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:29:07.955 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:29:08.242 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:29:08.243 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:29:08.312 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:29:08.340 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:29:08.346 +01:00 [INF] Hosting environment: Development
2025-07-21 11:29:08.348 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:29:08.400 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:29:08.576 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:29:08.605 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:29:08.849 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:29:09.033 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 633.6607ms
2025-07-21 11:29:09.071 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:29:09.080 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.4024ms
2025-07-21 11:29:09.473 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:29:09.511 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.2469ms
2025-07-21 11:29:09.837 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:29:09.878 +01:00 [INF] Executed DbCommand (550ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:29:09.921 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.0128ms
2025-07-21 11:29:09.973 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1117.0174ms.
2025-07-21 11:29:09.986 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:29:10.032 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1379.036ms
2025-07-21 11:29:10.034 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:29:10.039 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1634.8750 ms
2025-07-21 11:29:10.046 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1740.6967ms
2025-07-21 11:29:12.698 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:29:12.703 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:29:12.715 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:29:12.767 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:29:12.772 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.3405ms.
2025-07-21 11:29:12.774 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:29:12.778 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 60.5198ms
2025-07-21 11:29:12.780 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:29:12.781 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 78.9534 ms
2025-07-21 11:29:12.786 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 88.4473ms
2025-07-21 11:29:12.844 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:29:12.850 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:29:12.855 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:29:12.872 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:29:12.877 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:29:12.886 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:29:12.905 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:29:12.907 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:29:12.909 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.1694ms.
2025-07-21 11:29:12.911 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:29:12.929 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 71.7713ms
2025-07-21 11:29:12.931 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:29:12.932 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 83.9571 ms
2025-07-21 11:29:12.934 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 90.3602ms
2025-07-21 11:29:14.219 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:29:14.224 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:29:14.225 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:29:14.245 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:29:14.246 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1741ms.
2025-07-21 11:29:14.248 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:29:14.249 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 22.7215ms
2025-07-21 11:29:14.251 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:29:14.252 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 28.4141 ms
2025-07-21 11:29:14.254 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 34.738ms
2025-07-21 11:29:14.326 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:29:14.329 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:29:14.330 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:29:14.345 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:29:14.346 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:29:14.348 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:29:14.361 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:29:14.362 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:29:14.362 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.5745ms.
2025-07-21 11:29:14.364 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:29:14.365 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.6829ms
2025-07-21 11:29:14.367 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:29:14.368 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 39.0532 ms
2025-07-21 11:29:14.370 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 43.8006ms
2025-07-21 11:29:59.048 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:29:59.917 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:30:00.081 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:30:00.197 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:30:00.805 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:30:01.411 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:30:01.576 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:30:01.665 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:30:01.666 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:30:01.668 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:30:01.669 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:30:01.671 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:30:01.672 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:30:02.496 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:30:02.513 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:30:02.557 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:30:02.658 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:30:02.710 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:30:02.730 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:30:02.750 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:30:02.764 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:30:02.813 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:30:02.819 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:30:02.825 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:30:02.862 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:30:03.161 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:30:03.162 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:30:03.224 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:30:03.226 +01:00 [INF] Hosting environment: Development
2025-07-21 11:30:03.228 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:30:03.341 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:30:03.399 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:30:03.618 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:30:03.708 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:30:03.792 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:30:03.846 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 446.5157ms
2025-07-21 11:30:03.871 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:30:03.879 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 7.9833ms
2025-07-21 11:30:04.309 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:30:04.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.2908ms
2025-07-21 11:30:04.729 +01:00 [INF] Executed DbCommand (531ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:30:04.775 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 978.1437ms.
2025-07-21 11:30:04.783 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:30:04.823 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1108.082ms
2025-07-21 11:30:04.826 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:30:04.831 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1421.2222 ms
2025-07-21 11:30:04.840 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1506.5126ms
2025-07-21 11:30:05.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:30:05.290 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.6457ms
2025-07-21 11:30:07.478 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:30:07.485 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:30:07.499 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:30:07.547 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:30:07.552 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.4353ms.
2025-07-21 11:30:07.554 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:30:07.557 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 56.6796ms
2025-07-21 11:30:07.559 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:30:07.560 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 76.0485 ms
2025-07-21 11:30:07.563 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 85.1659ms
2025-07-21 11:30:07.638 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:30:07.643 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:30:07.649 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:30:07.663 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:30:07.666 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:30:07.674 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:30:07.691 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:30:07.693 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:30:07.694 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.5282ms.
2025-07-21 11:30:07.696 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:30:07.707 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 55.9143ms
2025-07-21 11:30:07.709 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:30:07.710 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 68.8139 ms
2025-07-21 11:30:07.712 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 74.3834ms
2025-07-21 11:30:08.950 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:30:08.955 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:30:08.957 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:30:08.976 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:30:08.978 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1886ms.
2025-07-21 11:30:08.980 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:30:08.982 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 23.3077ms
2025-07-21 11:30:08.983 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:30:08.985 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 29.3456 ms
2025-07-21 11:30:08.987 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 36.6021ms
2025-07-21 11:30:09.058 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:30:09.062 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:30:09.063 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:30:09.079 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:30:09.080 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:30:09.082 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:30:09.094 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:30:09.095 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:30:09.096 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.2018ms.
2025-07-21 11:30:09.098 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:30:09.099 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 34.4024ms
2025-07-21 11:30:09.101 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:30:09.102 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 40.4411 ms
2025-07-21 11:30:09.104 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 45.3929ms
2025-07-21 11:31:22.501 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:31:22.505 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:31:22.506 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:31:22.524 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:31:22.526 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4744ms.
2025-07-21 11:31:22.528 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:31:22.531 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.0083ms
2025-07-21 11:31:22.532 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:31:22.533 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.3944 ms
2025-07-21 11:31:22.536 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.949ms
2025-07-21 11:31:23.679 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 11:31:23.682 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:31:23.686 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:31:23.725 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:31:23.728 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:31:23.732 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:31:23.758 +01:00 [INF] Executing real provider search at 51.5014,-0.1419 within 5 miles
2025-07-21 11:31:24.458 +01:00 [INF] Executed DbCommand (532ms) [Parameters=[@__Cos_0='0.6224955137270592', @__longitude_1='-0.1419', @__Sin_2='0.7826233675208558', @__p_3='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 11:31:24.463 +01:00 [INF] Found 0 real providers within 5 miles
2025-07-21 11:31:24.465 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 11:31:24.466 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:31:24.468 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 741.7129ms.
2025-07-21 11:31:24.470 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:31:24.482 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 793.544ms
2025-07-21 11:31:24.484 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:31:24.485 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 803.8993 ms
2025-07-21 11:31:24.488 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 809.2481ms
2025-07-21 11:31:24.614 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-21 11:31:24.618 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:31:24.619 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:31:24.635 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:31:24.637 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-21 11:31:24.638 +01:00 [INF] Starting provider search with filters: {"Location":"0,0","Latitude":null,"Longitude":null,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:31:24.650 +01:00 [WRN] Invalid postcode format: 0,0
2025-07-21 11:31:24.650 +01:00 [WRN] Could not resolve location: 0,0
2025-07-21 11:31:24.651 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.8766ms.
2025-07-21 11:31:24.653 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:31:24.654 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.2723ms
2025-07-21 11:31:24.655 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:31:24.656 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.8152 ms
2025-07-21 11:31:24.658 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 43.5096ms
2025-07-21 11:32:47.370 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:32:47.373 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:32:47.375 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:32:47.399 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:32:47.400 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.045ms.
2025-07-21 11:32:47.401 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:32:47.402 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 25.9502ms
2025-07-21 11:32:47.404 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:32:47.405 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 31.3067 ms
2025-07-21 11:32:47.406 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 35.9272ms
2025-07-21 11:32:47.463 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:32:47.466 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:32:47.467 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:32:47.482 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:32:47.483 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:32:47.484 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:32:47.497 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:32:47.497 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:32:47.499 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.7216ms.
2025-07-21 11:32:47.500 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:32:47.501 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.9895ms
2025-07-21 11:32:47.502 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:32:47.504 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 37.9072 ms
2025-07-21 11:32:47.506 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 42.9152ms
2025-07-21 11:32:48.646 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:32:48.650 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:32:48.651 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:32:48.668 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:32:48.670 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0867ms.
2025-07-21 11:32:48.671 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:32:48.673 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.313ms
2025-07-21 11:32:48.675 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:32:48.676 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 27.2018 ms
2025-07-21 11:32:48.678 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 31.7944ms
2025-07-21 11:32:49.594 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-21 11:32:49.598 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:32:49.599 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:32:49.616 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:32:49.618 +01:00 [INF] Provider search request received for location: SW1A 1AA
2025-07-21 11:32:49.619 +01:00 [INF] Starting provider search with filters: {"Location":"SW1A 1AA","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["grooming"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:32:49.633 +01:00 [INF] Returning cached search results for key: search_51.5014_-0.1419_5_services_grooming_pets_1
2025-07-21 11:32:49.634 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-21 11:32:49.637 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.7756ms.
2025-07-21 11:32:49.639 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-21 11:32:49.640 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 38.7712ms
2025-07-21 11:32:49.642 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 11:32:49.643 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 44.4994 ms
2025-07-21 11:32:49.645 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 50.2872ms
2025-07-21 11:32:49.954 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-21 11:32:49.957 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:32:49.959 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:32:49.980 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:32:49.981 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-21 11:32:49.983 +01:00 [INF] Starting provider search with filters: {"Location":"0,0","Latitude":null,"Longitude":null,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:32:50.000 +01:00 [WRN] Invalid postcode format: 0,0
2025-07-21 11:32:50.002 +01:00 [WRN] Could not resolve location: 0,0
2025-07-21 11:32:50.003 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.123ms.
2025-07-21 11:32:50.006 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:32:50.007 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 46.3693ms
2025-07-21 11:32:50.009 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:32:50.011 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 53.3985 ms
2025-07-21 11:32:50.012 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 58.7328ms
2025-07-21 11:35:07.043 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:35:08.018 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:35:08.186 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:35:08.246 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:35:08.778 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:35:09.446 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:35:09.624 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:35:09.716 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:35:09.718 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:35:09.719 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:35:09.721 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:35:09.722 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:35:09.723 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:35:10.528 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:35:10.549 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:35:10.590 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:35:10.682 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:35:10.739 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:35:10.756 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:35:10.779 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:35:10.799 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:35:10.832 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:35:10.838 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:35:10.842 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:35:10.872 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:35:11.125 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:35:11.126 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:35:11.185 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:35:11.187 +01:00 [INF] Hosting environment: Development
2025-07-21 11:35:11.189 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:35:11.402 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:35:11.405 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:35:11.626 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:35:11.654 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:35:11.710 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:35:11.746 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 340.6644ms
2025-07-21 11:35:11.767 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:35:11.775 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 8.5177ms
2025-07-21 11:35:12.248 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:35:12.300 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.8915ms
2025-07-21 11:35:12.712 +01:00 [INF] Executed DbCommand (539ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:35:12.767 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1051.7318ms.
2025-07-21 11:35:12.778 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:35:12.818 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1159.0231ms
2025-07-21 11:35:12.821 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:35:12.828 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1354.1655 ms
2025-07-21 11:35:12.842 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1447.8604ms
2025-07-21 11:35:13.363 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:35:13.426 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.429ms
2025-07-21 11:35:16.213 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 11:35:16.219 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:35:16.233 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:35:16.278 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:35:16.283 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.1244ms.
2025-07-21 11:35:16.286 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:35:16.290 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 54.2951ms
2025-07-21 11:35:16.291 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:35:16.292 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 74.1637 ms
2025-07-21 11:35:16.295 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 82.1501ms
2025-07-21 11:35:16.396 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:35:16.402 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:35:16.407 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:35:16.421 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:35:16.424 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 11:35:16.432 +01:00 [INF] Starting provider search with filters: {"Location":"50.8205301,-1.1713195","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:35:16.448 +01:00 [WRN] Invalid postcode format: 50.8205301,-1.1713195
2025-07-21 11:35:16.449 +01:00 [WRN] Could not resolve location: 50.8205301,-1.1713195
2025-07-21 11:35:16.450 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.4117ms.
2025-07-21 11:35:16.452 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:35:16.464 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 55.8628ms
2025-07-21 11:35:16.466 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:35:16.467 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 66.9433 ms
2025-07-21 11:35:16.469 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 72.6755ms
2025-07-21 11:35:18.234 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 11:35:18.239 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:35:18.240 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:35:18.257 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:35:18.258 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1363ms.
2025-07-21 11:35:18.260 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:35:18.261 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 19.481ms
2025-07-21 11:35:18.263 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:35:18.264 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.5889 ms
2025-07-21 11:35:18.266 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 32.5421ms
2025-07-21 11:35:18.334 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:35:18.339 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:35:18.340 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:35:18.359 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:35:18.360 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 11:35:18.362 +01:00 [INF] Starting provider search with filters: {"Location":"50.8205301,-1.1713195","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:35:18.375 +01:00 [WRN] Invalid postcode format: 50.8205301,-1.1713195
2025-07-21 11:35:18.376 +01:00 [WRN] Could not resolve location: 50.8205301,-1.1713195
2025-07-21 11:35:18.377 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.4168ms.
2025-07-21 11:35:18.378 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:35:18.380 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 37.4337ms
2025-07-21 11:35:18.381 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:35:18.382 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 43.2256 ms
2025-07-21 11:35:18.384 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 49.85ms
2025-07-21 11:35:31.656 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 11:35:31.659 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:35:31.660 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:35:31.676 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:35:31.678 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0816ms.
2025-07-21 11:35:31.681 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:35:31.683 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 21.1999ms
2025-07-21 11:35:31.686 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:35:31.687 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 27.9003 ms
2025-07-21 11:35:31.689 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 33.0129ms
2025-07-21 11:35:31.745 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:35:31.748 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:35:31.749 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:35:31.763 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:35:31.764 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 11:35:31.765 +01:00 [INF] Starting provider search with filters: {"Location":"50.8205301,-1.1713195","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:35:31.776 +01:00 [WRN] Invalid postcode format: 50.8205301,-1.1713195
2025-07-21 11:35:31.777 +01:00 [WRN] Could not resolve location: 50.8205301,-1.1713195
2025-07-21 11:35:31.778 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.1715ms.
2025-07-21 11:35:31.779 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:35:31.781 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 30.3564ms
2025-07-21 11:35:31.782 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:35:31.783 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 35.1579 ms
2025-07-21 11:35:31.785 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 40.0312ms
2025-07-21 11:35:36.928 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 11:35:36.931 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:35:36.932 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:35:36.947 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:35:36.948 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0649ms.
2025-07-21 11:35:36.949 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:35:36.951 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 16.7119ms
2025-07-21 11:35:36.953 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:35:36.954 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 22.2470 ms
2025-07-21 11:35:36.955 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 26.9266ms
2025-07-21 11:35:37.011 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:35:37.013 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:35:37.015 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:35:37.029 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:35:37.031 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 11:35:37.033 +01:00 [INF] Starting provider search with filters: {"Location":"50.8205301,-1.1713195","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:35:37.046 +01:00 [WRN] Invalid postcode format: 50.8205301,-1.1713195
2025-07-21 11:35:37.047 +01:00 [WRN] Could not resolve location: 50.8205301,-1.1713195
2025-07-21 11:35:37.048 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.3127ms.
2025-07-21 11:35:37.049 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:35:37.050 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.8055ms
2025-07-21 11:35:37.051 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:35:37.052 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 39.1490 ms
2025-07-21 11:35:37.054 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 43.4975ms
2025-07-21 11:36:21.343 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:36:21.348 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:36:21.350 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:36:21.367 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:36:21.372 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6266ms.
2025-07-21 11:36:21.375 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:36:21.377 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 25.3433ms
2025-07-21 11:36:21.385 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:36:21.388 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 40.5629 ms
2025-07-21 11:36:21.391 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 48.0024ms
2025-07-21 11:36:49.468 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:36:49.473 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:36:49.475 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:36:49.494 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:36:49.496 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0371ms.
2025-07-21 11:36:49.497 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:36:49.499 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 21.7038ms
2025-07-21 11:36:49.502 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:36:49.504 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 32.4427 ms
2025-07-21 11:36:49.506 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 38.7434ms
2025-07-21 11:37:37.712 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:37:37.715 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:37:37.716 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:37:37.732 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:37:37.733 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1068ms.
2025-07-21 11:37:37.735 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:37:37.737 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.3988ms
2025-07-21 11:37:37.738 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:37:37.739 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 24.2752 ms
2025-07-21 11:37:37.741 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 28.9886ms
2025-07-21 11:37:44.155 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:37:44.157 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:37:44.158 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:37:44.172 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:37:44.173 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0641ms.
2025-07-21 11:37:44.175 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:37:44.176 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 16.277ms
2025-07-21 11:37:44.178 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:37:44.179 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 21.6605 ms
2025-07-21 11:37:44.181 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 26.3103ms
2025-07-21 11:38:38.339 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:38:38.342 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:38:38.343 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:38:38.358 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:38:38.359 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0612ms.
2025-07-21 11:38:38.361 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:38:38.363 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.0631ms
2025-07-21 11:38:38.365 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:38:38.366 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 24.1788 ms
2025-07-21 11:38:38.368 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 29.4492ms
2025-07-21 11:39:15.409 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:39:16.380 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:39:16.585 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:39:16.647 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:39:17.231 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:39:17.999 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:39:18.214 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:39:18.300 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:39:18.302 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:39:18.304 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:39:18.305 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:39:18.306 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:39:18.308 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:39:19.216 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:39:19.235 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:39:19.272 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:39:19.351 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:39:19.393 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:39:19.408 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:39:19.426 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:39:19.445 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:39:19.478 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:39:19.483 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:39:19.487 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:39:19.516 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:39:19.782 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:39:19.783 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:39:19.874 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:39:19.916 +01:00 [INF] Hosting environment: Development
2025-07-21 11:39:19.977 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:39:20.133 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:39:20.133 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:39:20.441 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:39:20.473 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:39:20.570 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:39:20.610 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 482.0517ms
2025-07-21 11:39:21.263 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:39:21.263 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:39:21.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 10.3788ms
2025-07-21 11:39:21.313 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.9963ms
2025-07-21 11:39:21.585 +01:00 [INF] Executed DbCommand (550ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:39:21.629 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1055.3706ms.
2025-07-21 11:39:21.640 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:39:21.677 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1198.2694ms
2025-07-21 11:39:21.680 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:39:21.686 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1470.0767 ms
2025-07-21 11:39:21.696 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1568.5921ms
2025-07-21 11:39:21.925 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:39:21.994 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.1689ms
2025-07-21 11:41:37.396 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 11:41:38.328 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 11:41:38.478 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 11:41:38.542 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 11:41:39.128 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 11:41:39.874 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 11:41:40.133 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 11:41:40.221 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:41:40.222 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:41:40.223 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:41:40.225 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:41:40.226 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:41:40.228 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 11:41:41.132 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:41:41.153 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 11:41:41.221 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 11:41:41.347 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 11:41:41.403 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 11:41:41.422 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 11:41:41.441 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 11:41:41.462 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 11:41:41.503 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 11:41:41.510 +01:00 [INF] Database migrations applied successfully
2025-07-21 11:41:41.515 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 11:41:41.549 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 11:41:41.834 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 11:41:41.836 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 11:41:41.921 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 11:41:41.922 +01:00 [INF] Hosting environment: Development
2025-07-21 11:41:41.924 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 11:41:41.966 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:41:42.097 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:41:42.117 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:41:42.239 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:41:42.371 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 11:41:42.615 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 243.8874ms
2025-07-21 11:41:42.643 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 11:41:42.664 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 21.6736ms
2025-07-21 11:41:43.216 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 11:41:43.263 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.7399ms
2025-07-21 11:41:43.425 +01:00 [INF] Executed DbCommand (541ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 11:41:43.477 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1233.7092ms.
2025-07-21 11:41:43.484 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:41:43.516 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1393.9393ms
2025-07-21 11:41:43.518 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:41:43.524 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1507.9049 ms
2025-07-21 11:41:43.540 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1581.6919ms
2025-07-21 11:41:43.873 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 11:41:43.945 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.5785ms
2025-07-21 11:41:50.650 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:41:50.657 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:41:50.673 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:41:50.718 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:41:50.722 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5055ms.
2025-07-21 11:41:50.724 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:41:50.727 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 52.0569ms
2025-07-21 11:41:50.728 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:41:50.730 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 73.1187 ms
2025-07-21 11:41:50.732 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 81.6215ms
2025-07-21 11:41:50.853 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:41:50.858 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:41:50.863 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:41:50.885 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:41:50.888 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:41:50.896 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:41:50.913 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:41:50.914 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:41:50.916 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.2331ms.
2025-07-21 11:41:50.918 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:41:50.933 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 66.81ms
2025-07-21 11:41:50.934 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:41:50.936 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 79.0882 ms
2025-07-21 11:41:50.938 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 84.9877ms
2025-07-21 11:41:52.979 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 11:41:52.983 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:41:52.985 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:41:53.004 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:41:53.005 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2097ms.
2025-07-21 11:41:53.007 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:41:53.008 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 21.9148ms
2025-07-21 11:41:53.010 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:41:53.011 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 28.0873 ms
2025-07-21 11:41:53.013 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 34.3019ms
2025-07-21 11:41:53.098 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:41:53.101 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:41:53.102 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:41:53.200 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:41:53.202 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 11:41:53.204 +01:00 [INF] Starting provider search with filters: {"Location":"50.91747059999999,-1.3535128","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:41:53.222 +01:00 [WRN] Invalid postcode format: 50.91747059999999,-1.3535128
2025-07-21 11:41:53.223 +01:00 [WRN] Could not resolve location: 50.91747059999999,-1.3535128
2025-07-21 11:41:53.224 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.5784ms.
2025-07-21 11:41:53.227 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:41:53.228 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 124.1359ms
2025-07-21 11:41:53.230 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:41:53.231 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 130.6529 ms
2025-07-21 11:41:53.233 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 135.3891ms
2025-07-21 11:42:05.928 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 11:42:05.932 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:05.934 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:05.952 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:05.953 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3517ms.
2025-07-21 11:42:05.955 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:05.958 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 22.3213ms
2025-07-21 11:42:05.959 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:05.960 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 28.0924 ms
2025-07-21 11:42:05.963 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 34.3692ms
2025-07-21 11:42:06.022 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:42:06.024 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:06.026 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:06.040 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:06.041 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 11:42:06.043 +01:00 [INF] Starting provider search with filters: {"Location":"53.4807593,-2.2426305","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:42:06.055 +01:00 [WRN] Invalid postcode format: 53.4807593,-2.2426305
2025-07-21 11:42:06.056 +01:00 [WRN] Could not resolve location: 53.4807593,-2.2426305
2025-07-21 11:42:06.057 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.8182ms.
2025-07-21 11:42:06.059 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:06.060 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.2626ms
2025-07-21 11:42:06.061 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:06.062 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 37.6383 ms
2025-07-21 11:42:06.064 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 42.4334ms
2025-07-21 11:42:10.595 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 11:42:10.598 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:10.600 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:10.615 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:10.616 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0483ms.
2025-07-21 11:42:10.618 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:10.621 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 19.7014ms
2025-07-21 11:42:10.623 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:10.624 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 26.0775 ms
2025-07-21 11:42:10.627 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 31.849ms
2025-07-21 11:42:10.692 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:42:10.695 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:10.696 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:10.711 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:10.713 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 11:42:10.715 +01:00 [INF] Starting provider search with filters: {"Location":"53.4807593,-2.2426305","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:42:10.731 +01:00 [WRN] Invalid postcode format: 53.4807593,-2.2426305
2025-07-21 11:42:10.732 +01:00 [WRN] Could not resolve location: 53.4807593,-2.2426305
2025-07-21 11:42:10.733 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.4835ms.
2025-07-21 11:42:10.735 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:10.736 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 37.4976ms
2025-07-21 11:42:10.737 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:10.739 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 43.4364 ms
2025-07-21 11:42:10.741 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 49.8746ms
2025-07-21 11:42:14.836 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 11:42:14.839 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:14.841 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:14.856 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:14.857 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.04ms.
2025-07-21 11:42:14.859 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:14.861 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 18.4084ms
2025-07-21 11:42:14.862 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:14.864 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 24.9056 ms
2025-07-21 11:42:14.866 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 29.4415ms
2025-07-21 11:42:14.927 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:42:14.930 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:14.932 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:14.949 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:14.950 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 11:42:14.952 +01:00 [INF] Starting provider search with filters: {"Location":"53.4807593,-2.2426305","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:42:14.964 +01:00 [WRN] Invalid postcode format: 53.4807593,-2.2426305
2025-07-21 11:42:14.965 +01:00 [WRN] Could not resolve location: 53.4807593,-2.2426305
2025-07-21 11:42:14.966 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.7612ms.
2025-07-21 11:42:14.967 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:14.968 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 34.4873ms
2025-07-21 11:42:14.970 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:14.971 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 40.6113 ms
2025-07-21 11:42:14.973 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 45.6469ms
2025-07-21 11:42:15.504 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 11:42:15.508 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:15.510 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:15.527 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:15.529 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.05ms.
2025-07-21 11:42:15.530 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:15.531 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 19.1389ms
2025-07-21 11:42:15.533 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:15.534 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.9888 ms
2025-07-21 11:42:15.536 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 32.4649ms
2025-07-21 11:42:15.597 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:42:15.600 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:15.602 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:15.616 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:15.617 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 11:42:15.619 +01:00 [INF] Starting provider search with filters: {"Location":"53.4807593,-2.2426305","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:42:15.630 +01:00 [WRN] Invalid postcode format: 53.4807593,-2.2426305
2025-07-21 11:42:15.631 +01:00 [WRN] Could not resolve location: 53.4807593,-2.2426305
2025-07-21 11:42:15.632 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.7226ms.
2025-07-21 11:42:15.633 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:15.634 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 30.9779ms
2025-07-21 11:42:15.636 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:15.637 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 36.4940 ms
2025-07-21 11:42:15.638 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 40.9554ms
2025-07-21 11:42:23.756 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Brighton&maxResults=1 - null null
2025-07-21 11:42:23.758 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:23.759 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:23.778 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:23.779 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0449ms.
2025-07-21 11:42:23.781 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:23.787 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 25.1582ms
2025-07-21 11:42:23.788 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:23.790 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 31.7385 ms
2025-07-21 11:42:23.792 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Brighton&maxResults=1 - 200 null application/json; charset=utf-8 36.4298ms
2025-07-21 11:42:23.864 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8229402&longitude=-0.1362672&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:42:23.867 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:23.869 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:23.884 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:23.885 +01:00 [INF] Getting nearby providers at 50.8229402,-0.1362672 within 25 miles
2025-07-21 11:42:23.887 +01:00 [INF] Starting provider search with filters: {"Location":"50.8229402,-0.1362672","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:42:23.899 +01:00 [WRN] Invalid postcode format: 50.8229402,-0.1362672
2025-07-21 11:42:23.900 +01:00 [WRN] Could not resolve location: 50.8229402,-0.1362672
2025-07-21 11:42:23.901 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.6207ms.
2025-07-21 11:42:23.902 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:23.904 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.1747ms
2025-07-21 11:42:23.906 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:23.907 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 40.0358 ms
2025-07-21 11:42:23.909 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8229402&longitude=-0.1362672&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 44.9099ms
2025-07-21 11:42:31.847 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Brighton&maxResults=1 - null null
2025-07-21 11:42:31.853 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:31.854 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:31.873 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:31.880 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0533ms.
2025-07-21 11:42:31.883 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:31.887 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 31.192ms
2025-07-21 11:42:31.888 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:31.890 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 37.2609 ms
2025-07-21 11:42:31.892 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Brighton&maxResults=1 - 200 null application/json; charset=utf-8 44.3137ms
2025-07-21 11:42:31.947 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8229402&longitude=-0.1362672&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:42:31.950 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:31.951 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:31.964 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:31.965 +01:00 [INF] Getting nearby providers at 50.8229402,-0.1362672 within 25 miles
2025-07-21 11:42:31.966 +01:00 [INF] Starting provider search with filters: {"Location":"50.8229402,-0.1362672","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:42:31.978 +01:00 [WRN] Invalid postcode format: 50.8229402,-0.1362672
2025-07-21 11:42:31.979 +01:00 [WRN] Could not resolve location: 50.8229402,-0.1362672
2025-07-21 11:42:31.980 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.8058ms.
2025-07-21 11:42:31.981 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:31.982 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 29.6825ms
2025-07-21 11:42:31.984 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:31.985 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 35.6117 ms
2025-07-21 11:42:31.987 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8229402&longitude=-0.1362672&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 40.0966ms
2025-07-21 11:42:36.488 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Brighton&maxResults=1 - null null
2025-07-21 11:42:36.491 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:36.494 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:36.512 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:36.514 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0562ms.
2025-07-21 11:42:36.515 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:36.517 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.9885ms
2025-07-21 11:42:36.518 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:42:36.519 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 28.2782 ms
2025-07-21 11:42:36.521 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Brighton&maxResults=1 - 200 null application/json; charset=utf-8 33.2391ms
2025-07-21 11:42:36.573 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8229402&longitude=-0.1362672&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:42:36.576 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:36.577 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:42:36.590 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:42:36.592 +01:00 [INF] Getting nearby providers at 50.8229402,-0.1362672 within 25 miles
2025-07-21 11:42:36.593 +01:00 [INF] Starting provider search with filters: {"Location":"50.8229402,-0.1362672","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:42:36.606 +01:00 [WRN] Invalid postcode format: 50.8229402,-0.1362672
2025-07-21 11:42:36.607 +01:00 [WRN] Could not resolve location: 50.8229402,-0.1362672
2025-07-21 11:42:36.608 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.5197ms.
2025-07-21 11:42:36.610 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:42:36.611 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.578ms
2025-07-21 11:42:36.612 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:42:36.613 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 37.7423 ms
2025-07-21 11:42:36.615 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8229402&longitude=-0.1362672&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 42.6866ms
2025-07-21 11:43:01.584 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - null null
2025-07-21 11:43:01.587 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:01.588 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:01.630 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:01.632 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0492ms.
2025-07-21 11:43:01.633 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:01.634 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 44.3287ms
2025-07-21 11:43:01.636 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:01.637 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 50.1063 ms
2025-07-21 11:43:01.639 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - 200 null application/json; charset=utf-8 54.8044ms
2025-07-21 11:43:01.690 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:43:01.693 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:01.694 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:01.709 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:01.710 +01:00 [INF] Getting nearby providers at 55.9489628,-3.1898944 within 25 miles
2025-07-21 11:43:01.712 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489628,-3.1898944","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:01.723 +01:00 [WRN] Invalid postcode format: 55.9489628,-3.1898944
2025-07-21 11:43:01.724 +01:00 [WRN] Could not resolve location: 55.9489628,-3.1898944
2025-07-21 11:43:01.725 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.4595ms.
2025-07-21 11:43:01.726 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:01.727 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 30.8535ms
2025-07-21 11:43:01.729 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:01.730 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 36.8281 ms
2025-07-21 11:43:01.731 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 41.2853ms
2025-07-21 11:43:02.096 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - null null
2025-07-21 11:43:02.099 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:02.100 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:02.116 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:02.117 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0419ms.
2025-07-21 11:43:02.119 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:02.120 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 18.3353ms
2025-07-21 11:43:02.122 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:02.123 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 23.9264 ms
2025-07-21 11:43:02.125 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - 200 null application/json; charset=utf-8 28.642ms
2025-07-21 11:43:02.201 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 11:43:02.204 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:02.205 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:02.225 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:02.226 +01:00 [INF] Getting nearby providers at 55.9489628,-3.1898944 within 25 miles
2025-07-21 11:43:02.229 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489628,-3.1898944","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:02.242 +01:00 [WRN] Invalid postcode format: 55.9489628,-3.1898944
2025-07-21 11:43:02.243 +01:00 [WRN] Could not resolve location: 55.9489628,-3.1898944
2025-07-21 11:43:02.244 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.9837ms.
2025-07-21 11:43:02.245 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:02.247 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 39.314ms
2025-07-21 11:43:02.248 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:02.249 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 44.9345 ms
2025-07-21 11:43:02.251 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 49.5865ms
2025-07-21 11:43:04.683 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - null null
2025-07-21 11:43:04.686 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:04.687 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:04.703 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:04.705 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0449ms.
2025-07-21 11:43:04.706 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:04.707 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17.9723ms
2025-07-21 11:43:04.709 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:04.710 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 24.1958 ms
2025-07-21 11:43:04.712 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - 200 null application/json; charset=utf-8 28.7601ms
2025-07-21 11:43:04.762 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d - null null
2025-07-21 11:43:04.765 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:04.766 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:04.780 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:04.781 +01:00 [INF] Getting nearby providers at 55.9489628,-3.1898944 within 25 miles
2025-07-21 11:43:04.783 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489628,-3.1898944","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:04.796 +01:00 [WRN] Invalid postcode format: 55.9489628,-3.1898944
2025-07-21 11:43:04.804 +01:00 [WRN] Could not resolve location: 55.9489628,-3.1898944
2025-07-21 11:43:04.806 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.8379ms.
2025-07-21 11:43:04.808 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:04.809 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - null null
2025-07-21 11:43:04.810 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 42.1002ms
2025-07-21 11:43:04.813 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:04.814 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:04.815 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:04.815 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 50.6592 ms
2025-07-21 11:43:04.830 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:04.830 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d - 200 null application/json; charset=utf-8 68.3295ms
2025-07-21 11:43:04.831 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0438ms.
2025-07-21 11:43:04.836 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:04.837 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.0274ms
2025-07-21 11:43:04.839 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:04.840 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 27.1033 ms
2025-07-21 11:43:04.842 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - 200 null application/json; charset=utf-8 32.9551ms
2025-07-21 11:43:04.897 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d - null null
2025-07-21 11:43:04.900 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:04.901 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:04.916 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:04.918 +01:00 [INF] Getting nearby providers at 55.9489628,-3.1898944 within 25 miles
2025-07-21 11:43:04.919 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489628,-3.1898944","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:04.931 +01:00 [WRN] Invalid postcode format: 55.9489628,-3.1898944
2025-07-21 11:43:04.932 +01:00 [WRN] Could not resolve location: 55.9489628,-3.1898944
2025-07-21 11:43:04.933 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.3401ms.
2025-07-21 11:43:04.935 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:04.936 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.4005ms
2025-07-21 11:43:04.937 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:04.939 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.9927 ms
2025-07-21 11:43:04.941 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d - 200 null application/json; charset=utf-8 43.4571ms
2025-07-21 11:43:14.417 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - null null
2025-07-21 11:43:14.421 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:14.424 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:14.442 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:14.444 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.045ms.
2025-07-21 11:43:14.445 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:14.447 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.5924ms
2025-07-21 11:43:14.448 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:14.450 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 28.5388 ms
2025-07-21 11:43:14.451 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - 200 null application/json; charset=utf-8 33.978ms
2025-07-21 11:43:14.504 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d - null null
2025-07-21 11:43:14.507 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:14.508 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:14.530 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:14.531 +01:00 [INF] Getting nearby providers at 55.9489628,-3.1898944 within 25 miles
2025-07-21 11:43:14.533 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489628,-3.1898944","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:14.546 +01:00 [WRN] Invalid postcode format: 55.9489628,-3.1898944
2025-07-21 11:43:14.546 +01:00 [WRN] Could not resolve location: 55.9489628,-3.1898944
2025-07-21 11:43:14.547 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.5359ms.
2025-07-21 11:43:14.549 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:14.550 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 39.6524ms
2025-07-21 11:43:14.551 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:14.552 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 45.0481 ms
2025-07-21 11:43:14.554 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d - 200 null application/json; charset=utf-8 50.0835ms
2025-07-21 11:43:15.960 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - null null
2025-07-21 11:43:15.963 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:15.965 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:15.984 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:15.985 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0296ms.
2025-07-21 11:43:15.987 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:15.989 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 21.2944ms
2025-07-21 11:43:15.990 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:15.991 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 27.8141 ms
2025-07-21 11:43:15.993 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - 200 null application/json; charset=utf-8 32.7664ms
2025-07-21 11:43:16.048 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea - null null
2025-07-21 11:43:16.051 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:16.052 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:16.074 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:16.075 +01:00 [INF] Getting nearby providers at 55.9489628,-3.1898944 within 25 miles
2025-07-21 11:43:16.076 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489628,-3.1898944","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:16.089 +01:00 [WRN] Invalid postcode format: 55.9489628,-3.1898944
2025-07-21 11:43:16.090 +01:00 [WRN] Could not resolve location: 55.9489628,-3.1898944
2025-07-21 11:43:16.091 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.2008ms.
2025-07-21 11:43:16.093 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:16.094 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 40.0415ms
2025-07-21 11:43:16.095 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:16.097 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 45.5967 ms
2025-07-21 11:43:16.098 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea - 200 null application/json; charset=utf-8 50.3158ms
2025-07-21 11:43:17.258 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - null null
2025-07-21 11:43:17.261 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:17.263 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:17.284 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:17.285 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0326ms.
2025-07-21 11:43:17.287 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:17.288 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 23.5414ms
2025-07-21 11:43:17.289 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:17.291 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 29.6764 ms
2025-07-21 11:43:17.293 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - 200 null application/json; charset=utf-8 34.8473ms
2025-07-21 11:43:17.341 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102 - null null
2025-07-21 11:43:17.344 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:17.345 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:17.366 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:17.367 +01:00 [INF] Getting nearby providers at 55.9489628,-3.1898944 within 25 miles
2025-07-21 11:43:17.369 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489628,-3.1898944","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:17.383 +01:00 [WRN] Invalid postcode format: 55.9489628,-3.1898944
2025-07-21 11:43:17.384 +01:00 [WRN] Could not resolve location: 55.9489628,-3.1898944
2025-07-21 11:43:17.385 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.8594ms.
2025-07-21 11:43:17.387 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:17.388 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 37.8644ms
2025-07-21 11:43:17.389 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:17.390 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 46.4935 ms
2025-07-21 11:43:17.392 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102 - 200 null application/json; charset=utf-8 51.0183ms
2025-07-21 11:43:18.325 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - null null
2025-07-21 11:43:18.328 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:18.329 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:18.342 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:18.344 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1225ms.
2025-07-21 11:43:18.345 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:18.347 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 15.7107ms
2025-07-21 11:43:18.348 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:18.350 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 22.0178 ms
2025-07-21 11:43:18.351 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - 200 null application/json; charset=utf-8 26.4479ms
2025-07-21 11:43:18.408 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7 - null null
2025-07-21 11:43:18.411 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:18.412 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:18.426 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:18.427 +01:00 [INF] Getting nearby providers at 55.9489628,-3.1898944 within 25 miles
2025-07-21 11:43:18.429 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489628,-3.1898944","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102","6c8a41f3-2057-4a0e-9d19-523585c631b7"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:18.441 +01:00 [WRN] Invalid postcode format: 55.9489628,-3.1898944
2025-07-21 11:43:18.442 +01:00 [WRN] Could not resolve location: 55.9489628,-3.1898944
2025-07-21 11:43:18.443 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.0506ms.
2025-07-21 11:43:18.445 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:18.446 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 31.6504ms
2025-07-21 11:43:18.447 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:18.448 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 36.7518 ms
2025-07-21 11:43:18.450 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7 - 200 null application/json; charset=utf-8 41.6168ms
2025-07-21 11:43:19.201 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - null null
2025-07-21 11:43:19.204 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:19.205 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:19.223 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:19.224 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0286ms.
2025-07-21 11:43:19.226 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:19.227 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 19.3238ms
2025-07-21 11:43:19.228 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:19.230 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.3783 ms
2025-07-21 11:43:19.232 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - 200 null application/json; charset=utf-8 30.7642ms
2025-07-21 11:43:19.270 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 11:43:19.273 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:19.274 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:19.287 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:19.288 +01:00 [INF] Getting nearby providers at 55.9489628,-3.1898944 within 25 miles
2025-07-21 11:43:19.290 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489628,-3.1898944","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102","6c8a41f3-2057-4a0e-9d19-523585c631b7","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:19.304 +01:00 [WRN] Invalid postcode format: 55.9489628,-3.1898944
2025-07-21 11:43:19.305 +01:00 [WRN] Could not resolve location: 55.9489628,-3.1898944
2025-07-21 11:43:19.306 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.2197ms.
2025-07-21 11:43:19.307 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:19.309 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.6493ms
2025-07-21 11:43:19.310 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:19.312 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 39.0720 ms
2025-07-21 11:43:19.314 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 43.6674ms
2025-07-21 11:43:20.097 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - null null
2025-07-21 11:43:20.100 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:20.101 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:20.115 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:20.117 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0241ms.
2025-07-21 11:43:20.118 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:20.119 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 16.4586ms
2025-07-21 11:43:20.120 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:20.121 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 21.5068 ms
2025-07-21 11:43:20.123 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1&maxResults=1 - 200 null application/json; charset=utf-8 26.2767ms
2025-07-21 11:43:20.170 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - null null
2025-07-21 11:43:20.172 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:20.173 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:20.187 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:20.188 +01:00 [INF] Getting nearby providers at 55.9489628,-3.1898944 within 25 miles
2025-07-21 11:43:20.189 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489628,-3.1898944","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102","6c8a41f3-2057-4a0e-9d19-523585c631b7","e797fadc-e970-4f5c-8eee-8339d465ba4d","fd04416c-0909-44b6-9328-3d687214e378"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:20.203 +01:00 [WRN] Invalid postcode format: 55.9489628,-3.1898944
2025-07-21 11:43:20.203 +01:00 [WRN] Could not resolve location: 55.9489628,-3.1898944
2025-07-21 11:43:20.204 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.3388ms.
2025-07-21 11:43:20.206 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:20.207 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 31.6581ms
2025-07-21 11:43:20.210 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:20.211 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.7932 ms
2025-07-21 11:43:20.213 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489628&longitude=-3.1898944&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - 200 null application/json; charset=utf-8 43.4612ms
2025-07-21 11:43:25.661 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1%202nG&maxResults=1 - null null
2025-07-21 11:43:25.664 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:25.666 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:25.684 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:25.686 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0371ms.
2025-07-21 11:43:25.687 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:25.689 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 21.1056ms
2025-07-21 11:43:25.690 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:25.691 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 27.0389 ms
2025-07-21 11:43:25.694 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1%202nG&maxResults=1 - 200 null application/json; charset=utf-8 32.1747ms
2025-07-21 11:43:25.768 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489606&longitude=-3.2014791&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - null null
2025-07-21 11:43:25.771 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:25.773 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:25.785 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:25.786 +01:00 [INF] Getting nearby providers at 55.9489606,-3.2014791 within 25 miles
2025-07-21 11:43:25.787 +01:00 [INF] Starting provider search with filters: {"Location":"55.9489606,-3.2014791","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102","6c8a41f3-2057-4a0e-9d19-523585c631b7","e797fadc-e970-4f5c-8eee-8339d465ba4d","fd04416c-0909-44b6-9328-3d687214e378"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:25.801 +01:00 [WRN] Invalid postcode format: 55.9489606,-3.2014791
2025-07-21 11:43:25.801 +01:00 [WRN] Could not resolve location: 55.9489606,-3.2014791
2025-07-21 11:43:25.802 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.3134ms.
2025-07-21 11:43:25.804 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:25.805 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 30.829ms
2025-07-21 11:43:25.806 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:25.807 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 36.7298 ms
2025-07-21 11:43:25.809 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489606&longitude=-3.2014791&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - 200 null application/json; charset=utf-8 41.1612ms
2025-07-21 11:43:27.806 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.378051&longitude=-3.435973&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - null null
2025-07-21 11:43:27.809 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:27.810 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:27.823 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:27.825 +01:00 [INF] Getting nearby providers at 55.378051,-3.435973 within 25 miles
2025-07-21 11:43:27.826 +01:00 [INF] Starting provider search with filters: {"Location":"55.378051,-3.435973","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102","6c8a41f3-2057-4a0e-9d19-523585c631b7","e797fadc-e970-4f5c-8eee-8339d465ba4d","fd04416c-0909-44b6-9328-3d687214e378"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:27.839 +01:00 [WRN] Invalid postcode format: 55.378051,-3.435973
2025-07-21 11:43:27.840 +01:00 [WRN] Could not resolve location: 55.378051,-3.435973
2025-07-21 11:43:27.841 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.5428ms.
2025-07-21 11:43:27.842 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:27.843 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 31.6956ms
2025-07-21 11:43:27.845 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:27.846 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 37.4513 ms
2025-07-21 11:43:27.848 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.378051&longitude=-3.435973&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - 200 null application/json; charset=utf-8 41.7798ms
2025-07-21 11:43:29.934 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Camb&maxResults=1 - null null
2025-07-21 11:43:29.937 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:29.938 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:29.951 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:29.952 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0199ms.
2025-07-21 11:43:29.954 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:29.955 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 15.1905ms
2025-07-21 11:43:29.956 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:29.957 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 20.6032 ms
2025-07-21 11:43:29.959 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Camb&maxResults=1 - 200 null application/json; charset=utf-8 25.0864ms
2025-07-21 11:43:30.030 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - null null
2025-07-21 11:43:30.033 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:30.034 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:30.048 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:30.049 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 11:43:30.050 +01:00 [INF] Starting provider search with filters: {"Location":"52.1950788,0.1312729","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102","6c8a41f3-2057-4a0e-9d19-523585c631b7","e797fadc-e970-4f5c-8eee-8339d465ba4d","fd04416c-0909-44b6-9328-3d687214e378"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:30.064 +01:00 [WRN] Invalid postcode format: 52.1950788,0.1312729
2025-07-21 11:43:30.064 +01:00 [WRN] Could not resolve location: 52.1950788,0.1312729
2025-07-21 11:43:30.065 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.5979ms.
2025-07-21 11:43:30.066 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:30.068 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.3719ms
2025-07-21 11:43:30.069 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:30.070 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 37.6888 ms
2025-07-21 11:43:30.072 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - 200 null application/json; charset=utf-8 42.1582ms
2025-07-21 11:43:31.024 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 11:43:31.027 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:31.028 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:31.043 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:31.044 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0247ms.
2025-07-21 11:43:31.045 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:31.046 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 16.5531ms
2025-07-21 11:43:31.048 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:31.049 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 22.0481 ms
2025-07-21 11:43:31.051 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 26.3933ms
2025-07-21 11:43:31.090 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - null null
2025-07-21 11:43:31.093 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:31.094 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:31.110 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:31.111 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 11:43:31.113 +01:00 [INF] Starting provider search with filters: {"Location":"52.1950788,0.1312729","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102","6c8a41f3-2057-4a0e-9d19-523585c631b7","e797fadc-e970-4f5c-8eee-8339d465ba4d","fd04416c-0909-44b6-9328-3d687214e378"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:31.127 +01:00 [WRN] Invalid postcode format: 52.1950788,0.1312729
2025-07-21 11:43:31.127 +01:00 [WRN] Could not resolve location: 52.1950788,0.1312729
2025-07-21 11:43:31.128 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.1555ms.
2025-07-21 11:43:31.130 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:31.131 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.242ms
2025-07-21 11:43:31.132 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:31.133 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 40.3771 ms
2025-07-21 11:43:31.135 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - 200 null application/json; charset=utf-8 44.603ms
2025-07-21 11:43:34.146 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 11:43:34.149 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:34.151 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:34.165 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:34.166 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0191ms.
2025-07-21 11:43:34.168 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:34.169 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 16.5948ms
2025-07-21 11:43:34.171 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:43:34.172 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 22.4507 ms
2025-07-21 11:43:34.174 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 27.6644ms
2025-07-21 11:43:34.217 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - null null
2025-07-21 11:43:34.221 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:34.223 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:43:34.237 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:43:34.238 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 11:43:34.239 +01:00 [INF] Starting provider search with filters: {"Location":"52.1950788,0.1312729","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102","6c8a41f3-2057-4a0e-9d19-523585c631b7","e797fadc-e970-4f5c-8eee-8339d465ba4d","fd04416c-0909-44b6-9328-3d687214e378"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:43:34.252 +01:00 [WRN] Invalid postcode format: 52.1950788,0.1312729
2025-07-21 11:43:34.253 +01:00 [WRN] Could not resolve location: 52.1950788,0.1312729
2025-07-21 11:43:34.254 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.0133ms.
2025-07-21 11:43:34.255 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:43:34.257 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.0462ms
2025-07-21 11:43:34.258 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:43:34.258 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 37.9773 ms
2025-07-21 11:43:34.260 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - 200 null application/json; charset=utf-8 42.9405ms
2025-07-21 11:44:19.319 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinburgh&maxResults=1 - null null
2025-07-21 11:44:19.322 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:44:19.323 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:44:19.335 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:44:19.336 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0197ms.
2025-07-21 11:44:19.338 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:44:19.339 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 14.4988ms
2025-07-21 11:44:19.340 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:44:19.341 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 19.4411 ms
2025-07-21 11:44:19.343 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinburgh&maxResults=1 - 200 null application/json; charset=utf-8 24.0096ms
2025-07-21 11:44:19.401 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - null null
2025-07-21 11:44:19.404 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:44:19.405 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:44:19.418 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:44:30.210 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinburgh&maxResults=1 - null null
2025-07-21 11:44:33.908 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:44:33.940 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:44:36.170 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:44:36.170 +01:00 [INF] Getting nearby providers at 55.953252,-3.188267 within 25 miles
2025-07-21 11:44:36.171 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0225ms.
2025-07-21 11:44:36.652 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:44:36.664 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 541.7918ms
2025-07-21 11:44:43.806 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 11:44:44.479 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 10570.7170 ms
2025-07-21 11:44:45.330 +01:00 [INF] Starting provider search with filters: {"Location":"55.953252,-3.188267","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102","6c8a41f3-2057-4a0e-9d19-523585c631b7","e797fadc-e970-4f5c-8eee-8339d465ba4d","fd04416c-0909-44b6-9328-3d687214e378"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:44:45.330 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinburgh&maxResults=1 - 200 null application/json; charset=utf-8 15120.2484ms
2025-07-21 11:44:46.946 +01:00 [WRN] Invalid postcode format: 55.953252,-3.188267
2025-07-21 11:45:15.136 +01:00 [WRN] Could not resolve location: 55.953252,-3.188267
2025-07-21 11:45:15.148 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 55728.8824ms.
2025-07-21 11:45:15.151 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - null null
2025-07-21 11:45:15.155 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:45:15.157 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:45:15.158 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 55751.4332ms
2025-07-21 11:45:15.159 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 11:45:15.160 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:45:15.172 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:45:15.172 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 55768.6579 ms
2025-07-21 11:45:17.749 +01:00 [INF] Getting nearby providers at 55.953252,-3.188267 within 25 miles
2025-07-21 11:45:17.751 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - 200 null application/json; charset=utf-8 58349.9308ms
2025-07-21 11:45:17.752 +01:00 [INF] Starting provider search with filters: {"Location":"55.953252,-3.188267","Latitude":null,"Longitude":null,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea","e8c2e7d9-dede-436e-bbad-74605769e102","6c8a41f3-2057-4a0e-9d19-523585c631b7","e797fadc-e970-4f5c-8eee-8339d465ba4d","fd04416c-0909-44b6-9328-3d687214e378"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 11:45:39.423 +01:00 [WRN] Invalid postcode format: 55.953252,-3.188267
2025-07-21 11:47:14.288 +01:00 [WRN] Could not resolve location: 55.953252,-3.188267
2025-07-21 11:47:14.296 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 119122.8211ms.
2025-07-21 11:47:14.298 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:47:14.299 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 119137.4217ms
2025-07-21 11:47:14.300 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 11:47:14.301 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 119143.9542 ms
2025-07-21 11:47:14.302 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea,e8c2e7d9-dede-436e-bbad-74605769e102,6c8a41f3-2057-4a0e-9d19-523585c631b7,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378 - 200 null application/json; charset=utf-8 119154.7416ms
2025-07-21 11:47:18.241 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:47:18.245 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:47:18.246 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:47:18.262 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:47:18.264 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6221ms.
2025-07-21 11:47:18.266 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:47:18.268 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.2905ms
2025-07-21 11:47:18.269 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:47:18.271 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 27.3648 ms
2025-07-21 11:47:18.273 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 32.2512ms
2025-07-21 11:50:47.204 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 11:50:47.208 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:50:47.210 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 11:50:47.232 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 11:50:47.233 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0736ms.
2025-07-21 11:50:47.235 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 11:50:47.237 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 25.2898ms
2025-07-21 11:50:47.239 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 11:50:47.240 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 33.5732 ms
2025-07-21 11:50:47.243 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 38.6845ms
2025-07-21 12:10:04.138 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 12:10:04.986 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 12:10:05.163 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 12:10:05.225 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 12:10:05.930 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 12:10:06.524 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 12:10:06.790 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 12:10:06.857 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:10:06.860 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:10:06.861 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:10:06.865 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:10:06.867 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:10:06.869 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:10:07.707 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 12:10:07.733 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 12:10:07.775 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 12:10:07.861 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 12:10:07.905 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 12:10:07.920 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 12:10:07.950 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 12:10:07.969 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 12:10:08.003 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 12:10:08.009 +01:00 [INF] Database migrations applied successfully
2025-07-21 12:10:08.017 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 12:10:08.056 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 12:10:08.372 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 12:10:08.374 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 12:10:08.485 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 12:10:08.513 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 12:10:08.515 +01:00 [INF] Hosting environment: Development
2025-07-21 12:10:08.516 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 12:10:08.602 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 12:10:08.744 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:10:08.796 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 12:10:08.954 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:10:09.110 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 507.3951ms
2025-07-21 12:10:09.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 12:10:09.158 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 13.9663ms
2025-07-21 12:10:10.068 +01:00 [INF] Executed DbCommand (543ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 12:10:10.119 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1158.5592ms.
2025-07-21 12:10:10.129 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:10:10.173 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1370.9697ms
2025-07-21 12:10:10.176 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:10:10.182 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1582.9948 ms
2025-07-21 12:10:10.192 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1715.3221ms
2025-07-21 12:10:12.517 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 12:10:12.557 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.2444ms
2025-07-21 12:10:24.262 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 12:10:24.339 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.6225ms
2025-07-21 12:10:26.899 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 12:10:26.903 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:10:26.915 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:10:26.957 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:10:26.963 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.0178ms.
2025-07-21 12:10:26.965 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:10:26.969 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 52.1323ms
2025-07-21 12:10:26.971 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:10:26.972 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 68.5452 ms
2025-07-21 12:10:26.974 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 75.199ms
2025-07-21 12:10:26.984 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 12:10:26.991 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:10:26.993 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:10:27.010 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:10:27.011 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1425ms.
2025-07-21 12:10:27.013 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:10:27.014 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 19.4973ms
2025-07-21 12:10:27.015 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:10:27.017 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 27.9825 ms
2025-07-21 12:10:27.019 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 34.4346ms
2025-07-21 12:10:27.190 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:10:27.194 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:10:27.200 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:10:27.216 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:10:27.219 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 12:10:27.230 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":53.4807593,"Longitude":-2.2426305,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:10:27.244 +01:00 [INF] Using provided coordinates: Lat=53.4807593, Lng=-2.2426305
2025-07-21 12:10:27.251 +01:00 [INF] Executing real provider search at 53.4807593,-2.2426305 within 25 miles
2025-07-21 12:10:27.402 +01:00 [ERR] Error executing real provider search
System.InvalidOperationException: The LINQ expression 'DbSet<ProviderService>()
    .Any(p => p.ProviderId == Guid.Parse(StructuralTypeShaperExpression(
        StructuralType: MeAndMyDog.API.Models.Entities.ServiceProvider
        ValueBufferExpression: ProjectionBindingExpression: Outer
        IsNullable: False).Id) && __serviceGuids_0
        .Contains(p.ServiceCategoryId) && p.IsOffered)' could not be translated. Additional information: Translation of method 'System.Guid.Parse' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.ProviderSearchService.ExecuteProviderSearchAsync(Double latitude, Double longitude, Int32 radiusMiles, ProviderSearchFilterDto filters, Int32 pageNumber, Int32 pageSize, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\ProviderSearchService.cs:line 724
2025-07-21 12:10:27.451 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 12:10:27.453 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 235.1222ms.
2025-07-21 12:10:27.455 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:10:27.474 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 272.3863ms
2025-07-21 12:10:27.476 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:10:27.477 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 282.9488 ms
2025-07-21 12:10:27.481 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 290.168ms
2025-07-21 12:10:27.489 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:10:27.493 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:10:27.494 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:10:27.512 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:10:27.514 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 12:10:27.516 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":53.4807593,"Longitude":-2.2426305,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:10:27.531 +01:00 [INF] Using provided coordinates: Lat=53.4807593, Lng=-2.2426305
2025-07-21 12:10:27.532 +01:00 [INF] Returning cached search results for key: search_53.4808_-2.2426_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:10:27.533 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.2652ms.
2025-07-21 12:10:27.535 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:10:27.537 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 40.6396ms
2025-07-21 12:10:27.539 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:10:27.540 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 47.3357 ms
2025-07-21 12:10:27.542 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 52.9718ms
2025-07-21 12:14:27.034 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 12:14:27.039 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:14:27.040 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 12:14:27.057 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:14:27.058 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.359ms.
2025-07-21 12:14:27.060 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:14:27.062 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.806ms
2025-07-21 12:14:27.064 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:14:27.065 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 27.1123 ms
2025-07-21 12:14:27.066 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 32.8462ms
2025-07-21 12:15:51.661 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 12:15:51.671 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:15:51.672 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 12:15:51.687 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:15:51.689 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0707ms.
2025-07-21 12:15:51.690 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:15:51.692 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.3712ms
2025-07-21 12:15:51.694 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:15:51.695 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.2394 ms
2025-07-21 12:15:51.697 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 35.8611ms
2025-07-21 12:28:34.356 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 12:28:35.350 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 12:28:35.541 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 12:28:35.601 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 12:28:36.320 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 12:28:36.988 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 12:28:37.158 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 12:28:37.239 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:37.240 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:37.242 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:37.244 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:37.246 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:37.248 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:37.695 +01:00 [FTL] An error occurred while migrating or seeding the database
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 379
2025-07-21 12:28:37.754 +01:00 [FTL] Application failed to start
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 379
2025-07-21 12:28:49.553 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 12:28:50.515 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 12:28:50.666 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 12:28:50.724 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 12:28:51.291 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 12:28:51.853 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 12:28:52.013 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 12:28:52.080 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:52.081 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:52.083 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:52.084 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:52.085 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:52.087 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:28:52.469 +01:00 [FTL] An error occurred while migrating or seeding the database
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 379
2025-07-21 12:28:52.535 +01:00 [FTL] Application failed to start
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 379
2025-07-21 12:30:46.562 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 12:30:47.529 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 12:30:47.687 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 12:30:47.737 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 12:30:48.312 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 12:30:48.870 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 12:30:49.048 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 12:30:49.120 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:30:49.121 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:30:49.122 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:30:49.124 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:30:49.125 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:30:49.126 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:30:49.934 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 12:30:49.951 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 12:30:49.987 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 12:30:50.070 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 12:30:50.115 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 12:30:50.129 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 12:30:50.148 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 12:30:50.162 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 12:30:50.193 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 12:30:50.199 +01:00 [INF] Database migrations applied successfully
2025-07-21 12:30:50.207 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 12:30:50.256 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 12:30:50.579 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 12:30:50.580 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 12:30:50.668 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 12:30:50.669 +01:00 [INF] Hosting environment: Development
2025-07-21 12:30:50.671 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 12:30:51.009 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 12:30:51.009 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 12:30:51.257 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:30:51.300 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 12:30:51.403 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:30:51.472 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 464.8996ms
2025-07-21 12:30:51.498 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 12:30:51.506 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 8.174ms
2025-07-21 12:30:51.923 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 12:30:51.968 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.7552ms
2025-07-21 12:30:52.370 +01:00 [INF] Executed DbCommand (540ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 12:30:52.418 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1010.3425ms.
2025-07-21 12:30:52.428 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:30:52.469 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1163.3533ms
2025-07-21 12:30:52.471 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:30:52.476 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1406.6580 ms
2025-07-21 12:30:52.484 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1481.2377ms
2025-07-21 12:30:53.055 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 12:30:53.105 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.0319ms
2025-07-21 12:30:56.897 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 12:30:56.903 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:30:56.918 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:30:56.972 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:30:57.889 +01:00 [INF] Executed DbCommand (803ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='po13 0jx%' (Size = 10), @__Replace_1_startswith='po130jx%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:30:58.461 +01:00 [INF] Executed DbCommand (540ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:30:58.501 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 4000), @__queryLower_0_startswith_1='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 12:30:58.505 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1531.022ms.
2025-07-21 12:30:58.507 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:30:58.511 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 1591.0075ms
2025-07-21 12:30:58.513 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:30:58.514 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 1613.0952 ms
2025-07-21 12:30:58.518 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 1621.3994ms
2025-07-21 12:30:58.527 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 12:30:58.535 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:30:58.536 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:30:58.558 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:30:58.639 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:30:58.643 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:30:58.646 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:30:58.665 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:30:58.669 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:30:58.676 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:30:58.693 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-21 12:30:58.700 +01:00 [INF] Executing real provider search at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:30:58.784 +01:00 [ERR] Error executing real provider search
System.InvalidOperationException: The LINQ expression 'DbSet<ProviderService>()
    .Any(p => p.ProviderId == Guid.Parse(StructuralTypeShaperExpression(
        StructuralType: MeAndMyDog.API.Models.Entities.ServiceProvider
        ValueBufferExpression: ProjectionBindingExpression: Outer
        IsNullable: False).Id) && __serviceGuids_0
        .Contains(p.ServiceCategoryId) && p.IsOffered)' could not be translated. Additional information: Translation of method 'System.Guid.Parse' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.ProviderSearchService.ExecuteProviderSearchAsync(Double latitude, Double longitude, Int32 radiusMiles, ProviderSearchFilterDto filters, Int32 pageNumber, Int32 pageSize, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\ProviderSearchService.cs:line 724
2025-07-21 12:30:58.825 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 12:30:58.827 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 159.898ms.
2025-07-21 12:30:58.829 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:30:58.843 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 195.1467ms
2025-07-21 12:30:58.844 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:30:58.846 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 203.4727 ms
2025-07-21 12:30:58.848 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 208.8758ms
2025-07-21 12:30:59.151 +01:00 [INF] Executed DbCommand (586ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='po13 0jx%' (Size = 10), @__Replace_1_startswith='po130jx%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:30:59.680 +01:00 [INF] Executed DbCommand (526ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:30:59.696 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 4000), @__queryLower_0_startswith_1='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 12:30:59.699 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1138.8964ms.
2025-07-21 12:30:59.700 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:30:59.702 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 1162.96ms
2025-07-21 12:30:59.703 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:30:59.704 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 1171.5485 ms
2025-07-21 12:30:59.707 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 1179.7702ms
2025-07-21 12:30:59.765 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:30:59.768 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:30:59.770 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:30:59.786 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:30:59.787 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:30:59.789 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:30:59.802 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-21 12:30:59.803 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:30:59.804 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.738ms.
2025-07-21 12:30:59.806 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:30:59.807 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.6328ms
2025-07-21 12:30:59.809 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:30:59.810 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 42.3198 ms
2025-07-21 12:30:59.812 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 47.2232ms
2025-07-21 12:31:02.099 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 12:31:02.103 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:31:02.104 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 12:31:02.123 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:31:02.125 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1566ms.
2025-07-21 12:31:02.126 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:31:02.129 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 22.9253ms
2025-07-21 12:31:02.130 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:31:02.131 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.2218 ms
2025-07-21 12:31:02.134 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.8159ms
2025-07-21 12:31:06.412 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 12:31:06.415 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:31:06.416 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:31:06.434 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:31:07.007 +01:00 [INF] Executed DbCommand (570ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='po13 0jx%' (Size = 10), @__Replace_1_startswith='po130jx%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:31:07.527 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:31:07.541 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 4000), @__queryLower_0_startswith_1='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 12:31:07.543 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1107.8448ms.
2025-07-21 12:31:07.544 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:31:07.546 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 1128.5256ms
2025-07-21 12:31:07.547 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:31:07.548 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 1133.6185 ms
2025-07-21 12:31:07.550 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 1138.5973ms
2025-07-21 12:31:07.602 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:31:07.605 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:31:07.606 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:31:07.621 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:31:07.623 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:31:07.624 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:31:07.636 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-21 12:31:07.638 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:31:07.639 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.2394ms.
2025-07-21 12:31:07.640 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:31:07.641 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.8261ms
2025-07-21 12:31:07.643 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:31:07.644 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.9796 ms
2025-07-21 12:31:07.646 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 43.8565ms
2025-07-21 12:31:09.412 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 12:31:09.415 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:31:09.416 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:31:09.434 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:31:10.011 +01:00 [INF] Executed DbCommand (574ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='po13 0jx%' (Size = 10), @__Replace_1_startswith='po130jx%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:31:10.538 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:31:10.553 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 4000), @__queryLower_0_startswith_1='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 12:31:10.555 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1120.0554ms.
2025-07-21 12:31:10.557 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:31:10.559 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 1141.4276ms
2025-07-21 12:31:10.560 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:31:10.562 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 1147.0968 ms
2025-07-21 12:31:10.563 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 1151.8944ms
2025-07-21 12:31:10.612 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:31:10.615 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:31:10.617 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:31:10.636 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:31:10.638 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:31:10.640 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:31:10.652 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-21 12:31:10.653 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:31:10.654 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.6266ms.
2025-07-21 12:31:10.655 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:31:10.656 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 37.7891ms
2025-07-21 12:31:10.658 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:31:10.659 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 43.8339 ms
2025-07-21 12:31:10.661 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 48.5802ms
2025-07-21 12:32:11.124 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 12:32:11.128 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:32:11.129 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:11.153 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:11.792 +01:00 [INF] Executed DbCommand (635ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='manchester%' (Size = 4000), @__Replace_1_startswith='manchester%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:32:12.318 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='manchester%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:32:12.322 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1166.9991ms.
2025-07-21 12:32:12.323 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:32:12.325 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 1193.5794ms
2025-07-21 12:32:12.327 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:32:12.328 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 1200.8849 ms
2025-07-21 12:32:12.330 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 1206.701ms
2025-07-21 12:32:12.409 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:32:12.412 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:32:12.413 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:12.428 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:12.429 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 12:32:12.431 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":53.4807593,"Longitude":-2.2426305,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:32:12.443 +01:00 [INF] Using provided coordinates: Lat=53.4807593, Lng=-2.2426305
2025-07-21 12:32:12.444 +01:00 [INF] Executing real provider search at 53.4807593,-2.2426305 within 25 miles
2025-07-21 12:32:12.483 +01:00 [ERR] Error executing real provider search
System.InvalidOperationException: The LINQ expression 'DbSet<ProviderService>()
    .Any(p => p.ProviderId == Guid.Parse(StructuralTypeShaperExpression(
        StructuralType: MeAndMyDog.API.Models.Entities.ServiceProvider
        ValueBufferExpression: ProjectionBindingExpression: Outer
        IsNullable: False).Id) && __serviceGuids_0
        .Contains(p.ServiceCategoryId) && p.IsOffered)' could not be translated. Additional information: Translation of method 'System.Guid.Parse' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.ProviderSearchService.ExecuteProviderSearchAsync(Double latitude, Double longitude, Int32 radiusMiles, ProviderSearchFilterDto filters, Int32 pageNumber, Int32 pageSize, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\ProviderSearchService.cs:line 724
2025-07-21 12:32:12.492 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 12:32:12.493 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 63.2052ms.
2025-07-21 12:32:12.494 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:32:12.495 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 80.1949ms
2025-07-21 12:32:12.497 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:32:12.498 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 85.8617 ms
2025-07-21 12:32:12.501 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 91.2392ms
2025-07-21 12:32:14.119 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 12:32:14.122 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:32:14.124 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:14.145 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:14.745 +01:00 [INF] Executed DbCommand (598ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='manchester%' (Size = 4000), @__Replace_1_startswith='manchester%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:32:15.271 +01:00 [INF] Executed DbCommand (523ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='manchester%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:32:15.273 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1126.9669ms.
2025-07-21 12:32:15.274 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:32:15.276 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 1148.866ms
2025-07-21 12:32:15.278 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:32:15.279 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 1156.4572 ms
2025-07-21 12:32:15.281 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 1162.2788ms
2025-07-21 12:32:15.335 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:32:15.338 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:32:15.340 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:15.354 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:15.355 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 12:32:15.357 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":53.4807593,"Longitude":-2.2426305,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:32:15.370 +01:00 [INF] Using provided coordinates: Lat=53.4807593, Lng=-2.2426305
2025-07-21 12:32:15.371 +01:00 [INF] Returning cached search results for key: search_53.4808_-2.2426_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:32:15.372 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.41ms.
2025-07-21 12:32:15.373 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:32:15.374 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.8981ms
2025-07-21 12:32:15.376 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:32:15.377 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.4765 ms
2025-07-21 12:32:15.378 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 43.276ms
2025-07-21 12:32:21.259 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Gosport&maxResults=1 - null null
2025-07-21 12:32:21.266 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:32:21.267 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:21.284 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:21.880 +01:00 [INF] Executed DbCommand (593ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='gosport%' (Size = 10), @__Replace_1_startswith='gosport%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:32:22.402 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='gosport%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:32:22.418 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='gosport%' (Size = 4000), @__queryLower_0_startswith_1='gosport%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 12:32:22.419 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1134.1381ms.
2025-07-21 12:32:22.421 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:32:22.422 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 1153.6093ms
2025-07-21 12:32:22.423 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:32:22.425 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 1159.1106 ms
2025-07-21 12:32:22.427 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Gosport&maxResults=1 - 200 null application/json; charset=utf-8 1168.2969ms
2025-07-21 12:32:22.529 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.800482&longitude=-1.1409959&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:32:22.532 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:32:22.534 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:22.548 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:22.550 +01:00 [INF] Getting nearby providers at 50.800482,-1.1409959 within 25 miles
2025-07-21 12:32:22.551 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.800482,"Longitude":-1.1409959,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:32:22.563 +01:00 [INF] Using provided coordinates: Lat=50.800482, Lng=-1.1409959
2025-07-21 12:32:22.564 +01:00 [INF] Executing real provider search at 50.800482,-1.1409959 within 25 miles
2025-07-21 12:32:22.592 +01:00 [ERR] Error executing real provider search
System.InvalidOperationException: The LINQ expression 'DbSet<ProviderService>()
    .Any(p => p.ProviderId == Guid.Parse(StructuralTypeShaperExpression(
        StructuralType: MeAndMyDog.API.Models.Entities.ServiceProvider
        ValueBufferExpression: ProjectionBindingExpression: Outer
        IsNullable: False).Id) && __serviceGuids_0
        .Contains(p.ServiceCategoryId) && p.IsOffered)' could not be translated. Additional information: Translation of method 'System.Guid.Parse' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.ProviderSearchService.ExecuteProviderSearchAsync(Double latitude, Double longitude, Int32 radiusMiles, ProviderSearchFilterDto filters, Int32 pageNumber, Int32 pageSize, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\ProviderSearchService.cs:line 724
2025-07-21 12:32:22.600 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 12:32:22.601 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.3147ms.
2025-07-21 12:32:22.603 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:32:22.604 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 68.9152ms
2025-07-21 12:32:22.605 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:32:22.606 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 73.8838 ms
2025-07-21 12:32:22.608 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.800482&longitude=-1.1409959&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 78.3971ms
2025-07-21 12:32:43.161 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 12:32:43.164 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:32:43.165 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 12:32:43.181 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:43.183 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.081ms.
2025-07-21 12:32:43.184 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:32:43.186 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.9606ms
2025-07-21 12:32:43.188 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:32:43.189 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.3687 ms
2025-07-21 12:32:43.191 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 29.822ms
2025-07-21 12:32:44.255 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 439
2025-07-21 12:32:44.257 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:44.261 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:44.301 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:44.303 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:44.308 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 5.9158ms.
2025-07-21 12:32:44.310 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:44.312 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 49.6986ms
2025-07-21 12:32:44.314 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:44.315 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 57.5538 ms
2025-07-21 12:32:44.317 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 62.2001ms
2025-07-21 12:32:44.624 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-21 12:32:44.628 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:32:44.629 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:44.648 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:44.649 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-21 12:32:44.651 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:32:44.667 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-21 12:32:44.668 +01:00 [INF] Executing real provider search at 0,0 within 10 miles
2025-07-21 12:32:45.270 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__Cos_0='1', @__longitude_1='0', @__Sin_2='0', @__p_3='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 12:32:45.274 +01:00 [INF] Found 0 real providers within 10 miles
2025-07-21 12:32:45.275 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 12:32:45.277 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 627.7058ms.
2025-07-21 12:32:45.279 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:32:45.280 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 647.7706ms
2025-07-21 12:32:45.282 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:32:45.283 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 654.7740 ms
2025-07-21 12:32:45.285 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 660.9038ms
2025-07-21 12:32:48.470 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 439
2025-07-21 12:32:48.488 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.490 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:48.513 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:48.514 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 439
2025-07-21 12:32:48.514 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:48.518 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.519 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 4.2859ms.
2025-07-21 12:32:48.533 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:48.539 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:48.567 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:48.568 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 74.802ms
2025-07-21 12:32:48.568 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 439
2025-07-21 12:32:48.569 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:48.572 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.575 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.576 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 7.0183ms.
2025-07-21 12:32:48.577 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 89.0741 ms
2025-07-21 12:32:48.579 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:48.581 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:48.585 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 115.6479ms
2025-07-21 12:32:48.619 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:48.621 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 80.5672ms
2025-07-21 12:32:48.627 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:48.630 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.635 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 7.5913ms.
2025-07-21 12:32:48.637 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 118.9212 ms
2025-07-21 12:32:48.639 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:48.641 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 127.0886ms
2025-07-21 12:32:48.642 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 51.9599ms
2025-07-21 12:32:48.647 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.649 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 74.0788 ms
2025-07-21 12:32:48.652 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 83.679ms
2025-07-21 12:32:48.822 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 439
2025-07-21 12:32:48.825 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.826 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:48.843 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:48.845 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:48.845 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7389ms.
2025-07-21 12:32:48.847 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:48.848 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 20.6428ms
2025-07-21 12:32:48.849 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.850 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 25.5115 ms
2025-07-21 12:32:48.852 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 30.9922ms
2025-07-21 12:32:48.884 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 439
2025-07-21 12:32:48.887 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.889 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:48.906 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:48.907 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:48.908 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7046ms.
2025-07-21 12:32:48.909 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:48.910 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 19.9568ms
2025-07-21 12:32:48.911 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.912 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 24.5968 ms
2025-07-21 12:32:48.914 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 29.6531ms
2025-07-21 12:32:48.948 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 439
2025-07-21 12:32:48.951 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.952 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:48.966 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:48.967 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:48.968 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.8551ms.
2025-07-21 12:32:48.970 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:48.971 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 17.4204ms
2025-07-21 12:32:48.972 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:48.973 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 22.7059 ms
2025-07-21 12:32:48.975 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 26.7257ms
2025-07-21 12:32:49.444 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:49.446 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.448 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:49.461 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:49.463 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:49.463 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.8089ms.
2025-07-21 12:32:49.465 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:49.467 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 17.4141ms
2025-07-21 12:32:49.468 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.469 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 22.3147 ms
2025-07-21 12:32:49.470 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 26.0709ms
2025-07-21 12:32:49.475 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:49.477 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.478 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:49.490 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:49.491 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:49.492 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7215ms.
2025-07-21 12:32:49.493 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:49.494 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 14.5563ms
2025-07-21 12:32:49.495 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.496 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 18.5441 ms
2025-07-21 12:32:49.498 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 22.3418ms
2025-07-21 12:32:49.603 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:49.605 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.607 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:49.619 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:49.620 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:49.621 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7066ms.
2025-07-21 12:32:49.622 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:49.624 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 15.6413ms
2025-07-21 12:32:49.625 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.625 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 20.0277 ms
2025-07-21 12:32:49.627 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 23.9135ms
2025-07-21 12:32:49.759 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:49.761 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.762 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:49.775 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:49.776 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:49.777 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.9856ms.
2025-07-21 12:32:49.779 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:49.780 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 15.9636ms
2025-07-21 12:32:49.781 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.782 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 20.4742 ms
2025-07-21 12:32:49.783 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 24.4484ms
2025-07-21 12:32:49.882 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:49.882 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:49.887 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.889 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.891 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:49.892 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:49.907 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:49.919 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:49.920 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:49.920 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:49.921 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.4716ms.
2025-07-21 12:32:49.922 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.2632ms.
2025-07-21 12:32:49.923 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:49.924 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:49.925 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 32.0777ms
2025-07-21 12:32:49.926 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 18.623ms
2025-07-21 12:32:49.927 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.928 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:49.929 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 42.0097 ms
2025-07-21 12:32:49.930 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 40.5871 ms
2025-07-21 12:32:49.932 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 49.5044ms
2025-07-21 12:32:49.933 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 50.8484ms
2025-07-21 12:32:50.412 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:50.412 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:50.412 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:50.421 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.423 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.425 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.426 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:50.426 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:50.427 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:50.449 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:50.460 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:50.472 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:50.473 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:50.474 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:50.475 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:50.475 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.579ms.
2025-07-21 12:32:50.476 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.2406ms.
2025-07-21 12:32:50.477 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.1041ms.
2025-07-21 12:32:50.478 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:50.479 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:50.480 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:50.481 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 52.4878ms
2025-07-21 12:32:50.482 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 32.8669ms
2025-07-21 12:32:50.483 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 21.8534ms
2025-07-21 12:32:50.484 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.485 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.486 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.487 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 66.0695 ms
2025-07-21 12:32:50.488 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 65.0404 ms
2025-07-21 12:32:50.488 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 63.7102 ms
2025-07-21 12:32:50.490 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 77.825ms
2025-07-21 12:32:50.491 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 79.2471ms
2025-07-21 12:32:50.493 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 80.5462ms
2025-07-21 12:32:50.595 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:50.597 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.599 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:50.611 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:50.612 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:50.613 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7907ms.
2025-07-21 12:32:50.614 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:50.616 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 15.2829ms
2025-07-21 12:32:50.617 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.618 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 20.2929 ms
2025-07-21 12:32:50.619 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 24.1237ms
2025-07-21 12:32:50.657 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:50.659 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.660 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:50.672 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:50.673 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:50.674 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7335ms.
2025-07-21 12:32:50.675 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:50.676 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 14.7029ms
2025-07-21 12:32:50.677 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.678 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 19.3642 ms
2025-07-21 12:32:50.680 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 23.2065ms
2025-07-21 12:32:50.688 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:50.690 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.691 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:50.704 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:50.705 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:50.705 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.7039ms.
2025-07-21 12:32:50.707 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:50.708 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 15.1316ms
2025-07-21 12:32:50.709 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.710 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 19.5160 ms
2025-07-21 12:32:50.711 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 23.6631ms
2025-07-21 12:32:50.815 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:50.817 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.819 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:50.838 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:50.839 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:50.841 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.1134ms.
2025-07-21 12:32:50.843 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:50.845 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 24.2451ms
2025-07-21 12:32:50.846 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:50.847 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 29.2209 ms
2025-07-21 12:32:50.848 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 33.5873ms
2025-07-21 12:32:50.998 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:50.998 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:51.000 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:51.002 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:51.003 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:51.004 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:51.016 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:51.027 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:51.027 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:51.029 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:51.029 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.0918ms.
2025-07-21 12:32:51.030 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.541ms.
2025-07-21 12:32:51.031 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:51.033 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:51.034 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 29.1382ms
2025-07-21 12:32:51.035 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 18.2432ms
2025-07-21 12:32:51.037 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:51.038 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:51.039 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 38.8558 ms
2025-07-21 12:32:51.040 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 37.9572 ms
2025-07-21 12:32:51.042 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 44.5327ms
2025-07-21 12:32:51.045 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 47.0378ms
2025-07-21 12:32:51.392 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:32:51.394 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:51.395 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:32:51.409 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:32:51.410 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:32:51.411 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.8134ms.
2025-07-21 12:32:51.412 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:32:51.413 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 16.4855ms
2025-07-21 12:32:51.414 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:32:51.415 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 21.1221 ms
2025-07-21 12:32:51.417 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 25.0597ms
2025-07-21 12:33:22.400 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-21 12:33:22.409 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:33:22.411 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:33:22.424 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:33:22.425 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:33:22.425 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.717ms.
2025-07-21 12:33:22.427 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:33:22.428 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 16.1256ms
2025-07-21 12:33:22.429 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:33:22.430 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 21.4123 ms
2025-07-21 12:33:22.432 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 32.2395ms
2025-07-21 12:33:47.463 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 411
2025-07-21 12:33:47.471 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:33:47.472 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:33:47.492 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:33:47.494 +01:00 [INF] Provider search request received for location: Gosport
2025-07-21 12:33:47.495 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.0225ms.
2025-07-21 12:33:47.496 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-21 12:33:47.498 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 24.1791ms
2025-07-21 12:33:47.499 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-21 12:33:47.500 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 28.7477 ms
2025-07-21 12:33:47.502 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 38.9022ms
2025-07-21 12:34:05.186 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 12:34:05.189 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:34:05.190 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 12:34:05.204 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:34:05.206 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0548ms.
2025-07-21 12:34:05.208 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:34:05.209 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 17.2016ms
2025-07-21 12:34:05.210 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:34:05.211 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 22.6214 ms
2025-07-21 12:34:05.213 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 26.9392ms
2025-07-21 12:34:44.788 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 12:34:45.827 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 12:34:46.097 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 12:34:46.167 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 12:34:46.826 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 12:34:47.547 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 12:34:47.755 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 12:34:47.851 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:34:47.853 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:34:47.854 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:34:47.856 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:34:47.858 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:34:47.860 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:34:48.639 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 12:34:48.659 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 12:34:48.703 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 12:34:48.790 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 12:34:48.834 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 12:34:48.854 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 12:34:48.880 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 12:34:48.895 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 12:34:48.933 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 12:34:48.938 +01:00 [INF] Database migrations applied successfully
2025-07-21 12:34:48.942 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 12:34:48.980 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 12:34:49.301 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 12:34:49.304 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 12:34:49.377 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 12:34:49.379 +01:00 [INF] Hosting environment: Development
2025-07-21 12:34:49.380 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 12:34:49.442 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 12:34:49.490 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 12:34:49.778 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:34:49.811 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 12:34:49.871 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:34:49.908 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 417.1529ms
2025-07-21 12:34:49.928 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 12:34:49.939 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 10.3433ms
2025-07-21 12:34:50.338 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 12:34:50.374 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.3736ms
2025-07-21 12:34:50.765 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 12:34:50.789 +01:00 [INF] Executed DbCommand (535ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 12:34:50.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.8064ms
2025-07-21 12:34:50.841 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 965.0473ms.
2025-07-21 12:34:50.850 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:34:50.887 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1070.9887ms
2025-07-21 12:34:50.890 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:34:50.894 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1334.6485 ms
2025-07-21 12:34:50.902 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1466.1479ms
2025-07-21 12:34:58.671 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 12:34:58.681 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:34:58.704 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:34:58.765 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:34:59.518 +01:00 [INF] Executed DbCommand (633ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='so18 6ad%' (Size = 10), @__Replace_1_startswith='so186ad%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:34:59.524 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 757.7892ms.
2025-07-21 12:34:59.526 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:34:59.530 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 823.0794ms
2025-07-21 12:34:59.532 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:34:59.533 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 854.2309 ms
2025-07-21 12:34:59.536 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 865.2725ms
2025-07-21 12:34:59.630 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:34:59.635 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:34:59.640 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:34:59.655 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:34:59.658 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 12:34:59.666 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.91747059999999,"Longitude":-1.3535128,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:34:59.680 +01:00 [INF] Using provided coordinates: Lat=50.9174706, Lng=-1.3535128
2025-07-21 12:34:59.687 +01:00 [INF] Executing real provider search at 50.9174706,-1.3535128 within 25 miles
2025-07-21 12:34:59.770 +01:00 [ERR] Error executing real provider search
System.InvalidOperationException: The LINQ expression 'DbSet<ProviderService>()
    .Any(p => p.ProviderId == Guid.Parse(StructuralTypeShaperExpression(
        StructuralType: MeAndMyDog.API.Models.Entities.ServiceProvider
        ValueBufferExpression: ProjectionBindingExpression: Outer
        IsNullable: False).Id) && __serviceGuids_0
        .Contains(p.ServiceCategoryId) && p.IsOffered)' could not be translated. Additional information: Translation of method 'System.Guid.Parse' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.ProviderSearchService.ExecuteProviderSearchAsync(Double latitude, Double longitude, Int32 radiusMiles, ProviderSearchFilterDto filters, Int32 pageNumber, Int32 pageSize, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\ProviderSearchService.cs:line 724
2025-07-21 12:34:59.813 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 12:34:59.815 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 158.7802ms.
2025-07-21 12:34:59.816 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:34:59.832 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 190.2887ms
2025-07-21 12:34:59.833 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:34:59.835 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 200.9533 ms
2025-07-21 12:34:59.837 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 206.7883ms
2025-07-21 12:35:37.462 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 12:35:37.466 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:35:37.467 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:35:37.487 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:35:45.042 +01:00 [INF] Executed DbCommand (575ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='manchester%' (Size = 4000), @__Replace_1_startswith='manchester%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:36:01.873 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 12:36:01.882 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:36:01.883 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:36:01.898 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:36:07.400 +01:00 [INF] Executed DbCommand (543ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='manchester%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:36:25.058 +01:00 [INF] Executed DbCommand (18,046ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='manchester%' (Size = 4000), @__Replace_1_startswith='manchester%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:36:32.231 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 54742.6208ms.
2025-07-21 12:36:32.233 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:36:32.234 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 54765.1154ms
2025-07-21 12:36:32.236 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:36:32.237 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 54771.4463 ms
2025-07-21 12:36:32.239 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 54776.8515ms
2025-07-21 12:36:32.335 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:36:32.338 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:36:32.340 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:36:32.353 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:36:32.355 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 12:36:32.356 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":53.4807593,"Longitude":-2.2426305,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:36:32.368 +01:00 [INF] Using provided coordinates: Lat=53.4807593, Lng=-2.2426305
2025-07-21 12:36:32.370 +01:00 [INF] Executing real provider search at 53.4807593,-2.2426305 within 25 miles
2025-07-21 12:36:32.397 +01:00 [ERR] Error executing real provider search
System.InvalidOperationException: The LINQ expression 'DbSet<ProviderService>()
    .Any(p => p.ProviderId == Guid.Parse(StructuralTypeShaperExpression(
        StructuralType: MeAndMyDog.API.Models.Entities.ServiceProvider
        ValueBufferExpression: ProjectionBindingExpression: Outer
        IsNullable: False).Id) && __serviceGuids_0
        .Contains(p.ServiceCategoryId) && p.IsOffered)' could not be translated. Additional information: Translation of method 'System.Guid.Parse' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.ProviderSearchService.ExecuteProviderSearchAsync(Double latitude, Double longitude, Int32 radiusMiles, ProviderSearchFilterDto filters, Int32 pageNumber, Int32 pageSize, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\ProviderSearchService.cs:line 724
2025-07-21 12:36:32.405 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 12:36:32.405 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.8036ms.
2025-07-21 12:36:32.407 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:36:32.408 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 66.6424ms
2025-07-21 12:36:32.409 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:36:32.410 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 71.9985 ms
2025-07-21 12:36:32.413 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 78.1398ms
2025-07-21 12:36:32.750 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='manchester%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:36:32.753 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30853.9383ms.
2025-07-21 12:36:32.755 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:36:32.756 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 30871.1778ms
2025-07-21 12:36:32.758 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:36:32.759 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 30876.6600 ms
2025-07-21 12:36:32.760 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 30887.0022ms
2025-07-21 12:36:32.824 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:36:32.826 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:36:32.828 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:36:32.842 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:36:32.843 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 12:36:32.845 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":53.4807593,"Longitude":-2.2426305,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:36:32.856 +01:00 [INF] Using provided coordinates: Lat=53.4807593, Lng=-2.2426305
2025-07-21 12:36:32.857 +01:00 [INF] Returning cached search results for key: search_53.4808_-2.2426_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:36:32.858 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.9884ms.
2025-07-21 12:36:32.859 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:36:32.861 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 31.1665ms
2025-07-21 12:36:32.863 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:36:32.864 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 37.4919 ms
2025-07-21 12:36:32.866 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 42.1385ms
2025-07-21 12:36:38.777 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 12:36:38.781 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:36:38.791 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:36:38.815 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:36:38.816 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1168ms.
2025-07-21 12:36:38.818 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:36:38.820 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 26.7194ms
2025-07-21 12:36:38.822 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:36:38.824 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 42.9841 ms
2025-07-21 12:36:38.827 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 49.5912ms
2025-07-21 12:36:38.886 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:36:38.889 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:36:38.890 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:36:38.912 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:36:38.913 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 12:36:38.915 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":53.4807593,"Longitude":-2.2426305,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:36:38.928 +01:00 [INF] Using provided coordinates: Lat=53.4807593, Lng=-2.2426305
2025-07-21 12:36:38.929 +01:00 [INF] Returning cached search results for key: search_53.4808_-2.2426_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:36:38.930 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.5962ms.
2025-07-21 12:36:38.931 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:36:38.933 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 36.8251ms
2025-07-21 12:36:38.934 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:36:38.935 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 46.4986 ms
2025-07-21 12:36:38.937 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 51.8686ms
2025-07-21 12:42:23.672 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 12:42:24.970 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 12:42:25.184 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 12:42:25.255 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 12:42:25.990 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 12:42:26.800 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 12:42:27.011 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 12:42:27.088 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:42:27.090 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:42:27.091 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:42:27.093 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:42:27.095 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:42:27.096 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:42:27.922 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 12:42:27.941 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 12:42:27.979 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 12:42:28.049 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 12:42:28.092 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 12:42:28.108 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 12:42:28.130 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 12:42:28.161 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 12:42:28.195 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 12:42:28.205 +01:00 [INF] Database migrations applied successfully
2025-07-21 12:42:28.212 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 12:42:28.250 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 12:42:28.531 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 12:42:28.533 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 12:42:28.602 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 12:42:28.604 +01:00 [INF] Hosting environment: Development
2025-07-21 12:42:28.606 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 12:42:28.670 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 12:42:28.816 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 12:42:29.052 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:42:29.155 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 12:42:29.302 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:42:29.408 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 591.1422ms
2025-07-21 12:42:30.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 12:42:30.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 12:42:30.111 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 12.9847ms
2025-07-21 12:42:30.149 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.6837ms
2025-07-21 12:42:30.472 +01:00 [INF] Executed DbCommand (525ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 12:42:30.520 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1213.1357ms.
2025-07-21 12:42:30.531 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:42:30.569 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1408.1535ms
2025-07-21 12:42:30.572 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:42:30.577 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1764.6371 ms
2025-07-21 12:42:30.588 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1926.8144ms
2025-07-21 12:42:31.177 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 12:42:31.234 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.672ms
2025-07-21 12:42:35.922 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 12:42:35.931 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:42:35.944 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:42:35.995 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:42:46.932 +01:00 [INF] Executed DbCommand (637ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='so18 6ad%' (Size = 10), @__Replace_1_startswith='so186ad%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:42:46.938 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10942.3133ms.
2025-07-21 12:42:46.940 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:42:46.945 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 10997.9852ms
2025-07-21 12:42:46.946 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:42:46.948 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 11017.5870 ms
2025-07-21 12:42:46.950 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 11028.9827ms
2025-07-21 12:42:47.019 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:42:47.025 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:42:47.030 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:42:47.045 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:42:47.048 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 12:42:47.060 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.91747059999999,"Longitude":-1.3535128,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:42:47.077 +01:00 [INF] Using provided coordinates: Lat=50.9174706, Lng=-1.3535128
2025-07-21 12:42:47.086 +01:00 [INF] Executing real provider search at 50.9174706,-1.3535128 within 25 miles
2025-07-21 12:42:47.169 +01:00 [ERR] Error executing real provider search
System.InvalidOperationException: The LINQ expression 'DbSet<ProviderService>()
    .Any(p => p.ProviderId == Guid.Parse(StructuralTypeShaperExpression(
        StructuralType: MeAndMyDog.API.Models.Entities.ServiceProvider
        ValueBufferExpression: ProjectionBindingExpression: Outer
        IsNullable: False).Id) && __serviceGuids_0
        .Contains(p.ServiceCategoryId) && p.IsOffered)' could not be translated. Additional information: Translation of method 'System.Guid.Parse' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.ProviderSearchService.ExecuteProviderSearchAsync(Double latitude, Double longitude, Int32 radiusMiles, ProviderSearchFilterDto filters, Int32 pageNumber, Int32 pageSize, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\ProviderSearchService.cs:line 724
2025-07-21 12:42:47.219 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 12:42:47.221 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 174.6813ms.
2025-07-21 12:42:47.223 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:42:47.243 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 211.8967ms
2025-07-21 12:42:47.247 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:42:47.249 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 225.7994 ms
2025-07-21 12:42:47.251 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 232.1426ms
2025-07-21 12:49:24.334 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 12:49:24.341 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:49:24.344 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:49:24.371 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:49:24.373 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.5636ms.
2025-07-21 12:49:24.376 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:49:24.378 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 30.4893ms
2025-07-21 12:49:24.380 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:49:24.381 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 40.2906 ms
2025-07-21 12:49:24.385 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 106.8753ms
2025-07-21 12:49:24.532 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:49:24.540 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:49:24.544 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:49:24.564 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:49:24.569 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 12:49:24.572 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.91747059999999,"Longitude":-1.3535128,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:49:24.593 +01:00 [INF] Using provided coordinates: Lat=50.9174706, Lng=-1.3535128
2025-07-21 12:49:24.594 +01:00 [INF] Returning cached search results for key: search_50.9175_-1.3535_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:49:24.595 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.8326ms.
2025-07-21 12:49:24.602 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:49:24.603 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 56.6272ms
2025-07-21 12:49:24.605 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:49:24.607 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 66.8075 ms
2025-07-21 12:49:24.609 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 77.825ms
2025-07-21 12:51:14.451 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 12:51:14.454 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:51:14.456 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:51:14.470 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:51:14.472 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0867ms.
2025-07-21 12:51:14.474 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:51:14.475 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17.6054ms
2025-07-21 12:51:14.477 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:51:14.478 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 24.3766 ms
2025-07-21 12:51:14.481 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 29.4751ms
2025-07-21 12:51:14.605 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:51:14.608 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:51:14.627 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:51:14.648 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:51:14.649 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 12:51:14.651 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.91747059999999,"Longitude":-1.3535128,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:51:14.664 +01:00 [INF] Using provided coordinates: Lat=50.9174706, Lng=-1.3535128
2025-07-21 12:51:14.666 +01:00 [INF] Returning cached search results for key: search_50.9175_-1.3535_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:51:14.666 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.3025ms.
2025-07-21 12:51:14.668 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:51:14.669 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 39.1136ms
2025-07-21 12:51:14.671 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:51:14.672 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 64.3192 ms
2025-07-21 12:51:14.674 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 68.7266ms
2025-07-21 12:51:20.363 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edin&maxResults=1 - null null
2025-07-21 12:51:20.366 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:51:20.367 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:51:20.383 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:51:21.090 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinbu&maxResults=1 - null null
2025-07-21 12:51:21.094 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:51:21.097 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:51:21.113 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:51:21.120 +01:00 [INF] Executed DbCommand (623ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='edin%' (Size = 10), @__Replace_1_startswith='edin%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:51:21.160 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-21 12:51:21.705 +01:00 [INF] Executed DbCommand (572ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='edinbu%' (Size = 10), @__Replace_1_startswith='edinbu%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:51:22.150 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinburgh&maxResults=1 - null null
2025-07-21 12:51:22.153 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:51:22.155 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:51:22.172 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:51:22.908 +01:00 [INF] Executed DbCommand (630ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='edinburgh%' (Size = 10), @__Replace_1_startswith='edinburgh%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:51:23.241 +01:00 [INF] Executed DbCommand (1,968ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='edin%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 12:51:23.732 +01:00 [INF] Executed DbCommand (2,024ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='edinbu%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 12:51:23.771 +01:00 [INF] Executed DbCommand (518ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='edin%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:51:23.795 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='edin%' (Size = 4000), @__queryLower_0_startswith_1='edin%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 12:51:23.799 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3414.7128ms.
2025-07-21 12:51:23.800 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:51:23.802 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3432.4864ms
2025-07-21 12:51:23.803 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:51:23.804 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3438.0529 ms
2025-07-21 12:51:23.806 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edin&maxResults=1 - 200 null application/json; charset=utf-8 3443.2044ms
2025-07-21 12:51:23.903 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:51:23.906 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:51:23.908 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:51:23.922 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:51:23.924 +01:00 [INF] Getting nearby providers at 55.953252,-3.188267 within 25 miles
2025-07-21 12:51:23.925 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":55.953252,"Longitude":-3.188267,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:51:23.937 +01:00 [INF] Using provided coordinates: Lat=55.953252, Lng=-3.188267
2025-07-21 12:51:23.938 +01:00 [INF] Executing real provider search at 55.953252,-3.188267 within 25 miles
2025-07-21 12:51:23.969 +01:00 [ERR] Error executing real provider search
System.InvalidOperationException: The LINQ expression 'DbSet<ProviderService>()
    .Any(p => p.ProviderId == Guid.Parse(StructuralTypeShaperExpression(
        StructuralType: MeAndMyDog.API.Models.Entities.ServiceProvider
        ValueBufferExpression: ProjectionBindingExpression: Outer
        IsNullable: False).Id) && __serviceGuids_0
        .Contains(p.ServiceCategoryId) && p.IsOffered)' could not be translated. Additional information: Translation of method 'System.Guid.Parse' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.ProviderSearchService.ExecuteProviderSearchAsync(Double latitude, Double longitude, Int32 radiusMiles, ProviderSearchFilterDto filters, Int32 pageNumber, Int32 pageSize, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\ProviderSearchService.cs:line 724
2025-07-21 12:51:23.976 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 12:51:23.977 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 53.8651ms.
2025-07-21 12:51:23.979 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:51:23.980 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 70.8687ms
2025-07-21 12:51:23.981 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:51:23.982 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 76.0683 ms
2025-07-21 12:51:23.984 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 81.0535ms
2025-07-21 12:51:24.251 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='edinbu%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:51:24.266 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='edinbu%' (Size = 4000), @__queryLower_0_startswith_1='edinbu%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 12:51:24.269 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3148.2721ms.
2025-07-21 12:51:24.271 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:51:24.272 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3173.1709ms
2025-07-21 12:51:24.274 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:51:24.275 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3181.0878 ms
2025-07-21 12:51:24.277 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinbu&maxResults=1 - 200 null application/json; charset=utf-8 3186.9257ms
2025-07-21 12:51:24.527 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:51:24.530 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:51:24.531 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:51:24.552 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:51:24.554 +01:00 [INF] Getting nearby providers at 55.953252,-3.188267 within 25 miles
2025-07-21 12:51:24.555 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":55.953252,"Longitude":-3.188267,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:51:24.568 +01:00 [INF] Using provided coordinates: Lat=55.953252, Lng=-3.188267
2025-07-21 12:51:24.569 +01:00 [INF] Returning cached search results for key: search_55.9533_-3.1883_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:51:24.570 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.8267ms.
2025-07-21 12:51:24.571 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:51:24.572 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 39.3634ms
2025-07-21 12:51:24.574 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:51:24.575 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 44.7902 ms
2025-07-21 12:51:24.576 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 49.6947ms
2025-07-21 12:51:24.876 +01:00 [INF] Executed DbCommand (1,965ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='edinburgh%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 12:51:25.438 +01:00 [INF] Executed DbCommand (559ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='edinburgh%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:51:25.455 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='edinburgh%' (Size = 4000), @__queryLower_0_startswith_1='edinburgh%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 12:51:25.458 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3284.5399ms.
2025-07-21 12:51:25.459 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:51:25.460 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3304.0537ms
2025-07-21 12:51:25.462 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:51:25.463 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3309.5816 ms
2025-07-21 12:51:25.465 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinburgh&maxResults=1 - 200 null application/json; charset=utf-8 3314.627ms
2025-07-21 12:51:25.521 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:51:25.523 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:51:25.525 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:51:25.539 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:51:25.540 +01:00 [INF] Getting nearby providers at 55.953252,-3.188267 within 25 miles
2025-07-21 12:51:25.542 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":55.953252,"Longitude":-3.188267,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:51:25.553 +01:00 [INF] Using provided coordinates: Lat=55.953252, Lng=-3.188267
2025-07-21 12:51:25.554 +01:00 [INF] Returning cached search results for key: search_55.9533_-3.1883_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:51:25.555 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.6379ms.
2025-07-21 12:51:25.556 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:51:25.557 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 31.0134ms
2025-07-21 12:51:25.559 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:51:25.559 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 36.3589 ms
2025-07-21 12:51:25.561 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 40.3484ms
2025-07-21 12:51:27.509 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinburgh&maxResults=1 - null null
2025-07-21 12:51:27.513 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:51:27.515 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:51:27.542 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:51:27.544 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0583ms.
2025-07-21 12:51:27.545 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:51:27.546 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 22.4531ms
2025-07-21 12:51:27.548 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:51:27.549 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 36.5398 ms
2025-07-21 12:51:27.551 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinburgh&maxResults=1 - 200 null application/json; charset=utf-8 41.7579ms
2025-07-21 12:51:27.614 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:51:27.617 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:51:27.619 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:51:27.636 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:51:27.637 +01:00 [INF] Getting nearby providers at 55.953252,-3.188267 within 25 miles
2025-07-21 12:51:27.644 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":55.953252,"Longitude":-3.188267,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:51:27.657 +01:00 [INF] Using provided coordinates: Lat=55.953252, Lng=-3.188267
2025-07-21 12:51:27.658 +01:00 [INF] Returning cached search results for key: search_55.9533_-3.1883_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:51:27.659 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.2551ms.
2025-07-21 12:51:27.661 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:51:27.662 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 41.8607ms
2025-07-21 12:51:27.664 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:51:27.665 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 48.0437 ms
2025-07-21 12:51:27.667 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 52.6449ms
2025-07-21 12:52:56.388 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinburgh&maxResults=1 - null null
2025-07-21 12:52:56.391 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:52:56.392 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:52:56.410 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:52:56.412 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.095ms.
2025-07-21 12:52:56.413 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:52:56.415 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.4303ms
2025-07-21 12:52:56.416 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:52:56.417 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.9585 ms
2025-07-21 12:52:56.419 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Edinburgh&maxResults=1 - 200 null application/json; charset=utf-8 31.5311ms
2025-07-21 12:52:56.505 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:52:56.508 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:52:56.509 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:52:56.526 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:52:56.527 +01:00 [INF] Getting nearby providers at 55.953252,-3.188267 within 25 miles
2025-07-21 12:52:56.529 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":55.953252,"Longitude":-3.188267,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:52:56.542 +01:00 [INF] Using provided coordinates: Lat=55.953252, Lng=-3.188267
2025-07-21 12:52:56.543 +01:00 [INF] Returning cached search results for key: search_55.9533_-3.1883_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 12:52:56.544 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.0399ms.
2025-07-21 12:52:56.546 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:52:56.547 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.6636ms
2025-07-21 12:52:56.548 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:52:56.549 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41.1955 ms
2025-07-21 12:52:56.551 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.953252&longitude=-3.188267&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 45.6394ms
2025-07-21 12:53:35.270 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 12:53:35.273 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:53:35.274 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:53:35.287 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:53:35.886 +01:00 [INF] Executed DbCommand (596ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='po13 0jx%' (Size = 10), @__Replace_1_startswith='po130jx%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 12:53:37.798 +01:00 [INF] Executed DbCommand (1,909ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 12:53:38.315 +01:00 [INF] Executed DbCommand (515ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 12:53:38.330 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 4000), @__queryLower_0_startswith_1='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 12:53:38.332 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3043.322ms.
2025-07-21 12:53:38.333 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:53:38.335 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3059.3387ms
2025-07-21 12:53:38.336 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:53:38.337 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3064.5940 ms
2025-07-21 12:53:38.339 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 3068.6724ms
2025-07-21 12:53:38.346 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-21 12:53:38.349 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:53:38.350 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:53:38.365 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:53:38.367 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0502ms.
2025-07-21 12:53:38.368 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:53:38.370 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17.3191ms
2025-07-21 12:53:38.371 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 12:53:38.372 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 22.5147 ms
2025-07-21 12:53:38.374 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 27.7911ms
2025-07-21 12:53:38.494 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:53:38.497 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:53:38.499 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:53:38.516 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:53:38.517 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:53:38.519 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:53:38.530 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-21 12:53:42.631 +01:00 [INF] Executing real provider search at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:54:24.738 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:54:24.768 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.8205301&longitude=-1.1713195&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 12:54:24.775 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:54:24.782 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 12:54:24.784 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:54:24.786 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 12:54:24.809 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:54:24.813 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:54:24.858 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:54:24.861 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:54:24.864 +01:00 [INF] Getting nearby providers at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:54:24.908 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-21 12:54:24.912 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 12:54:26.036 +01:00 [INF] Executing real provider search at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:54:26.056 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-21 12:54:26.952 +01:00 [INF] Executing real provider search at 50.8205301,-1.1713195 within 25 miles
2025-07-21 12:59:34.002 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 12:59:34.963 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 12:59:35.093 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 12:59:35.131 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 12:59:35.551 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 12:59:36.231 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 12:59:36.415 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 12:59:36.501 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:59:36.511 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:59:36.513 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:59:36.514 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:59:36.516 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:59:36.517 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 12:59:37.308 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 12:59:37.330 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 12:59:37.370 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 12:59:37.456 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 12:59:37.508 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 12:59:37.523 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 12:59:37.546 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 12:59:37.563 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 12:59:37.593 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 12:59:37.598 +01:00 [INF] Database migrations applied successfully
2025-07-21 12:59:37.602 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 12:59:37.635 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 12:59:37.961 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 12:59:37.962 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 12:59:38.050 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 12:59:38.055 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 12:59:38.061 +01:00 [INF] Hosting environment: Development
2025-07-21 12:59:38.132 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 12:59:38.221 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 12:59:38.424 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:59:38.454 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 12:59:38.584 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 12:59:38.631 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 409.7907ms
2025-07-21 12:59:38.654 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 12:59:38.663 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 8.8635ms
2025-07-21 12:59:39.044 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 12:59:39.082 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.5316ms
2025-07-21 12:59:39.476 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 12:59:39.497 +01:00 [INF] Executed DbCommand (530ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 12:59:39.517 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.8965ms
2025-07-21 12:59:39.545 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 956.3981ms.
2025-07-21 12:59:39.554 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 12:59:39.588 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1128.7141ms
2025-07-21 12:59:39.591 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 12:59:39.595 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1347.2983 ms
2025-07-21 12:59:39.602 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1561.0408ms
2025-07-21 13:00:07.382 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 13:00:07.444 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:07.455 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:07.500 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:08.179 +01:00 [INF] Executed DbCommand (594ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='so18 6ad%' (Size = 10), @__Replace_1_startswith='so186ad%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:00:08.186 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 684.5367ms.
2025-07-21 13:00:08.188 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:08.193 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 735.3238ms
2025-07-21 13:00:08.195 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:08.196 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 752.1959 ms
2025-07-21 13:00:08.200 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 817.7316ms
2025-07-21 13:00:08.208 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-21 13:00:08.215 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:08.216 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:08.231 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:08.232 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3054ms.
2025-07-21 13:00:08.234 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:08.235 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17.9593ms
2025-07-21 13:00:08.237 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:08.238 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.7228 ms
2025-07-21 13:00:08.240 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 32.5012ms
2025-07-21 13:00:08.274 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 13:00:08.278 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:08.282 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:08.300 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:08.303 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 13:00:08.312 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.91747059999999,"Longitude":-1.3535128,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:00:08.346 +01:00 [INF] Using provided coordinates: Lat=50.9174706, Lng=-1.3535128
2025-07-21 13:00:10.705 +01:00 [INF] Executing real provider search at 50.9174706,-1.3535128 within 25 miles
2025-07-21 13:00:10.786 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:00:11.417 +01:00 [INF] Executed DbCommand (545ms) [Parameters=[@__Cos_1='0.6304391464396858', @__longitude_2='-1.3535128', @__Sin_3='0.7762386763337681', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:00:11.420 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:00:11.423 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:00:11.424 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3123.3048ms.
2025-07-21 13:00:11.426 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:11.443 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 3159.3352ms
2025-07-21 13:00:11.446 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:11.448 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 3170.0583 ms
2025-07-21 13:00:11.450 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 3175.226ms
2025-07-21 13:00:11.457 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 13:00:11.465 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:11.468 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:11.487 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:11.498 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-21 13:00:11.500 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.91747059999999,"Longitude":-1.3535128,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:00:11.528 +01:00 [INF] Using provided coordinates: Lat=50.9174706, Lng=-1.3535128
2025-07-21 13:00:11.530 +01:00 [INF] Returning cached search results for key: search_50.9175_-1.3535_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 13:00:11.531 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.4873ms.
2025-07-21 13:00:11.548 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:11.549 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 78.9323ms
2025-07-21 13:00:11.561 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:11.567 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 101.1719 ms
2025-07-21 13:00:11.573 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 116.5776ms
2025-07-21 13:00:18.826 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 13:00:18.829 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:18.830 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:18.843 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:19.436 +01:00 [INF] Executed DbCommand (587ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='manchester%' (Size = 4000), @__Replace_1_startswith='manchester%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:00:19.452 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-21 13:00:21.695 +01:00 [INF] Executed DbCommand (2,230ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='manchester%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:00:22.257 +01:00 [INF] Executed DbCommand (553ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='manchester%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:00:22.260 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3415.5809ms.
2025-07-21 13:00:22.262 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:22.263 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3432.2689ms
2025-07-21 13:00:22.265 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:22.266 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3437.6224 ms
2025-07-21 13:00:22.268 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 3442.3628ms
2025-07-21 13:00:22.325 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 13:00:22.327 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:22.328 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:22.342 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:22.343 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 13:00:22.344 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":53.4807593,"Longitude":-2.2426305,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:00:22.356 +01:00 [INF] Using provided coordinates: Lat=53.4807593, Lng=-2.2426305
2025-07-21 13:00:22.357 +01:00 [INF] Executing real provider search at 53.4807593,-2.2426305 within 25 miles
2025-07-21 13:00:22.372 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:00:22.898 +01:00 [INF] Executed DbCommand (522ms) [Parameters=[@__Cos_1='0.5950926992453878', @__longitude_2='-2.2426305', @__Sin_3='0.803657065734408', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:00:22.900 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:00:22.901 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:00:22.902 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 559.4132ms.
2025-07-21 13:00:22.904 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:22.905 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 575.6143ms
2025-07-21 13:00:22.906 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:22.908 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 580.7410 ms
2025-07-21 13:00:22.910 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 584.9175ms
2025-07-21 13:00:27.848 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-21 13:00:27.851 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:27.852 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:27.869 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:27.870 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0681ms.
2025-07-21 13:00:27.872 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:27.873 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.339ms
2025-07-21 13:00:27.875 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:27.876 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.2534 ms
2025-07-21 13:00:27.878 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 29.8126ms
2025-07-21 13:00:27.928 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 13:00:27.931 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:27.932 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:27.948 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:27.949 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-21 13:00:27.951 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":53.4807593,"Longitude":-2.2426305,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:00:27.963 +01:00 [INF] Using provided coordinates: Lat=53.4807593, Lng=-2.2426305
2025-07-21 13:00:27.964 +01:00 [INF] Returning cached search results for key: search_53.4808_-2.2426_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 13:00:27.965 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.2495ms.
2025-07-21 13:00:27.967 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:27.968 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 34.1833ms
2025-07-21 13:00:27.969 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:27.970 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 39.1548 ms
2025-07-21 13:00:27.972 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 44.3099ms
2025-07-21 13:00:34.550 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Scotland&maxResults=1 - null null
2025-07-21 13:00:34.553 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:34.555 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:34.570 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:35.142 +01:00 [INF] Executed DbCommand (570ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='scotland%' (Size = 10), @__Replace_1_startswith='scotland%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:00:37.065 +01:00 [INF] Executed DbCommand (1,919ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='scotland%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:00:37.584 +01:00 [INF] Executed DbCommand (516ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='scotland%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:00:37.607 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='scotland%' (Size = 4000), @__queryLower_0_startswith_1='scotland%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 13:00:37.609 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3038.0256ms.
2025-07-21 13:00:37.611 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:37.612 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3055.9744ms
2025-07-21 13:00:37.613 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:37.615 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3061.3714 ms
2025-07-21 13:00:37.616 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Scotland&maxResults=1 - 200 null application/json; charset=utf-8 3066.1715ms
2025-07-21 13:00:37.762 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=56.49067119999999&longitude=-4.2026458&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 13:00:37.765 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:37.766 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:37.781 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:37.782 +01:00 [INF] Getting nearby providers at 56.49067119999999,-4.2026458 within 25 miles
2025-07-21 13:00:37.783 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":56.49067119999999,"Longitude":-4.2026458,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:00:37.796 +01:00 [INF] Using provided coordinates: Lat=56.4906712, Lng=-4.2026458
2025-07-21 13:00:37.797 +01:00 [INF] Executing real provider search at 56.4906712,-4.2026458 within 25 miles
2025-07-21 13:00:37.814 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:00:38.335 +01:00 [INF] Executed DbCommand (518ms) [Parameters=[@__Cos_1='0.5520727498469041', @__longitude_2='-4.2026458', @__Sin_3='0.8337959455864952', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:00:38.338 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:00:38.339 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:00:38.340 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 557.9783ms.
2025-07-21 13:00:38.341 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:38.343 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 575.013ms
2025-07-21 13:00:38.344 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:38.346 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 580.6275 ms
2025-07-21 13:00:38.347 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=56.49067119999999&longitude=-4.2026458&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 584.9494ms
2025-07-21 13:00:41.081 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Scotland&maxResults=1 - null null
2025-07-21 13:00:41.087 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:41.088 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:41.105 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:41.107 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0882ms.
2025-07-21 13:00:41.108 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:41.109 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 18.8026ms
2025-07-21 13:00:41.111 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:00:41.112 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.0525 ms
2025-07-21 13:00:41.114 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Scotland&maxResults=1 - 200 null application/json; charset=utf-8 33.1621ms
2025-07-21 13:00:41.174 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=56.49067119999999&longitude=-4.2026458&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 13:00:41.176 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:41.178 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:00:41.191 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:00:41.193 +01:00 [INF] Getting nearby providers at 56.49067119999999,-4.2026458 within 25 miles
2025-07-21 13:00:41.194 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":56.49067119999999,"Longitude":-4.2026458,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:00:41.207 +01:00 [INF] Using provided coordinates: Lat=56.4906712, Lng=-4.2026458
2025-07-21 13:00:41.208 +01:00 [INF] Returning cached search results for key: search_56.4907_-4.2026_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 13:00:41.209 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.7812ms.
2025-07-21 13:00:41.210 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:00:41.211 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.4041ms
2025-07-21 13:00:41.213 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:00:41.214 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 37.4397 ms
2025-07-21 13:00:41.216 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=56.49067119999999&longitude=-4.2026458&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 41.9156ms
2025-07-21 13:02:06.944 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:02:06.947 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:06.949 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:06.963 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:07.553 +01:00 [INF] Executed DbCommand (587ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='nottingham%' (Size = 4000), @__Replace_1_startswith='nottingham%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:02:09.456 +01:00 [INF] Executed DbCommand (1,900ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='nottingham%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:02:09.988 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='nottingham%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:02:10.003 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='nottingham%' (Size = 4000), @__queryLower_0_startswith_1='nottingham%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 13:02:10.005 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3040.967ms.
2025-07-21 13:02:10.008 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:10.009 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3058.8673ms
2025-07-21 13:02:10.011 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:10.012 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3064.4648 ms
2025-07-21 13:02:10.013 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 3069.2021ms
2025-07-21 13:02:10.077 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 13:02:10.079 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:10.080 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:10.096 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:10.098 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:10.099 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:02:10.111 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:02:10.112 +01:00 [INF] Executing real provider search at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:10.127 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:02:10.645 +01:00 [INF] Executed DbCommand (515ms) [Parameters=[@__Cos_1='0.6024557041615128', @__longitude_2='-1.1549892', @__Sin_3='0.798152319124148', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:02:10.647 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:02:10.649 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:02:10.650 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 551.9298ms.
2025-07-21 13:02:10.651 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:10.653 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 570.5714ms
2025-07-21 13:02:10.654 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:10.655 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 575.8326 ms
2025-07-21 13:02:10.658 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 580.5651ms
2025-07-21 13:02:12.613 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:02:12.616 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:12.620 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:12.638 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:12.640 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0523ms.
2025-07-21 13:02:12.641 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:12.643 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.1024ms
2025-07-21 13:02:12.644 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:12.645 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 28.5031 ms
2025-07-21 13:02:12.648 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 35.0089ms
2025-07-21 13:02:12.692 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d - null null
2025-07-21 13:02:12.695 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:12.696 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:12.711 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:12.712 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:12.714 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:02:12.727 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:02:12.728 +01:00 [INF] Executing real provider search at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:12.740 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:02:12.743 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:12.744 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:12.783 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:12.783 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:02:12.784 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0635ms.
2025-07-21 13:02:12.787 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:12.789 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 43.8146ms
2025-07-21 13:02:12.791 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:12.792 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 48.8573 ms
2025-07-21 13:02:12.793 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 53.3956ms
2025-07-21 13:02:13.314 +01:00 [INF] Executed DbCommand (528ms) [Parameters=[@__Cos_1='0.6024557041615128', @__longitude_2='-1.1549892', @__Sin_3='0.798152319124148', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:02:13.317 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:02:13.318 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:02:13.319 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 606.6897ms.
2025-07-21 13:02:13.320 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:13.321 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 623.5089ms
2025-07-21 13:02:13.323 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:13.324 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 628.8236 ms
2025-07-21 13:02:13.326 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d - 200 null application/json; charset=utf-8 633.4186ms
2025-07-21 13:02:13.331 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d - null null
2025-07-21 13:02:13.334 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:13.335 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:13.352 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:13.353 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:13.354 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:02:13.366 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:02:13.368 +01:00 [INF] Returning cached search results for key: search_52.9540_-1.1550_25_services_2124f64c-8805-4510-977c-0892cebdf52d,315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 13:02:13.369 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.52ms.
2025-07-21 13:02:13.370 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:13.371 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 34.6004ms
2025-07-21 13:02:13.373 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:13.374 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 40.0468 ms
2025-07-21 13:02:13.375 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d - 200 null application/json; charset=utf-8 43.8907ms
2025-07-21 13:02:14.655 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:02:14.657 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:14.658 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:14.675 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:14.677 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0458ms.
2025-07-21 13:02:14.679 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:14.680 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.3337ms
2025-07-21 13:02:14.681 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:14.683 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.4381 ms
2025-07-21 13:02:14.684 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 29.8489ms
2025-07-21 13:02:14.727 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378 - null null
2025-07-21 13:02:14.729 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:14.730 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:14.744 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:14.745 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:14.747 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:02:14.759 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:02:14.760 +01:00 [INF] Executing real provider search at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:14.780 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:02:15.310 +01:00 [INF] Executed DbCommand (528ms) [Parameters=[@__Cos_1='0.6024557041615128', @__longitude_2='-1.1549892', @__Sin_3='0.798152319124148', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:02:15.314 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:02:15.315 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:02:15.316 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 570.3984ms.
2025-07-21 13:02:15.317 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:15.318 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 586.4257ms
2025-07-21 13:02:15.320 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:15.321 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 591.6543 ms
2025-07-21 13:02:15.323 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378 - 200 null application/json; charset=utf-8 596.0568ms
2025-07-21 13:02:16.961 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:02:16.964 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:16.965 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:16.985 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:16.986 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0344ms.
2025-07-21 13:02:16.988 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:16.990 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 23.4242ms
2025-07-21 13:02:16.991 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:16.992 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 28.5815 ms
2025-07-21 13:02:16.994 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 33.5396ms
2025-07-21 13:02:17.053 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:02:17.055 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:17.056 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:17.070 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:17.071 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:17.072 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:02:17.085 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:02:17.086 +01:00 [INF] Executing real provider search at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:17.099 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:02:17.623 +01:00 [INF] Executed DbCommand (521ms) [Parameters=[@__Cos_1='0.6024557041615128', @__longitude_2='-1.1549892', @__Sin_3='0.798152319124148', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:02:17.625 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:02:17.627 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:02:17.627 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 556.3994ms.
2025-07-21 13:02:17.629 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:17.630 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 572.0159ms
2025-07-21 13:02:17.631 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:17.632 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 577.3018 ms
2025-07-21 13:02:17.636 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 583.4539ms
2025-07-21 13:02:18.554 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:02:18.558 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:18.559 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:18.574 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:18.575 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0402ms.
2025-07-21 13:02:18.577 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:18.578 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17.2165ms
2025-07-21 13:02:18.579 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:18.580 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 22.4725 ms
2025-07-21 13:02:18.582 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 27.6191ms
2025-07-21 13:02:18.637 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d - null null
2025-07-21 13:02:18.640 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:18.641 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:18.654 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:18.655 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:18.657 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:02:18.670 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:02:18.671 +01:00 [INF] Executing real provider search at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:18.687 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:02:19.217 +01:00 [INF] Executed DbCommand (527ms) [Parameters=[@__Cos_1='0.6024557041615128', @__longitude_2='-1.1549892', @__Sin_3='0.798152319124148', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:02:19.220 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:02:19.221 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:02:19.223 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 567.3453ms.
2025-07-21 13:02:19.225 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:19.226 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 583.7867ms
2025-07-21 13:02:19.227 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:19.228 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 588.8271 ms
2025-07-21 13:02:19.230 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d - 200 null application/json; charset=utf-8 593.04ms
2025-07-21 13:02:20.235 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:02:20.237 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:20.239 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:20.253 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:20.255 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0693ms.
2025-07-21 13:02:20.257 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:20.258 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17.8659ms
2025-07-21 13:02:20.260 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:20.261 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 23.2540 ms
2025-07-21 13:02:20.262 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 27.5055ms
2025-07-21 13:02:20.318 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea - null null
2025-07-21 13:02:20.321 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:20.322 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:20.337 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:20.339 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:20.340 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:02:20.358 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:02:20.359 +01:00 [INF] Executing real provider search at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:20.375 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d","25474c00-6715-41f7-8c0a-1717b4d472ea"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:02:20.904 +01:00 [INF] Executed DbCommand (527ms) [Parameters=[@__Cos_1='0.6024557041615128', @__longitude_2='-1.1549892', @__Sin_3='0.798152319124148', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:02:20.908 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:02:20.909 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:02:20.910 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 571.7705ms.
2025-07-21 13:02:20.912 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:20.914 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 590.2418ms
2025-07-21 13:02:20.915 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:20.916 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 595.2766 ms
2025-07-21 13:02:20.919 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,25474c00-6715-41f7-8c0a-1717b4d472ea - 200 null application/json; charset=utf-8 600.2124ms
2025-07-21 13:02:38.495 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:02:38.498 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:38.499 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:38.517 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:38.521 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0549ms.
2025-07-21 13:02:38.524 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:38.526 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 23.9276ms
2025-07-21 13:02:38.528 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:38.529 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 30.4229 ms
2025-07-21 13:02:38.531 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 35.3156ms
2025-07-21 13:02:38.568 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d - null null
2025-07-21 13:02:38.571 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:38.573 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:38.587 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:38.588 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:38.590 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d","751b9f21-8584-4fe1-a5ac-0c71fbf8114d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:02:38.604 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:02:38.605 +01:00 [INF] Returning cached search results for key: search_52.9540_-1.1550_25_services_2124f64c-8805-4510-977c-0892cebdf52d,315c4e9d-724f-4fb4-bedd-63a5fb758007,751b9f21-8584-4fe1-a5ac-0c71fbf8114d,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378_pets_1
2025-07-21 13:02:38.606 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.485ms.
2025-07-21 13:02:38.608 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:38.609 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 34.6347ms
2025-07-21 13:02:38.611 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:38.612 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 40.7806 ms
2025-07-21 13:02:38.614 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d,751b9f21-8584-4fe1-a5ac-0c71fbf8114d - 200 null application/json; charset=utf-8 45.7443ms
2025-07-21 13:02:49.910 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:02:49.914 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:49.915 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:49.931 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:49.933 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0416ms.
2025-07-21 13:02:49.934 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:49.936 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 18.524ms
2025-07-21 13:02:49.937 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:49.939 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.5179 ms
2025-07-21 13:02:49.941 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 30.3764ms
2025-07-21 13:02:50.023 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:02:50.025 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:50.027 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:50.042 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:50.043 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:50.045 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:02:50.057 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:02:50.058 +01:00 [INF] Returning cached search results for key: search_52.9540_-1.1550_25_services_2124f64c-8805-4510-977c-0892cebdf52d,315c4e9d-724f-4fb4-bedd-63a5fb758007,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378_pets_1
2025-07-21 13:02:50.059 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.0313ms.
2025-07-21 13:02:50.061 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:50.062 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 34.0271ms
2025-07-21 13:02:50.064 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:50.065 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 39.5367 ms
2025-07-21 13:02:50.067 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 44.2887ms
2025-07-21 13:02:55.495 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:02:55.498 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:55.499 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:55.523 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:55.524 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0405ms.
2025-07-21 13:02:55.525 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:55.527 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 25.1901ms
2025-07-21 13:02:55.528 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:02:55.529 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 30.8749 ms
2025-07-21 13:02:55.531 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 35.4221ms
2025-07-21 13:02:55.581 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378 - null null
2025-07-21 13:02:55.584 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:55.585 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:02:55.602 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:02:55.603 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:02:55.605 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:02:55.618 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:02:55.619 +01:00 [INF] Returning cached search results for key: search_52.9540_-1.1550_25_services_2124f64c-8805-4510-977c-0892cebdf52d,315c4e9d-724f-4fb4-bedd-63a5fb758007,fd04416c-0909-44b6-9328-3d687214e378_pets_1
2025-07-21 13:02:55.620 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.9649ms.
2025-07-21 13:02:55.621 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:02:55.623 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.6695ms
2025-07-21 13:02:55.624 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:02:55.625 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41.4074 ms
2025-07-21 13:02:55.627 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378 - 200 null application/json; charset=utf-8 45.8191ms
2025-07-21 13:03:08.066 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - null null
2025-07-21 13:03:08.070 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:03:08.071 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:03:08.084 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:03:08.086 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0629ms.
2025-07-21 13:03:08.087 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:03:08.089 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 16.5151ms
2025-07-21 13:03:08.091 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:03:08.092 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 21.8169 ms
2025-07-21 13:03:08.094 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Nottingham&maxResults=1 - 200 null application/json; charset=utf-8 27.3495ms
2025-07-21 13:03:08.156 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:03:08.159 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:03:08.160 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:03:08.172 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:03:08.173 +01:00 [INF] Getting nearby providers at 52.9540223,-1.1549892 within 25 miles
2025-07-21 13:03:16.504 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.9540223,"Longitude":-1.1549892,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:03:16.520 +01:00 [INF] Using provided coordinates: Lat=52.9540223, Lng=-1.1549892
2025-07-21 13:03:25.993 +01:00 [INF] Returning cached search results for key: search_52.9540_-1.1550_25_services_2124f64c-8805-4510-977c-0892cebdf52d,315c4e9d-724f-4fb4-bedd-63a5fb758007,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378_pets_1
2025-07-21 13:03:26.001 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17827.4859ms.
2025-07-21 13:03:26.002 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:03:26.003 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 17842.1419ms
2025-07-21 13:03:26.005 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:03:26.006 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 17847.1048 ms
2025-07-21 13:03:26.007 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.9540223&longitude=-1.1549892&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 17851.5065ms
2025-07-21 13:03:30.575 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Oxfordshire&maxResults=1 - null null
2025-07-21 13:03:30.577 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:03:30.579 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:03:30.594 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:03:31.175 +01:00 [INF] Executed DbCommand (579ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='oxfordshire%' (Size = 4000), @__Replace_1_startswith='oxfordshire%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:03:33.158 +01:00 [INF] Executed DbCommand (1,979ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='oxfordshire%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:03:33.687 +01:00 [INF] Executed DbCommand (527ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='oxfordshire%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:03:33.703 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='oxfordshire%' (Size = 4000), @__queryLower_0_startswith_1='oxfordshire%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 13:03:33.706 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3110.9794ms.
2025-07-21 13:03:33.708 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:03:33.709 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3128.346ms
2025-07-21 13:03:33.711 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:03:33.712 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3135.2049 ms
2025-07-21 13:03:33.714 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Oxfordshire&maxResults=1 - 200 null application/json; charset=utf-8 3139.4654ms
2025-07-21 13:03:33.848 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.7612056&longitude=-1.2464674&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:03:33.850 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:03:33.851 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:03:33.864 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:03:33.865 +01:00 [INF] Getting nearby providers at 51.7612056,-1.2464674 within 25 miles
2025-07-21 13:03:36.595 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":51.7612056,"Longitude":-1.2464674,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:03:36.604 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Oxfordshire&maxResults=1 - null null
2025-07-21 13:03:36.612 +01:00 [INF] Using provided coordinates: Lat=51.7612056, Lng=-1.2464674
2025-07-21 13:03:36.615 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:03:37.820 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:03:39.788 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:03:39.792 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3972ms.
2025-07-21 13:03:39.793 +01:00 [INF] Executing real provider search at 51.7612056,-1.2464674 within 25 miles
2025-07-21 13:03:39.794 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:03:41.501 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 2828.9432ms
2025-07-21 13:03:41.531 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:03:41.542 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 4926.5622 ms
2025-07-21 13:03:41.573 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Oxfordshire&maxResults=1 - 200 null application/json; charset=utf-8 4969.1816ms
2025-07-21 13:03:47.741 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:03:53.136 +01:00 [INF] Executed DbCommand (514ms) [Parameters=[@__Cos_1='0.6189403494146738', @__longitude_2='-1.2464674', @__Sin_3='0.7854379949215861', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:09:17.026 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:09:17.046 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:09:17.053 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 343187.7156ms.
2025-07-21 13:09:17.055 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:09:17.059 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 343206.0952ms
2025-07-21 13:09:17.060 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:09:17.061 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 343211.4667 ms
2025-07-21 13:09:17.063 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.7612056&longitude=-1.2464674&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 499 null application/json; charset=utf-8 343215.5439ms
2025-07-21 13:09:17.567 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.7580433&longitude=-1.2619919&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:09:17.567 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=OX1%202JD&maxResults=1 - null null
2025-07-21 13:09:17.567 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=CB2%201AB&maxResults=1 - null null
2025-07-21 13:09:17.567 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=OX1%202JD&maxResults=1 - null null
2025-07-21 13:09:17.570 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:09:17.573 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:09:17.575 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:09:17.578 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:09:17.578 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:09:17.579 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:09:17.580 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:09:17.597 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:09:17.610 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:09:17.581 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:09:17.627 +01:00 [INF] Getting nearby providers at 51.7580433,-1.2619919 within 25 miles
2025-07-21 13:09:17.626 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:09:17.698 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:09:17.699 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":51.7580433,"Longitude":-1.2619919,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:09:17.715 +01:00 [INF] Using provided coordinates: Lat=51.7580433, Lng=-1.2619919
2025-07-21 13:09:20.355 +01:00 [INF] Executing real provider search at 51.7580433,-1.2619919 within 25 miles
2025-07-21 13:09:24.520 +01:00 [INF] Executed DbCommand (2,428ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 10), @__Replace_1_startswith='cb21ab%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:09:24.520 +01:00 [INF] Executed DbCommand (2,563ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 10), @__Replace_1_startswith='ox12jd%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:09:26.266 +01:00 [INF] Executed DbCommand (1,702ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 10), @__Replace_1_startswith='ox12jd%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:09:28.135 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:09:51.551 +01:00 [INF] Executed DbCommand (24,378ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:09:51.581 +01:00 [INF] Executed DbCommand (23,610ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:09:51.551 +01:00 [INF] Executed DbCommand (23,913ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:09:51.851 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=OX1%202JD&maxResults=1 - null null
2025-07-21 13:09:51.851 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=CB2%201AB&maxResults=1 - null null
2025-07-21 13:09:51.851 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.7580433&longitude=-1.2619919&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:09:51.851 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=OX1%202JD&maxResults=1 - null null
2025-07-21 13:09:51.851 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=CB2%201AB&maxResults=1 - null null
2025-07-21 13:09:51.860 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:09:51.862 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:09:51.864 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:09:51.867 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:09:51.870 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:09:51.872 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:09:51.873 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:09:51.874 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:09:51.894 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:09:51.908 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:09:51.922 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:09:51.875 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:09:51.876 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:09:51.928 +01:00 [INF] Getting nearby providers at 51.7580433,-1.2619919 within 25 miles
2025-07-21 13:09:51.943 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:09:51.959 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:09:51.959 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":51.7580433,"Longitude":-1.2619919,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:09:51.976 +01:00 [INF] Using provided coordinates: Lat=51.7580433, Lng=-1.2619919
2025-07-21 13:09:55.228 +01:00 [INF] Executing real provider search at 51.7580433,-1.2619919 within 25 miles
2025-07-21 13:09:55.228 +01:00 [INF] Executed DbCommand (3,634ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:09:55.228 +01:00 [INF] Executed DbCommand (3,638ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:09:55.228 +01:00 [INF] Executed DbCommand (3,636ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:09:55.228 +01:00 [INF] Executed DbCommand (3,651ms) [Parameters=[@__Cos_1='0.6189836987953383', @__longitude_2='-1.2619919', @__Sin_3='0.7854038328310106', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:09:59.344 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:09:59.345 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:09:59.346 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41719.8132ms.
2025-07-21 13:09:59.348 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:09:59.349 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 41766.5221ms
2025-07-21 13:09:59.351 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:09:59.351 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 4000), @__queryLower_0_startswith_1='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 13:09:59.352 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41781.6665 ms
2025-07-21 13:09:59.354 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41725.8292ms.
2025-07-21 13:09:59.355 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.7580433&longitude=-1.2619919&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 41788.0956ms
2025-07-21 13:09:59.357 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:09:59.357 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 4000), @__queryLower_0_startswith_1='cb2 1ab%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 13:09:59.358 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 4000), @__queryLower_0_startswith_1='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 13:09:59.361 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 41762.516ms
2025-07-21 13:09:59.363 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41662.4109ms.
2025-07-21 13:09:59.365 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41663.0743ms.
2025-07-21 13:09:59.366 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:09:59.367 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:09:59.368 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:09:59.369 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 41796.4707 ms
2025-07-21 13:09:59.370 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 41758.7006ms
2025-07-21 13:09:59.371 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 41741.5638ms
2025-07-21 13:09:59.373 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=OX1%202JD&maxResults=1 - 200 null application/json; charset=utf-8 41806.0784ms
2025-07-21 13:09:59.374 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:09:59.375 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:09:59.379 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 41803.5693 ms
2025-07-21 13:09:59.379 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 41801.8333 ms
2025-07-21 13:09:59.381 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=CB2%201AB&maxResults=1 - 200 null application/json; charset=utf-8 41814.2552ms
2025-07-21 13:09:59.383 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=OX1%202JD&maxResults=1 - 200 null application/json; charset=utf-8 41815.5895ms
2025-07-21 13:09:59.444 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:10:00.150 +01:00 [INF] Executed DbCommand (747ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 10), @__Replace_1_startswith='cb21ab%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:10:00.150 +01:00 [INF] Executed DbCommand (747ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 10), @__Replace_1_startswith='ox12jd%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:10:00.449 +01:00 [INF] Executed DbCommand (1,113ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 10), @__Replace_1_startswith='ox12jd%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:10:00.547 +01:00 [INF] Executed DbCommand (1,144ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 10), @__Replace_1_startswith='cb21ab%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:10:00.677 +01:00 [INF] Executed DbCommand (527ms) [Parameters=[@__Cos_1='0.6189836987953383', @__longitude_2='-1.2619919', @__Sin_3='0.7854038328310106', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:10:00.680 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-21 13:10:00.681 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-21 13:10:00.682 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8754.4775ms.
2025-07-21 13:10:00.684 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:00.685 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 8776.0871ms
2025-07-21 13:10:00.687 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:00.688 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 8823.2252 ms
2025-07-21 13:10:00.689 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.7580433&longitude=-1.2619919&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 8838.5549ms
2025-07-21 13:10:02.552 +01:00 [INF] Executed DbCommand (2,397ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:10:02.555 +01:00 [INF] Executed DbCommand (2,402ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:10:03.067 +01:00 [INF] Executed DbCommand (512ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:10:03.082 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 4000), @__queryLower_0_startswith_1='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 13:10:03.083 +01:00 [INF] Executed DbCommand (526ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:10:03.085 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11125.176ms.
2025-07-21 13:10:03.089 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:03.090 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 11160.7349ms
2025-07-21 13:10:03.092 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:10:03.094 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 11226.3954 ms
2025-07-21 13:10:03.095 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=OX1%202JD&maxResults=1 - 200 null application/json; charset=utf-8 11244.5967ms
2025-07-21 13:10:03.106 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 4000), @__queryLower_0_startswith_1='cb2 1ab%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 13:10:03.109 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11185.9598ms.
2025-07-21 13:10:03.111 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:03.112 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 11216.5946ms
2025-07-21 13:10:03.114 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:10:03.115 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 11252.8623 ms
2025-07-21 13:10:03.117 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=CB2%201AB&maxResults=1 - 200 null application/json; charset=utf-8 11266.6238ms
2025-07-21 13:10:03.180 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.7580433&longitude=-1.2619919&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:10:03.184 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:03.185 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:10:03.205 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:10:03.207 +01:00 [INF] Getting nearby providers at 51.7580433,-1.2619919 within 25 miles
2025-07-21 13:10:03.209 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":51.7580433,"Longitude":-1.2619919,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:10:03.222 +01:00 [INF] Using provided coordinates: Lat=51.7580433, Lng=-1.2619919
2025-07-21 13:10:05.490 +01:00 [INF] Executed DbCommand (4,940ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:10:05.490 +01:00 [INF] Returning cached search results for key: search_51.7580_-1.2620_25_services_2124f64c-8805-4510-977c-0892cebdf52d,315c4e9d-724f-4fb4-bedd-63a5fb758007,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378_pets_1
2025-07-21 13:10:05.490 +01:00 [INF] Executed DbCommand (5,039ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 13:10:05.493 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2286.2066ms.
2025-07-21 13:10:05.497 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:05.498 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 2310.9515ms
2025-07-21 13:10:05.499 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:05.501 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 2316.7260 ms
2025-07-21 13:10:05.502 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.7580433&longitude=-1.2619919&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 2321.9733ms
2025-07-21 13:10:05.516 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.20120439999999&longitude=0.1258118&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:10:05.516 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1%202NG&maxResults=1 - null null
2025-07-21 13:10:05.519 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:05.521 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:10:05.522 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:10:05.523 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:10:05.536 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:10:05.547 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:10:05.548 +01:00 [INF] Getting nearby providers at 52.20120439999999,0.1258118 within 25 miles
2025-07-21 13:10:05.550 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.20120439999999,"Longitude":0.1258118,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:10:05.564 +01:00 [INF] Using provided coordinates: Lat=52.2012044, Lng=0.1258118
2025-07-21 13:10:05.566 +01:00 [INF] Executing real provider search at 52.2012044,0.1258118 within 25 miles
2025-07-21 13:10:06.786 +01:00 [INF] Executed DbCommand (1,236ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='eh1 2ng%' (Size = 10), @__Replace_1_startswith='eh12ng%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 13:10:06.786 +01:00 [INF] Executed DbCommand (1,290ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:10:06.823 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1274.312ms.
2025-07-21 13:10:06.786 +01:00 [INF] Executed DbCommand (1,292ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 13:10:06.899 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:06.916 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='ox1 2jd%' (Size = 4000), @__queryLower_0_startswith_1='ox1 2jd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 13:10:06.943 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 1405.6658ms
2025-07-21 13:10:06.954 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cb2 1ab%' (Size = 4000), @__queryLower_0_startswith_1='cb2 1ab%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 13:10:07.598 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:10:08.461 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16500.1081ms.
2025-07-21 13:10:08.472 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 2950.7048 ms
2025-07-21 13:10:08.484 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:08.997 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1%202NG&maxResults=1 - 200 null application/json; charset=utf-8 3481.2486ms
2025-07-21 13:10:09.749 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489606&longitude=-3.2014791&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:10:09.758 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1%202NG&maxResults=1 - null null
2025-07-21 13:10:09.765 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:09.773 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:10:09.775 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:10:09.778 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:10:09.822 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:10:09.748 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17804.0953ms
2025-07-21 13:10:09.887 +01:00 [INF] Getting nearby providers at 55.9489606,-3.2014791 within 25 miles
2025-07-21 13:10:06.997 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15075.3274ms.
2025-07-21 13:10:09.888 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:10:09.888 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:10:09.890 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":55.9489606,"Longitude":-3.2014791,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:10:09.905 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.036ms.
2025-07-21 13:10:16.156 +01:00 [INF] Using provided coordinates: Lat=55.9489606, Lng=-3.2014791
2025-07-21 13:10:16.159 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:16.162 +01:00 [INF] Executing real provider search at 55.9489606,-3.2014791 within 25 miles
2025-07-21 13:10:16.165 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 6342.109ms
2025-07-21 13:10:09.889 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:10:18.206 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:10:18.208 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 26338.3582 ms
2025-07-21 13:10:18.238 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 8465.7446 ms
2025-07-21 13:10:18.303 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=CB2%201AB&maxResults=1 - 200 null application/json; charset=utf-8 26452.3135ms
2025-07-21 13:10:18.379 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1%202NG&maxResults=1 - 200 null application/json; charset=utf-8 8621.2797ms
2025-07-21 13:10:09.892 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:18.644 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 26767.1999ms
2025-07-21 13:10:18.719 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:10:18.751 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 26890.8776 ms
2025-07-21 13:10:18.797 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=OX1%202JD&maxResults=1 - 200 null application/json; charset=utf-8 26945.6503ms
2025-07-21 13:10:19.665 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.7580433&longitude=-1.2619919&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:10:20.409 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:20.445 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:10:20.555 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:10:21.000 +01:00 [INF] Getting nearby providers at 51.7580433,-1.2619919 within 25 miles
2025-07-21 13:10:21.038 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":51.7580433,"Longitude":-1.2619919,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:10:21.682 +01:00 [INF] Using provided coordinates: Lat=51.7580433, Lng=-1.2619919
2025-07-21 13:10:21.685 +01:00 [INF] Returning cached search results for key: search_51.7580_-1.2620_25_services_2124f64c-8805-4510-977c-0892cebdf52d,315c4e9d-724f-4fb4-bedd-63a5fb758007,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378_pets_1
2025-07-21 13:10:21.688 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 687.8294ms.
2025-07-21 13:10:21.692 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:21.698 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 1206.3919ms
2025-07-21 13:10:21.703 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:21.706 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 1296.7280 ms
2025-07-21 13:10:21.712 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=51.7580433&longitude=-1.2619919&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 2046.6219ms
2025-07-21 13:10:21.765 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:10:25.648 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[@__Cos_1='0.6128904438701351', @__longitude_2='0.1258118', @__Sin_3='0.7901678959643126', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:10:29.268 +01:00 [INF] Executed DbCommand (3,950ms) [Parameters=[@__Cos_1='0.5599311927978414', @__longitude_2='-3.2014791', @__Sin_3='0.8285391115282287', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:10:37.402 +01:00 [INF] Executed DbCommand (521ms) [Parameters=[@__providerGuid_0='2e5b2e8d-dd1a-49f2-a746-ec83998f11a6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:10:37.402 +01:00 [INF] Executed DbCommand (521ms) [Parameters=[@__providerGuid_0='36d5c085-dc40-4aee-b9ef-368652a85fe6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:10:38.432 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.20120439999999&longitude=0.1258118&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:10:38.438 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:38.441 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:10:38.444 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489606&longitude=-3.2014791&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:10:38.494 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:10:38.498 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:38.500 +01:00 [INF] Getting nearby providers at 52.20120439999999,0.1258118 within 25 miles
2025-07-21 13:10:38.504 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:10:38.508 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.20120439999999,"Longitude":0.1258118,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:10:38.520 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:10:38.573 +01:00 [INF] Using provided coordinates: Lat=52.2012044, Lng=0.1258118
2025-07-21 13:10:38.574 +01:00 [INF] Getting nearby providers at 55.9489606,-3.2014791 within 25 miles
2025-07-21 13:10:38.575 +01:00 [INF] Executing real provider search at 52.2012044,0.1258118 within 25 miles
2025-07-21 13:10:38.576 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":55.9489606,"Longitude":-3.2014791,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:10:39.600 +01:00 [INF] Executed DbCommand (1,075ms) [Parameters=[@__Select_0='["194f500e-c3f0-4569-84a6-1983ef4b1081","6169557b-fcbc-458c-8eb8-2bccd14a035c","170bd93c-7d3e-46f8-96b4-adc0a961d3ef","311991b5-b238-4f01-989c-b01d66089143","b50b8045-9b56-481e-80ab-de25b277bc01"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-21 13:10:39.600 +01:00 [INF] Executed DbCommand (1,076ms) [Parameters=[@__Select_0='["a0a65fd3-2a6b-4180-8d1a-16cca201cabc","844e1162-3777-4fee-b2e9-88d4dd7b2687","02fe8768-944b-4466-a8ff-93fa32f421f0"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-21 13:10:41.266 +01:00 [INF] Using provided coordinates: Lat=55.9489606, Lng=-3.2014791
2025-07-21 13:10:41.278 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:10:41.291 +01:00 [INF] Executing real provider search at 55.9489606,-3.2014791 within 25 miles
2025-07-21 13:10:52.227 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-21 13:10:52.227 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-21 13:10:52.230 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-21 13:10:52.235 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:10:52.237 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42349.3226ms.
2025-07-21 13:10:52.234 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-21 13:10:55.153 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:55.187 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 49607.7992ms.
2025-07-21 13:10:55.193 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:10:55.250 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 45468.0071ms
2025-07-21 13:10:55.250 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 49725.1508ms
2025-07-21 13:10:55.256 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:55.259 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:10:55.262 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 45497.5077 ms
2025-07-21 13:10:55.265 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 49745.8757 ms
2025-07-21 13:10:55.271 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489606&longitude=-3.2014791&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 45522.5599ms
2025-07-21 13:10:55.275 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.20120439999999&longitude=0.1258118&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 49759.0176ms
2025-07-21 13:10:55.742 +01:00 [INF] Executed DbCommand (588ms) [Parameters=[@__Cos_1='0.5599311927978414', @__longitude_2='-3.2014791', @__Sin_3='0.8285391115282287', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:10:55.868 +01:00 [INF] Executed DbCommand (520ms) [Parameters=[@__Cos_1='0.6128904438701351', @__longitude_2='0.1258118', @__Sin_3='0.7901678959643126', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","3CFD580A-D51D-41F5-BA21-56DB89868152"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 13:11:09.424 +01:00 [INF] Executed DbCommand (13,669ms) [Parameters=[@__providerGuid_0='2e5b2e8d-dd1a-49f2-a746-ec83998f11a6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:11:09.722 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1%202NG&maxResults=1 - null null
2025-07-21 13:11:13.384 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:11:20.015 +01:00 [INF] Executed DbCommand (6,640ms) [Parameters=[@__Select_0='["194f500e-c3f0-4569-84a6-1983ef4b1081","6169557b-fcbc-458c-8eb8-2bccd14a035c","170bd93c-7d3e-46f8-96b4-adc0a961d3ef","311991b5-b238-4f01-989c-b01d66089143","b50b8045-9b56-481e-80ab-de25b277bc01"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-21 13:11:20.015 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:11:20.017 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-21 13:11:20.029 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:11:20.030 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-21 13:11:20.031 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0269ms.
2025-07-21 13:11:20.032 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41457.4376ms.
2025-07-21 13:11:20.033 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:11:20.035 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:11:20.036 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17.8215ms
2025-07-21 13:11:20.038 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 41527.5807ms
2025-07-21 13:11:20.039 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:11:20.040 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:11:20.041 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 6656.8964 ms
2025-07-21 13:11:20.042 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41544.2421 ms
2025-07-21 13:11:20.043 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1%202NG&maxResults=1 - 200 null application/json; charset=utf-8 10321.0702ms
2025-07-21 13:11:20.045 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489606&longitude=-3.2014791&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 41600.8851ms
2025-07-21 13:11:20.113 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1%202NG&maxResults=1 - null null
2025-07-21 13:11:20.117 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:11:20.119 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:11:20.132 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:11:20.133 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0356ms.
2025-07-21 13:11:20.135 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:11:20.136 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 15.5572ms
2025-07-21 13:11:20.138 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 13:11:20.139 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 21.3436 ms
2025-07-21 13:11:20.141 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=EH1%202NG&maxResults=1 - 200 null application/json; charset=utf-8 27.8363ms
2025-07-21 13:11:20.201 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489606&longitude=-3.2014791&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:11:20.204 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:11:20.205 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:11:20.230 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:11:20.231 +01:00 [INF] Getting nearby providers at 55.9489606,-3.2014791 within 25 miles
2025-07-21 13:11:20.234 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":55.9489606,"Longitude":-3.2014791,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:11:20.248 +01:00 [INF] Using provided coordinates: Lat=55.9489606, Lng=-3.2014791
2025-07-21 13:11:20.249 +01:00 [INF] Returning cached search results for key: search_55.9490_-3.2015_25_services_2124f64c-8805-4510-977c-0892cebdf52d,315c4e9d-724f-4fb4-bedd-63a5fb758007,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378_pets_1
2025-07-21 13:11:20.250 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.3077ms.
2025-07-21 13:11:20.251 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:11:20.253 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 46.0591ms
2025-07-21 13:11:20.255 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:11:20.256 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 52.1354 ms
2025-07-21 13:11:20.258 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489606&longitude=-3.2014791&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 57.2103ms
2025-07-21 13:11:20.264 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489606&longitude=-3.2014791&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - null null
2025-07-21 13:11:20.267 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:11:20.268 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 13:11:20.281 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:11:20.283 +01:00 [INF] Getting nearby providers at 55.9489606,-3.2014791 within 25 miles
2025-07-21 13:11:20.284 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":55.9489606,"Longitude":-3.2014791,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007","2124f64c-8805-4510-977c-0892cebdf52d","fd04416c-0909-44b6-9328-3d687214e378","e797fadc-e970-4f5c-8eee-8339d465ba4d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 13:11:20.297 +01:00 [INF] Using provided coordinates: Lat=55.9489606, Lng=-3.2014791
2025-07-21 13:11:20.298 +01:00 [INF] Returning cached search results for key: search_55.9490_-3.2015_25_services_2124f64c-8805-4510-977c-0892cebdf52d,315c4e9d-724f-4fb4-bedd-63a5fb758007,e797fadc-e970-4f5c-8eee-8339d465ba4d,fd04416c-0909-44b6-9328-3d687214e378_pets_1
2025-07-21 13:11:20.300 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.0886ms.
2025-07-21 13:11:20.301 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:11:20.303 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.354ms
2025-07-21 13:11:20.304 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:11:20.305 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.1459 ms
2025-07-21 13:11:20.307 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.9489606&longitude=-3.2014791&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 42.7595ms
2025-07-21 13:11:20.539 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@__providerGuid_0='36d5c085-dc40-4aee-b9ef-368652a85fe6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 13:11:21.057 +01:00 [INF] Executed DbCommand (515ms) [Parameters=[@__Select_0='["a0a65fd3-2a6b-4180-8d1a-16cca201cabc","844e1162-3777-4fee-b2e9-88d4dd7b2687","02fe8768-944b-4466-a8ff-93fa32f421f0"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-21 13:11:21.060 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-21 13:11:21.061 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-21 13:11:21.063 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42562.5487ms.
2025-07-21 13:11:21.064 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:11:21.065 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 42617.1278ms
2025-07-21 13:11:21.067 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 13:11:21.068 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 42630.1044 ms
2025-07-21 13:11:21.070 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.20120439999999&longitude=0.1258118&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007,2124f64c-8805-4510-977c-0892cebdf52d,fd04416c-0909-44b6-9328-3d687214e378,e797fadc-e970-4f5c-8eee-8339d465ba4d - 200 null application/json; charset=utf-8 42638.1599ms
2025-07-21 13:15:48.880 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 13:15:48.883 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 13:15:48.884 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 13:15:48.897 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:15:48.899 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1392ms.
2025-07-21 13:15:48.900 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:15:48.902 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 16.0196ms
2025-07-21 13:15:48.904 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 13:15:48.905 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 21.9383 ms
2025-07-21 13:15:48.907 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 26.7776ms
2025-07-21 13:16:09.655 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 13:16:09.660 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 13:16:09.661 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 13:16:09.678 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:16:09.680 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0273ms.
2025-07-21 13:16:09.681 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:16:09.683 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.0221ms
2025-07-21 13:16:09.684 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 13:16:09.685 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 26.8230 ms
2025-07-21 13:16:09.688 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 32.5466ms
2025-07-21 13:21:49.374 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 13:21:49.377 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 13:21:49.379 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 13:21:49.405 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:21:49.406 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0575ms.
2025-07-21 13:21:49.407 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:21:49.409 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 27.7467ms
2025-07-21 13:21:49.410 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 13:21:49.411 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 34.1256 ms
2025-07-21 13:21:49.413 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 38.7347ms
2025-07-21 13:22:08.784 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 13:22:08.787 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 13:22:08.788 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 13:22:08.801 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 13:22:08.803 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0222ms.
2025-07-21 13:22:08.805 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 13:22:08.806 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 16.4034ms
2025-07-21 13:22:08.809 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 13:22:08.810 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 22.8441 ms
2025-07-21 13:22:08.812 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 28.445ms
2025-07-21 14:34:18.838 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 14:34:19.777 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 14:34:19.975 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 14:34:20.033 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 14:34:20.576 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 14:34:21.299 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 14:34:21.485 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 14:34:21.568 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:34:21.570 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:34:21.571 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:34:21.573 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:34:21.575 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:34:21.576 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:34:22.527 +01:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 14:34:22.545 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 14:34:22.585 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 14:34:22.690 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 14:34:22.758 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 14:34:22.813 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 14:34:22.838 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 14:34:22.865 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 14:34:22.897 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 14:34:22.906 +01:00 [INF] Database migrations applied successfully
2025-07-21 14:34:22.911 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 14:34:22.945 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 14:34:23.301 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 14:34:23.303 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 14:34:23.415 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 14:34:23.420 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 14:34:23.423 +01:00 [INF] Hosting environment: Development
2025-07-21 14:34:23.427 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 14:34:23.457 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 14:34:23.802 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 14:34:23.825 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 14:34:23.935 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 14:34:23.996 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 586.6855ms
2025-07-21 14:34:24.003 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 14:34:24.013 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.7479ms
2025-07-21 14:34:24.442 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 14:34:24.485 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.1483ms
2025-07-21 14:34:24.929 +01:00 [INF] Executed DbCommand (539ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 14:34:24.946 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 14:34:24.984 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1043.9471ms.
2025-07-21 14:34:25.000 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.5085ms
2025-07-21 14:34:25.000 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 14:34:25.057 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1225.7626ms
2025-07-21 14:34:25.061 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 14:34:25.068 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1497.4712 ms
2025-07-21 14:34:25.077 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1621.1281ms
2025-07-21 14:42:01.614 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 14:42:02.569 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 14:42:02.730 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 14:42:02.785 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 14:42:03.289 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 14:42:04.014 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 14:42:04.193 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 14:42:04.264 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:42:04.265 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:42:04.267 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:42:04.269 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:42:04.270 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:42:04.272 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 14:42:05.181 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 14:42:05.199 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 14:42:05.237 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 14:42:05.312 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 14:42:05.358 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 14:42:05.374 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 14:42:05.391 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 14:42:05.408 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 14:42:05.441 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 14:42:05.446 +01:00 [INF] Database migrations applied successfully
2025-07-21 14:42:05.450 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 14:42:05.479 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 14:42:05.729 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 14:42:05.730 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 14:42:05.796 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 14:42:05.797 +01:00 [INF] Hosting environment: Development
2025-07-21 14:42:05.798 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 14:42:06.166 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 14:42:06.387 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 225.6571ms
2025-07-21 14:42:18.018 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 14:42:18.030 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 12.267ms
2025-07-21 14:42:18.524 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 14:42:18.569 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.4314ms
2025-07-21 14:42:22.882 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 14:42:22.928 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.8894ms
2025-07-21 14:42:23.640 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 14:42:23.774 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 14:42:23.802 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 14:42:23.899 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 14:42:25.012 +01:00 [INF] Executed DbCommand (542ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 14:42:25.062 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1158.7503ms.
2025-07-21 14:42:25.073 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 14:42:25.114 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1306.1032ms
2025-07-21 14:42:25.116 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 14:42:25.123 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1467.7361 ms
2025-07-21 14:42:25.137 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1497.8434ms
2025-07-21 14:43:17.514 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 14:43:17.525 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 14:43:17.535 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 14:43:17.572 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 14:43:18.347 +01:00 [INF] Executed DbCommand (689ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='cambridge%' (Size = 10), @__Replace_1_startswith='cambridge%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 14:43:18.369 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-21 14:43:20.443 +01:00 [INF] Executed DbCommand (2,054ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 14:43:20.975 +01:00 [INF] Executed DbCommand (522ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 14:43:21.000 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 4000), @__queryLower_0_startswith_1='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 14:43:21.008 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3435.0212ms.
2025-07-21 14:43:21.011 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 14:43:21.016 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3479.4702ms
2025-07-21 14:43:21.018 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 14:43:21.019 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3497.1781 ms
2025-07-21 14:43:21.022 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 3507.9572ms
2025-07-21 14:43:21.072 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 14:43:21.078 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 14:43:21.079 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 14:43:21.093 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 14:43:21.095 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.309ms.
2025-07-21 14:43:21.096 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 14:43:21.099 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17.2971ms
2025-07-21 14:43:21.100 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 14:43:21.101 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 24.4879 ms
2025-07-21 14:43:21.104 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 31.4168ms
2025-07-21 14:43:21.219 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 14:43:21.222 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 14:43:21.227 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 14:43:21.247 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 14:43:21.250 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 14:43:21.259 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 14:43:21.275 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 14:43:21.282 +01:00 [INF] Executing real provider search at 52.1950788,0.1312729 within 25 miles
2025-07-21 14:43:21.337 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 14:43:21.934 +01:00 [INF] Executed DbCommand (521ms) [Parameters=[@__Cos_1='0.612974918709375', @__longitude_2='0.1312729', @__Sin_3='0.7901023661736719', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 14:43:22.479 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__providerGuid_0='36d5c085-dc40-4aee-b9ef-368652a85fe6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 14:43:23.011 +01:00 [INF] Executed DbCommand (516ms) [Parameters=[@__Select_0='["a0a65fd3-2a6b-4180-8d1a-16cca201cabc","844e1162-3777-4fee-b2e9-88d4dd7b2687","02fe8768-944b-4466-a8ff-93fa32f421f0"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-21 14:43:23.017 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-21 14:43:23.020 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-21 14:43:23.021 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1772.9124ms.
2025-07-21 14:43:23.023 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 14:43:23.042 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 1813.1247ms
2025-07-21 14:43:23.044 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 14:43:23.045 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 1823.7974 ms
2025-07-21 14:43:23.047 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 1828.4569ms
2025-07-21 14:43:23.054 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 14:43:23.057 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 14:43:23.058 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 14:43:23.074 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 14:43:23.075 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 14:43:23.077 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 14:43:23.096 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 14:43:23.098 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 14:43:23.100 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.0168ms.
2025-07-21 14:43:23.102 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 14:43:23.104 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 44.0927ms
2025-07-21 14:43:23.105 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 14:43:23.109 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 52.8056 ms
2025-07-21 14:43:23.111 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 57.2834ms
2025-07-21 14:44:23.541 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability?startDate=2025-07-21T13:44:23.4220000+00:00&endDate=2025-08-04T13:44:23.4220000+00:00 - null null
2025-07-21 14:44:23.544 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-21 14:44:23.549 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 14:44:23.560 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-21 14:44:23.572 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 20.6919ms
2025-07-21 14:44:23.574 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-21 14:44:23.575 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability responded 400 in 30.7999 ms
2025-07-21 14:44:23.577 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability?startDate=2025-07-21T13:44:23.4220000+00:00&endDate=2025-08-04T13:44:23.4220000+00:00 - 400 null application/problem+json; charset=utf-8 65.5381ms
2025-07-21 14:47:39.241 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 14:47:39.254 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 14:47:39.256 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 14:47:39.272 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 14:47:39.274 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1823ms.
2025-07-21 14:47:39.275 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 14:47:39.277 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 19.6947ms
2025-07-21 14:47:39.278 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 14:47:39.280 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 26.2622 ms
2025-07-21 14:47:39.282 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 41.2272ms
2025-07-21 15:01:07.001 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:01:07.004 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:01:07.005 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:01:07.023 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:01:07.025 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0988ms.
2025-07-21 15:01:07.026 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:01:07.027 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.1301ms
2025-07-21 15:01:07.029 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:01:07.030 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 26.2738 ms
2025-07-21 15:01:07.032 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 30.8947ms
2025-07-21 15:01:07.184 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:01:07.187 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:01:07.188 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:01:07.205 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:01:07.207 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:01:07.208 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:01:07.221 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:01:07.223 +01:00 [INF] Executing real provider search at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:01:07.344 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 15:01:07.868 +01:00 [INF] Executed DbCommand (520ms) [Parameters=[@__Cos_1='0.612974918709375', @__longitude_2='0.1312729', @__Sin_3='0.7901023661736719', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 15:01:08.398 +01:00 [INF] Executed DbCommand (526ms) [Parameters=[@__providerGuid_0='36d5c085-dc40-4aee-b9ef-368652a85fe6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 15:01:08.935 +01:00 [INF] Executed DbCommand (533ms) [Parameters=[@__Select_0='["a0a65fd3-2a6b-4180-8d1a-16cca201cabc","844e1162-3777-4fee-b2e9-88d4dd7b2687","02fe8768-944b-4466-a8ff-93fa32f421f0"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-21 15:01:08.937 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-21 15:01:08.938 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-21 15:01:08.940 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1732.9065ms.
2025-07-21 15:01:08.941 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:01:08.943 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 1752.8303ms
2025-07-21 15:01:08.945 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:01:08.946 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 1758.9172 ms
2025-07-21 15:01:08.948 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 1764.3262ms
2025-07-21 15:01:09.124 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:01:09.127 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:01:09.128 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:01:09.142 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:01:09.143 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0677ms.
2025-07-21 15:01:09.144 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:01:09.145 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 15.4756ms
2025-07-21 15:01:09.146 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:01:09.148 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 20.5214 ms
2025-07-21 15:01:09.150 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 25.3688ms
2025-07-21 15:01:09.205 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:01:09.208 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:01:09.209 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:01:09.224 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:01:09.225 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:01:09.227 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:01:09.240 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:01:09.241 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 15:01:09.242 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.2693ms.
2025-07-21 15:01:09.243 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:01:09.244 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.8184ms
2025-07-21 15:01:09.245 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:01:09.247 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.8732 ms
2025-07-21 15:01:09.248 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 43.9026ms
2025-07-21 15:01:26.076 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 15:01:27.137 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 15:01:27.309 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 15:01:27.372 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 15:01:27.931 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 15:01:28.569 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 15:01:28.775 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 15:01:28.877 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:01:28.880 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:01:28.882 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:01:28.888 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:01:28.889 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:01:28.891 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:01:29.755 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 15:01:29.769 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 15:01:29.806 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 15:01:29.889 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 15:01:29.932 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 15:01:29.951 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 15:01:29.981 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 15:01:30.012 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 15:01:30.053 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 15:01:30.061 +01:00 [INF] Database migrations applied successfully
2025-07-21 15:01:30.066 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 15:01:30.114 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 15:01:30.403 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 15:01:30.404 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 15:01:30.469 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 15:01:30.474 +01:00 [INF] Hosting environment: Development
2025-07-21 15:01:30.476 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 15:01:30.731 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:01:30.998 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 15:01:30.999 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:01:31.022 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:01:31.118 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:01:31.238 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 239.3769ms
2025-07-21 15:01:31.265 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 15:01:31.275 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.4465ms
2025-07-21 15:01:31.658 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 15:01:31.718 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.0505ms
2025-07-21 15:01:32.086 +01:00 [INF] Executed DbCommand (561ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 15:01:32.165 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 15:01:33.118 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 953.9253ms
2025-07-21 15:01:33.131 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2007.9761ms.
2025-07-21 15:01:33.140 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:01:33.177 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 2151.2484ms
2025-07-21 15:01:33.179 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:01:33.185 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 2303.8433 ms
2025-07-21 15:01:33.192 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 2467.2195ms
2025-07-21 15:02:16.067 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:02:16.130 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:02:16.143 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:02:16.193 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:02:16.909 +01:00 [INF] Executed DbCommand (610ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='cambridge%' (Size = 10), @__Replace_1_startswith='cambridge%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 15:02:16.930 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-21 15:02:18.922 +01:00 [INF] Executed DbCommand (1,969ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 15:02:19.448 +01:00 [INF] Executed DbCommand (514ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 15:02:19.481 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 4000), @__queryLower_0_startswith_1='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 15:02:19.488 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3292.7425ms.
2025-07-21 15:02:19.490 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:02:19.495 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3350.184ms
2025-07-21 15:02:19.497 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:02:19.498 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3368.5962 ms
2025-07-21 15:02:19.500 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 3433.2327ms
2025-07-21 15:02:19.641 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:02:19.646 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:02:19.651 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:02:19.666 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:02:19.670 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:02:19.679 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:02:19.695 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:02:19.702 +01:00 [INF] Executing real provider search at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:02:19.763 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 15:02:20.360 +01:00 [INF] Executed DbCommand (518ms) [Parameters=[@__Cos_1='0.612974918709375', @__longitude_2='0.1312729', @__Sin_3='0.7901023661736719', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 15:02:20.914 +01:00 [INF] Executed DbCommand (526ms) [Parameters=[@__providerGuid_0='36d5c085-dc40-4aee-b9ef-368652a85fe6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 15:02:21.452 +01:00 [INF] Executed DbCommand (518ms) [Parameters=[@__Select_0='["a0a65fd3-2a6b-4180-8d1a-16cca201cabc","844e1162-3777-4fee-b2e9-88d4dd7b2687","02fe8768-944b-4466-a8ff-93fa32f421f0"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-21 15:02:21.460 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-21 15:02:21.463 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-21 15:02:21.464 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1796.808ms.
2025-07-21 15:02:21.466 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:02:21.493 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 1839.7365ms
2025-07-21 15:02:21.495 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:02:21.496 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 1851.3914 ms
2025-07-21 15:02:21.498 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 1857.0096ms
2025-07-21 15:02:27.336 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:02:27.339 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:02:27.341 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:02:27.357 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:02:27.359 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2309ms.
2025-07-21 15:02:27.360 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:02:27.362 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 19.4146ms
2025-07-21 15:02:27.363 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:02:27.364 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 24.8522 ms
2025-07-21 15:02:27.366 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 30.4526ms
2025-07-21 15:02:27.432 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:02:27.435 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:02:27.435 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:02:27.450 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:02:27.452 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:02:27.453 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:02:27.465 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:02:27.466 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 15:02:27.467 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.7719ms.
2025-07-21 15:02:27.469 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:02:27.470 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.6295ms
2025-07-21 15:02:27.472 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:02:27.473 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.1338 ms
2025-07-21 15:02:27.474 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 42.6198ms
2025-07-21 15:02:57.738 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:02:57.741 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:02:57.742 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:02:57.758 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:02:57.760 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2629ms.
2025-07-21 15:02:57.762 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:02:57.764 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 19.8717ms
2025-07-21 15:02:57.765 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:02:57.766 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 25.0834 ms
2025-07-21 15:02:57.769 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 30.8544ms
2025-07-21 15:02:57.842 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:02:57.845 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:02:57.846 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:02:57.862 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:02:57.864 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:02:57.866 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:02:57.879 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:02:57.880 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 15:02:57.881 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.5689ms.
2025-07-21 15:02:57.882 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:02:57.884 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.7446ms
2025-07-21 15:02:57.885 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:02:57.886 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41.3425 ms
2025-07-21 15:02:57.888 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 46.0088ms
2025-07-21 15:03:07.633 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability - null null
2025-07-21 15:03:07.635 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-21 15:03:07.641 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:03:07.647 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-21 15:03:07.660 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 16.6226ms
2025-07-21 15:03:07.662 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-21 15:03:07.663 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability responded 400 in 27.4377 ms
2025-07-21 15:03:07.664 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability - 400 null application/problem+json; charset=utf-8 31.8492ms
2025-07-21 15:08:10.660 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:08:10.665 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:08:10.666 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:08:10.686 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:08:10.688 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2022ms.
2025-07-21 15:08:10.689 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:08:10.691 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.6275ms
2025-07-21 15:08:10.693 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:08:10.694 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.6115 ms
2025-07-21 15:08:10.696 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 36.0359ms
2025-07-21 15:08:29.696 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:08:29.699 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:08:29.700 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:08:29.719 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:08:29.720 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0755ms.
2025-07-21 15:08:29.722 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:08:29.723 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.783ms
2025-07-21 15:08:29.724 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:08:29.725 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 26.0413 ms
2025-07-21 15:08:29.727 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 30.9925ms
2025-07-21 15:08:29.846 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:08:29.849 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:08:29.851 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:08:29.869 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:08:29.870 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0582ms.
2025-07-21 15:08:29.872 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:08:29.873 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 20.3127ms
2025-07-21 15:08:29.875 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:08:29.876 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 26.6795 ms
2025-07-21 15:08:29.878 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 32.5137ms
2025-07-21 15:08:29.909 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:08:29.912 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:08:29.914 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:08:29.930 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:08:29.931 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:08:29.933 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:08:29.946 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:08:29.947 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 15:08:29.948 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.8521ms.
2025-07-21 15:08:29.950 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:08:29.951 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.8514ms
2025-07-21 15:08:29.953 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:08:29.954 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41.9664 ms
2025-07-21 15:08:29.956 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 47.2989ms
2025-07-21 15:08:29.963 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:08:29.966 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:08:29.967 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:08:29.989 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:08:29.993 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:08:29.996 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:08:30.015 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:08:30.017 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 15:08:30.017 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.8487ms.
2025-07-21 15:08:30.021 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:08:30.024 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 53.5936ms
2025-07-21 15:08:30.025 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:08:30.026 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 60.2116 ms
2025-07-21 15:08:30.029 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 66.4935ms
2025-07-21 15:08:38.454 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability - null null
2025-07-21 15:08:38.457 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-21 15:08:38.458 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:08:38.460 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-21 15:08:38.463 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 3.1312ms
2025-07-21 15:08:38.464 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-21 15:08:38.465 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability responded 400 in 8.3223 ms
2025-07-21 15:08:38.467 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability - 400 null application/problem+json; charset=utf-8 13.235ms
2025-07-21 15:08:47.546 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/pricing - null null
2025-07-21 15:08:47.549 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API)'
2025-07-21 15:08:47.558 +01:00 [INF] Route matched with {action = "CalculateServicePricing", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Services.Interfaces.ServicePricingDto]] CalculateServicePricing(System.String, System.String, System.DateTimeOffset, Int32, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:08:47.561 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-21 15:08:47.562 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API) in 3.0502ms
2025-07-21 15:08:47.564 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API)'
2025-07-21 15:08:47.565 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/pricing responded 400 in 16.2527 ms
2025-07-21 15:08:47.567 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/pricing - 400 null application/problem+json; charset=utf-8 20.6745ms
2025-07-21 15:09:04.683 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/pricing - null null
2025-07-21 15:09:04.685 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API)'
2025-07-21 15:09:04.686 +01:00 [INF] Route matched with {action = "CalculateServicePricing", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Services.Interfaces.ServicePricingDto]] CalculateServicePricing(System.String, System.String, System.DateTimeOffset, Int32, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:09:04.688 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-21 15:09:04.690 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API) in 2.0367ms
2025-07-21 15:09:04.691 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API)'
2025-07-21 15:09:04.692 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/pricing responded 400 in 7.3556 ms
2025-07-21 15:09:04.694 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/pricing - 400 null application/problem+json; charset=utf-8 11.4355ms
2025-07-21 15:09:29.107 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:09:29.110 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:09:29.111 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:09:29.130 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:09:29.131 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0865ms.
2025-07-21 15:09:29.133 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:09:29.135 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 22.1267ms
2025-07-21 15:09:29.137 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:09:29.138 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.2047 ms
2025-07-21 15:09:29.141 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.5341ms
2025-07-21 15:09:45.391 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:09:45.394 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:09:45.395 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:09:45.410 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:09:45.413 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0593ms.
2025-07-21 15:09:45.415 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:09:45.417 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.429ms
2025-07-21 15:09:45.420 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:09:45.421 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 27.2025 ms
2025-07-21 15:09:45.424 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 33.0326ms
2025-07-21 15:09:57.634 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:09:57.636 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:09:57.637 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:09:57.654 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:09:57.655 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0554ms.
2025-07-21 15:09:57.657 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:09:57.658 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 19.2871ms
2025-07-21 15:09:57.660 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:09:57.661 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.1580 ms
2025-07-21 15:09:57.663 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 29.381ms
2025-07-21 15:11:49.849 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 15:11:50.896 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 15:11:51.083 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 15:11:51.164 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 15:11:51.792 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 15:11:52.489 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 15:11:52.677 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 15:11:52.756 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:11:52.757 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:11:52.759 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:11:52.760 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:11:52.761 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:11:52.763 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:11:53.649 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 15:11:53.673 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 15:11:53.727 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 15:11:53.812 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 15:11:53.874 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 15:11:53.943 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 15:11:53.965 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 15:11:54.004 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 15:11:54.039 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 15:11:54.046 +01:00 [INF] Database migrations applied successfully
2025-07-21 15:11:54.052 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 15:11:54.098 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 15:11:54.462 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 15:11:54.463 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 15:11:54.541 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 15:11:54.544 +01:00 [INF] Hosting environment: Development
2025-07-21 15:11:54.545 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 15:11:54.852 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:11:54.852 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 15:11:55.052 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:11:55.089 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:11:55.215 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:11:55.254 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 402.6404ms
2025-07-21 15:11:55.283 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 15:11:55.292 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 8.6623ms
2025-07-21 15:11:55.712 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 15:11:55.760 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.79ms
2025-07-21 15:11:56.174 +01:00 [INF] Executed DbCommand (541ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 15:11:56.220 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 998.7724ms.
2025-07-21 15:11:56.229 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:11:56.262 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1168.0484ms
2025-07-21 15:11:56.264 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:11:56.269 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1356.9454 ms
2025-07-21 15:11:56.276 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1430.5732ms
2025-07-21 15:11:56.701 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 15:11:56.743 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.1679ms
2025-07-21 15:12:01.163 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:12:01.169 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:12:01.184 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:12:01.233 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:12:01.960 +01:00 [INF] Executed DbCommand (620ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='cambridge%' (Size = 10), @__Replace_1_startswith='cambridge%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 15:12:01.981 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-21 15:12:03.988 +01:00 [INF] Executed DbCommand (1,988ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 15:12:04.526 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 15:12:04.548 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 4000), @__queryLower_0_startswith_1='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 15:12:04.553 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3318.269ms.
2025-07-21 15:12:04.555 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:12:04.559 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3373.3507ms
2025-07-21 15:12:04.561 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:12:04.562 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3393.7398 ms
2025-07-21 15:12:04.565 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 3401.8794ms
2025-07-21 15:12:04.785 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:12:04.790 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:12:04.795 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:12:04.812 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:12:04.814 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:12:04.823 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:12:04.839 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:12:04.845 +01:00 [INF] Executing real provider search at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:12:04.900 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 15:12:05.497 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__Cos_1='0.612974918709375', @__longitude_2='0.1312729', @__Sin_3='0.7901023661736719', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 15:12:06.043 +01:00 [INF] Executed DbCommand (521ms) [Parameters=[@__providerGuid_0='36d5c085-dc40-4aee-b9ef-368652a85fe6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 15:12:06.590 +01:00 [INF] Executed DbCommand (528ms) [Parameters=[@__Select_0='["a0a65fd3-2a6b-4180-8d1a-16cca201cabc","844e1162-3777-4fee-b2e9-88d4dd7b2687","02fe8768-944b-4466-a8ff-93fa32f421f0"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-21 15:12:06.596 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-21 15:12:06.598 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-21 15:12:06.599 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1786.1956ms.
2025-07-21 15:12:06.602 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:12:06.619 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 1822.3654ms
2025-07-21 15:12:06.621 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:12:06.622 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 1833.5778 ms
2025-07-21 15:12:06.624 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 1839.3058ms
2025-07-21 15:12:18.320 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:12:18.341 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:12:18.361 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:12:18.379 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:12:18.386 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3537ms.
2025-07-21 15:12:18.390 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:12:18.391 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 27.1482ms
2025-07-21 15:12:18.394 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:12:18.394 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 53.9669 ms
2025-07-21 15:12:18.397 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 77.0481ms
2025-07-21 15:12:18.473 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:12:18.476 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:12:18.478 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:12:18.493 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:12:18.495 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:12:18.500 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:12:18.514 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:12:18.515 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 15:12:18.516 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.1422ms.
2025-07-21 15:12:18.518 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:12:18.520 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 39.4778ms
2025-07-21 15:12:18.521 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:12:18.522 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 45.9448 ms
2025-07-21 15:12:18.524 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 51.2317ms
2025-07-21 15:12:30.039 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:12:30.043 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:12:30.046 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:12:30.064 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:12:30.066 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.244ms.
2025-07-21 15:12:30.067 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:12:30.069 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.9928ms
2025-07-21 15:12:30.071 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:12:30.072 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 28.9730 ms
2025-07-21 15:12:30.074 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.7504ms
2025-07-21 15:12:38.819 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:12:38.822 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:12:38.824 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:12:38.840 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:12:38.842 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0516ms.
2025-07-21 15:12:38.844 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:12:38.846 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.6894ms
2025-07-21 15:12:38.848 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:12:38.849 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 27.2883 ms
2025-07-21 15:12:38.851 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 32.1337ms
2025-07-21 15:15:33.731 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:15:33.734 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:15:33.735 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:15:33.751 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:15:33.753 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4266ms.
2025-07-21 15:15:33.755 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:15:33.756 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.4611ms
2025-07-21 15:15:33.758 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:15:33.759 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.1728 ms
2025-07-21 15:15:33.761 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 29.9974ms
2025-07-21 15:15:40.637 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:15:40.640 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:15:40.641 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:15:40.660 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:15:40.661 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0469ms.
2025-07-21 15:15:40.663 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:15:40.665 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 21.2027ms
2025-07-21 15:15:40.666 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:15:40.668 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 28.0666 ms
2025-07-21 15:15:40.670 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 33.1861ms
2025-07-21 15:15:48.844 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:15:48.847 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:15:48.848 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:15:48.864 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:15:48.865 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0504ms.
2025-07-21 15:15:48.867 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:15:48.870 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 19.9034ms
2025-07-21 15:15:48.871 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:15:48.873 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 26.2316 ms
2025-07-21 15:15:48.875 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 30.9806ms
2025-07-21 15:34:00.848 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 15:34:01.947 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 15:34:02.106 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 15:34:02.169 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 15:34:02.663 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 15:34:03.349 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 15:34:03.603 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 15:34:03.686 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:34:03.687 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:34:03.689 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:34:03.690 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:34:03.692 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:34:03.693 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:34:04.571 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 15:34:04.591 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 15:34:04.634 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 15:34:04.712 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 15:34:04.755 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 15:34:04.772 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 15:34:04.791 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 15:34:04.813 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 15:34:04.846 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 15:34:04.852 +01:00 [INF] Database migrations applied successfully
2025-07-21 15:34:04.856 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 15:34:04.890 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 15:34:05.243 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 15:34:05.244 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 15:34:05.304 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 15:34:05.306 +01:00 [INF] Hosting environment: Development
2025-07-21 15:34:05.308 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 15:34:05.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 15:34:05.645 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:34:05.821 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:34:05.838 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:34:05.847 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 296.9225ms
2025-07-21 15:34:05.879 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 15:34:05.909 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:34:05.912 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 33.5073ms
2025-07-21 15:34:06.310 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 15:34:06.353 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.1865ms
2025-07-21 15:34:06.906 +01:00 [INF] Executed DbCommand (539ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 15:34:06.962 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1045.233ms.
2025-07-21 15:34:06.974 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:34:07.019 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 15:34:07.023 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1178.9925ms
2025-07-21 15:34:07.025 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:34:07.031 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1310.5241 ms
2025-07-21 15:34:07.040 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1395.8865ms
2025-07-21 15:34:07.071 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.8406ms
2025-07-21 15:34:11.379 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:34:11.384 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:34:11.395 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:34:11.437 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:34:12.176 +01:00 [INF] Executed DbCommand (633ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='cambridge%' (Size = 10), @__Replace_1_startswith='cambridge%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 15:34:12.199 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-21 15:34:14.179 +01:00 [INF] Executed DbCommand (1,959ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 15:34:14.711 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 15:34:14.737 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 4000), @__queryLower_0_startswith_1='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 15:34:14.743 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3304.338ms.
2025-07-21 15:34:14.746 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:34:14.750 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3353.2221ms
2025-07-21 15:34:14.752 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:34:14.753 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3369.7974 ms
2025-07-21 15:34:14.756 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 3377.474ms
2025-07-21 15:34:14.765 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:34:14.771 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:34:14.772 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:34:14.788 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:34:14.789 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3867ms.
2025-07-21 15:34:14.791 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:34:14.793 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 19.1463ms
2025-07-21 15:34:14.795 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:34:14.796 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 27.3199 ms
2025-07-21 15:34:14.798 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 33.4211ms
2025-07-21 15:34:14.919 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:34:14.922 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:34:14.928 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:34:14.950 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:34:14.953 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:34:14.962 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:34:14.980 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:34:14.987 +01:00 [INF] Executing real provider search at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:34:15.052 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 15:34:15.667 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__Cos_1='0.612974918709375', @__longitude_2='0.1312729', @__Sin_3='0.7901023661736719', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 15:34:16.211 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__providerGuid_0='36d5c085-dc40-4aee-b9ef-368652a85fe6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 15:34:16.758 +01:00 [INF] Executed DbCommand (528ms) [Parameters=[@__Select_0='["a0a65fd3-2a6b-4180-8d1a-16cca201cabc","844e1162-3777-4fee-b2e9-88d4dd7b2687","02fe8768-944b-4466-a8ff-93fa32f421f0"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-21 15:34:16.789 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__provider_Id_0='36D5C085-DC40-4AEE-B9EF-368652A85FE6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[CompletedAt]
FROM [Bookings] AS [b]
WHERE [b].[ServiceProviderId] = @__provider_Id_0 AND [b].[Status] = N'Completed' AND [b].[CompletedAt] IS NOT NULL
ORDER BY [b].[CompletedAt] DESC
2025-07-21 15:34:16.796 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-21 15:34:16.798 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-21 15:34:16.800 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1848.0398ms.
2025-07-21 15:34:16.802 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:34:16.821 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 1890.3271ms
2025-07-21 15:34:16.822 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:34:16.824 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 1901.5850 ms
2025-07-21 15:34:16.826 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 1906.924ms
2025-07-21 15:34:16.832 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:34:16.835 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:34:16.836 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:34:16.852 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:34:16.853 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:34:16.855 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:34:16.868 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:34:16.869 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 15:34:16.871 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.2592ms.
2025-07-21 15:34:16.872 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:34:16.874 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 36.2607ms
2025-07-21 15:34:16.875 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:34:16.877 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41.8560 ms
2025-07-21 15:34:16.879 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 46.8597ms
2025-07-21 15:42:29.468 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-21 15:42:30.503 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-21 15:42:30.681 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-21 15:42:30.742 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-21 15:42:31.374 +01:00 [INF] Checking database connection and applying migrations...
2025-07-21 15:42:32.026 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-21 15:42:32.223 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-21 15:42:32.312 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:42:32.314 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:42:32.316 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:42:32.318 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:42:32.320 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:42:32.322 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-21 15:42:33.229 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 15:42:33.257 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-21 15:42:33.305 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-21 15:42:33.389 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-21 15:42:33.442 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-21 15:42:33.465 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-21 15:42:33.488 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-21 15:42:33.511 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-21 15:42:33.547 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-21 15:42:33.554 +01:00 [INF] Database migrations applied successfully
2025-07-21 15:42:33.561 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-21 15:42:33.603 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-21 15:42:33.977 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-21 15:42:33.979 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-21 15:42:34.047 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-21 15:42:34.048 +01:00 [INF] Hosting environment: Development
2025-07-21 15:42:34.050 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-21 15:42:34.463 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:42:34.488 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-21 15:42:34.682 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:42:34.723 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:42:34.835 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:42:34.881 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 393.0578ms
2025-07-21 15:42:34.897 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-21 15:42:34.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 12.8997ms
2025-07-21 15:42:35.400 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-21 15:42:35.454 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.9541ms
2025-07-21 15:42:35.945 +01:00 [INF] Executed DbCommand (545ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-21 15:42:35.998 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1157.6241ms.
2025-07-21 15:42:36.009 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:42:36.056 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1325.9852ms
2025-07-21 15:42:36.060 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:42:36.068 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1534.6572 ms
2025-07-21 15:42:36.079 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1639.0729ms
2025-07-21 15:42:36.729 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-21 15:42:36.780 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.399ms
2025-07-21 15:42:41.796 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:42:41.803 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:42:41.820 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:42:41.879 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:42:42.650 +01:00 [INF] Executed DbCommand (656ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='cambridge%' (Size = 10), @__Replace_1_startswith='cambridge%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-21 15:42:42.673 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-21 15:42:44.663 +01:00 [INF] Executed DbCommand (1,964ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-21 15:42:45.194 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-21 15:42:45.220 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 4000), @__queryLower_0_startswith_1='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-21 15:42:45.227 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3346.209ms.
2025-07-21 15:42:45.229 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:42:45.234 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3410.8826ms
2025-07-21 15:42:45.236 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:42:45.237 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3434.3611 ms
2025-07-21 15:42:45.239 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 3443.2644ms
2025-07-21 15:42:45.392 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:42:45.397 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:42:45.403 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:42:45.420 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:42:45.423 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:42:45.432 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:42:45.447 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:42:45.455 +01:00 [INF] Executing real provider search at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:42:45.522 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 15:42:46.134 +01:00 [INF] Executed DbCommand (530ms) [Parameters=[@__Cos_1='0.612974918709375', @__longitude_2='0.1312729', @__Sin_3='0.7901023661736719', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-21 15:42:46.679 +01:00 [INF] Executed DbCommand (514ms) [Parameters=[@__providerGuid_0='36d5c085-dc40-4aee-b9ef-368652a85fe6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-21 15:42:47.227 +01:00 [INF] Executed DbCommand (528ms) [Parameters=[@__Select_0='["a0a65fd3-2a6b-4180-8d1a-16cca201cabc","844e1162-3777-4fee-b2e9-88d4dd7b2687","02fe8768-944b-4466-a8ff-93fa32f421f0"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-21 15:42:47.263 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__provider_Id_0='36D5C085-DC40-4AEE-B9EF-368652A85FE6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[CompletedAt]
FROM [Bookings] AS [b]
WHERE [b].[ServiceProviderId] = @__provider_Id_0 AND [b].[Status] = N'Completed' AND [b].[CompletedAt] IS NOT NULL
ORDER BY [b].[CompletedAt] DESC
2025-07-21 15:42:47.272 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-21 15:42:47.275 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-21 15:42:47.276 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1855.1052ms.
2025-07-21 15:42:47.278 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:42:47.306 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 1901.6858ms
2025-07-21 15:42:47.308 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:42:47.310 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 1914.4506 ms
2025-07-21 15:42:47.312 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 1920.1009ms
2025-07-21 15:42:58.444 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-21 15:42:58.448 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:42:58.449 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:42:58.465 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:42:58.467 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2314ms.
2025-07-21 15:42:58.468 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:42:58.470 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 19.2969ms
2025-07-21 15:42:58.471 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-21 15:42:58.472 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 24.6440 ms
2025-07-21 15:42:58.474 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 30.6833ms
2025-07-21 15:42:58.534 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-21 15:42:58.537 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:42:58.538 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:42:58.553 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:42:58.555 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-21 15:42:58.556 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-21 15:42:58.568 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-21 15:42:58.569 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-21 15:42:58.570 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.5995ms.
2025-07-21 15:42:58.572 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:42:58.573 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.4084ms
2025-07-21 15:42:58.574 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-21 15:42:58.575 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.8170 ms
2025-07-21 15:42:58.577 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 43.0091ms
2025-07-21 15:43:04.982 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability?startDate=2025-07-21T14:43:04.9570000+00:00&endDate=2025-08-04T14:43:04.9570000+00:00 - null null
2025-07-21 15:43:04.985 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-21 15:43:04.990 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-21 15:43:05.000 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-21 15:43:05.015 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 22.9146ms
2025-07-21 15:43:05.016 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-21 15:43:05.017 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability responded 400 in 32.5244 ms
2025-07-21 15:43:05.019 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability?startDate=2025-07-21T14:43:04.9570000+00:00&endDate=2025-08-04T14:43:04.9570000+00:00 - 400 null application/problem+json; charset=utf-8 37.8014ms
2025-07-21 15:46:27.964 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:46:27.968 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:46:27.969 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:46:27.996 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:46:27.998 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3866ms.
2025-07-21 15:46:28.000 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:46:28.002 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 30.064ms
2025-07-21 15:46:28.004 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:46:28.005 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 37.9488 ms
2025-07-21 15:46:28.008 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 44.054ms
2025-07-21 15:46:57.826 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:46:57.830 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:46:57.831 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:46:57.847 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:46:57.848 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0483ms.
2025-07-21 15:46:57.851 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:46:57.853 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.3018ms
2025-07-21 15:46:57.855 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:46:57.857 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 27.8527 ms
2025-07-21 15:46:57.859 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 37.072ms
2025-07-21 15:49:28.180 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:49:28.184 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:49:28.186 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:49:28.207 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:49:28.211 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1763ms.
2025-07-21 15:49:28.213 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:49:28.215 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 26.6158ms
2025-07-21 15:49:28.217 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:49:28.219 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 34.2549 ms
2025-07-21 15:49:28.222 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 41.1805ms
2025-07-21 15:49:34.583 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:49:34.586 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:49:34.589 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:49:34.609 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:49:34.611 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0397ms.
2025-07-21 15:49:34.612 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:49:34.615 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.507ms
2025-07-21 15:49:34.616 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:49:34.618 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 31.8663 ms
2025-07-21 15:49:34.620 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 37.9232ms
2025-07-21 15:49:48.658 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-21 15:49:48.666 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:49:48.667 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-21 15:49:48.689 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-21 15:49:48.691 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0613ms.
2025-07-21 15:49:48.693 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ServiceCatalog.ServiceCategoryDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-21 15:49:48.695 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 25.0543ms
2025-07-21 15:49:48.697 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-21 15:49:48.698 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 32.7411 ms
2025-07-21 15:49:48.701 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 43.1338ms
