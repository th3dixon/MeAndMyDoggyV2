2025-07-22 09:16:20.072 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 09:16:20.275 +01:00 [WRN] KeyVault:VaultUri not found in configuration. Falling back to local configuration.
2025-07-22 09:16:20.330 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 09:16:20.341 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 09:16:21.043 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 09:16:22.069 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 09:16:22.512 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:16:22.513 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:16:22.513 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:16:22.513 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:16:22.513 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:16:22.513 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:16:22.513 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:16:22.864 +01:00 [FTL] An error occurred while migrating or seeding the database
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 387
2025-07-22 09:16:22.888 +01:00 [FTL] Application failed to start
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 387
2025-07-22 09:35:27.827 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 09:35:29.544 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 09:35:29.950 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 09:35:30.042 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 09:35:30.966 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 09:35:32.455 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 09:35:32.968 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 09:35:33.186 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:35:33.191 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:35:33.198 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:35:33.202 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:35:33.206 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:35:33.210 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:35:33.213 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:35:35.069 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 09:35:35.093 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 09:35:35.139 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 09:35:35.242 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 09:35:35.297 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 09:35:35.314 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 09:35:35.335 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 09:35:35.361 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 09:35:35.395 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 09:35:35.403 +01:00 [INF] Database migrations applied successfully
2025-07-22 09:35:35.408 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 09:35:35.447 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 09:35:35.771 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 09:35:35.772 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 09:35:35.887 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 09:35:35.888 +01:00 [INF] Hosting environment: Development
2025-07-22 09:35:35.890 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 09:35:35.895 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 09:35:36.170 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:35:36.190 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 09:35:36.386 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 09:35:36.436 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 09:35:36.749 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 312.6788ms
2025-07-22 09:35:36.778 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 09:35:36.820 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 41.889ms
2025-07-22 09:35:37.533 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 09:35:37.639 +01:00 [INF] Executed DbCommand (538ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 09:35:37.643 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 110.4927ms
2025-07-22 09:35:37.722 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1318.7669ms.
2025-07-22 09:35:37.740 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 09:35:37.847 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1639.2039ms
2025-07-22 09:35:37.850 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:35:37.865 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1821.0122 ms
2025-07-22 09:35:37.887 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 2001.06ms
2025-07-22 09:35:39.006 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 09:35:39.365 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 358.5735ms
2025-07-22 09:36:37.290 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 09:36:37.335 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:36:37.337 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 09:36:37.369 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 09:36:37.372 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.8479ms.
2025-07-22 09:36:37.374 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 09:36:37.376 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 36.5824ms
2025-07-22 09:36:37.378 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:36:37.379 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 80.4906 ms
2025-07-22 09:36:37.381 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 91.0482ms
2025-07-22 09:37:12.192 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 09:37:12.213 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:37:12.227 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 09:37:12.262 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 09:37:12.276 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1196ms.
2025-07-22 09:37:12.280 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 09:37:12.290 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 56.8908ms
2025-07-22 09:37:12.295 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:37:12.304 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 97.0205 ms
2025-07-22 09:37:12.308 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 116.0463ms
2025-07-22 09:38:06.138 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 09:38:06.152 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:38:06.155 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 09:38:06.191 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 09:38:06.193 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2993ms.
2025-07-22 09:38:06.197 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 09:38:06.200 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 37.8143ms
2025-07-22 09:38:06.206 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:38:06.208 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 55.9735 ms
2025-07-22 09:38:06.222 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 83.7582ms
2025-07-22 09:38:11.867 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 09:38:11.871 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:38:11.885 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 09:38:11.911 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 09:38:11.914 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0805ms.
2025-07-22 09:38:11.916 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 09:38:11.918 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 30.5648ms
2025-07-22 09:38:11.922 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:38:11.926 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 55.5262 ms
2025-07-22 09:38:11.932 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 64.9024ms
2025-07-22 09:39:17.054 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 09:39:17.061 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:39:17.063 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 09:39:17.091 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 09:39:17.092 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.109ms.
2025-07-22 09:39:17.095 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 09:39:17.098 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 27.3167ms
2025-07-22 09:39:17.100 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:39:17.103 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 42.4702 ms
2025-07-22 09:39:17.107 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 85.2859ms
2025-07-22 09:42:58.771 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 09:42:59.888 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 09:43:00.214 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 09:43:00.502 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 09:43:01.758 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 09:43:03.088 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 09:43:03.495 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 09:43:03.730 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:43:03.920 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:43:03.935 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:43:03.942 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:43:03.944 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:43:03.954 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:43:03.956 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 09:43:05.431 +01:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 09:43:05.458 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 09:43:05.503 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 09:43:05.605 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 09:43:05.657 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 09:43:05.675 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 09:43:05.698 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 09:43:05.720 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 09:43:05.777 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 09:43:05.786 +01:00 [INF] Database migrations applied successfully
2025-07-22 09:43:05.791 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 09:43:05.833 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 09:43:06.214 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 09:43:06.215 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 09:43:06.309 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 09:43:06.394 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 09:43:06.396 +01:00 [INF] Hosting environment: Development
2025-07-22 09:43:06.399 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 09:43:06.438 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 09:43:06.783 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:43:06.819 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 09:43:07.017 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 09:43:07.078 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 640.8471ms
2025-07-22 09:43:08.061 +01:00 [INF] Executed DbCommand (532ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 09:43:08.117 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1095.6384ms.
2025-07-22 09:43:08.129 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 09:43:08.178 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1352.218ms
2025-07-22 09:43:08.181 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:43:08.188 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1715.9865 ms
2025-07-22 09:43:08.197 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1897.3454ms
2025-07-22 09:43:08.231 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 09:43:08.231 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 09:43:08.241 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.8702ms
2025-07-22 09:43:08.279 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.5579ms
2025-07-22 09:43:08.619 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 09:43:08.900 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 281.4375ms
2025-07-22 09:43:22.918 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 09:43:22.928 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:43:22.931 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 09:43:22.965 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 09:43:22.968 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4781ms.
2025-07-22 09:43:22.982 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 09:43:22.988 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 52.7489ms
2025-07-22 09:43:22.995 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:43:22.997 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 69.8148 ms
2025-07-22 09:43:23.003 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 85.2153ms
2025-07-22 09:43:46.045 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 09:43:46.052 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:43:46.054 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 09:43:46.079 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 09:43:46.080 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0784ms.
2025-07-22 09:43:46.083 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 09:43:46.086 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 29.5197ms
2025-07-22 09:43:46.088 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 09:43:46.089 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 41.3059 ms
2025-07-22 09:43:46.093 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 48.1895ms
2025-07-22 10:00:42.770 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:00:42.777 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:00:42.779 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:00:42.803 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:00:42.805 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4524ms.
2025-07-22 10:00:42.808 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:00:42.810 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 28.02ms
2025-07-22 10:00:42.812 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:00:42.813 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 36.1757 ms
2025-07-22 10:00:42.816 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 46.0678ms
2025-07-22 10:02:29.629 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:02:29.635 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:02:29.639 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:02:29.670 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:02:29.671 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1167ms.
2025-07-22 10:02:29.673 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:02:29.677 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 34.6018ms
2025-07-22 10:02:29.681 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:02:29.684 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 49.6772 ms
2025-07-22 10:02:29.690 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 60.4553ms
2025-07-22 10:02:59.958 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:02:59.962 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:02:59.963 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:02:59.990 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:02:59.993 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0922ms.
2025-07-22 10:02:59.994 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:02:59.997 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 32.1403ms
2025-07-22 10:02:59.999 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:03:00.002 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 40.1835 ms
2025-07-22 10:03:00.050 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 92.7035ms
2025-07-22 10:03:10.958 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:03:10.962 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:03:10.964 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:03:10.985 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:03:10.988 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1288ms.
2025-07-22 10:03:10.994 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:03:10.997 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 31.3006ms
2025-07-22 10:03:10.998 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:03:11.000 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 38.0697 ms
2025-07-22 10:03:11.005 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 46.4144ms
2025-07-22 10:15:34.085 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 10:15:35.244 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 10:15:35.463 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 10:15:35.535 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 10:15:36.785 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 10:15:37.971 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 10:15:38.379 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 10:15:38.553 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:15:38.555 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:15:38.557 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:15:38.559 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:15:38.561 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:15:38.564 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:15:38.566 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:15:40.247 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 10:15:40.276 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 10:15:40.329 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 10:15:40.464 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 10:15:40.526 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 10:15:40.555 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 10:15:40.581 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 10:15:40.612 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 10:15:40.665 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 10:15:40.673 +01:00 [INF] Database migrations applied successfully
2025-07-22 10:15:40.681 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 10:15:40.736 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 10:15:41.270 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 10:15:41.272 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 10:15:41.401 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 10:15:41.403 +01:00 [INF] Hosting environment: Development
2025-07-22 10:15:41.405 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 10:15:41.684 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:15:42.100 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:15:42.127 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:15:42.316 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:15:43.542 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 10:15:43.626 +01:00 [INF] Executed DbCommand (552ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 10:15:43.708 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1386.5003ms.
2025-07-22 10:15:43.749 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:15:43.814 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1679.3561ms
2025-07-22 10:15:43.824 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:15:43.832 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1969.7736 ms
2025-07-22 10:15:43.844 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 302.8822ms
2025-07-22 10:15:43.846 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 2173.3704ms
2025-07-22 10:15:47.331 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 10:15:47.360 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 30.399ms
2025-07-22 10:15:48.002 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 10:15:48.024 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/.well-known/appspecific/com.chrome.devtools.json - null null
2025-07-22 10:15:48.107 +01:00 [INF] HTTP GET /.well-known/appspecific/com.chrome.devtools.json responded 404 in 1.5692 ms
2025-07-22 10:15:48.113 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 88.544ms
2025-07-22 10:15:48.129 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 127.238ms
2025-07-22 10:15:48.142 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:63343/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-07-22 10:15:49.825 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 10:15:50.109 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 284.478ms
2025-07-22 10:22:28.729 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:22:28.741 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:22:28.743 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:22:28.781 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:22:28.784 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.0064ms.
2025-07-22 10:22:28.787 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:22:28.790 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 44.9641ms
2025-07-22 10:22:28.793 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:22:28.794 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 56.3704 ms
2025-07-22 10:22:28.797 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 67.4935ms
2025-07-22 10:22:32.422 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:22:32.426 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:22:32.427 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:22:32.451 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:22:32.453 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1158ms.
2025-07-22 10:22:32.455 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:22:32.459 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 29.6869ms
2025-07-22 10:22:32.461 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:22:32.462 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 37.0489 ms
2025-07-22 10:22:32.464 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 42.4625ms
2025-07-22 10:23:26.607 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:23:26.610 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:23:26.611 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:23:26.632 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:23:26.634 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.092ms.
2025-07-22 10:23:26.641 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:23:26.644 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 28.7277ms
2025-07-22 10:23:26.647 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:23:26.654 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 43.9295 ms
2025-07-22 10:23:26.658 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 54.7186ms
2025-07-22 10:23:32.313 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:23:32.316 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:23:32.318 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:23:32.338 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:23:32.340 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0876ms.
2025-07-22 10:23:32.342 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:23:32.344 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.9915ms
2025-07-22 10:23:32.346 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:23:32.349 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 32.2695 ms
2025-07-22 10:23:32.354 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 40.6337ms
2025-07-22 10:27:19.700 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 10:27:21.270 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 10:27:21.601 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 10:27:21.692 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 10:27:22.870 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 10:27:24.688 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 10:27:25.119 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 10:27:25.345 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:27:25.349 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:27:25.353 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:27:25.356 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:27:25.358 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:27:25.359 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:27:25.362 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:27:27.103 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 10:27:27.131 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 10:27:27.189 +01:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 10:27:27.327 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 10:27:27.388 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 10:27:27.417 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 10:27:27.442 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 10:27:27.474 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 10:27:27.513 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 10:27:27.521 +01:00 [INF] Database migrations applied successfully
2025-07-22 10:27:27.528 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 10:27:27.614 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 10:27:28.070 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 10:27:28.071 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 10:27:28.215 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 10:27:28.216 +01:00 [INF] Hosting environment: Development
2025-07-22 10:27:28.220 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 10:27:28.801 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 10:27:28.801 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:27:29.460 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:27:29.485 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:27:29.614 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:27:29.696 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 10:27:29.707 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 906.6494ms
2025-07-22 10:27:29.712 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 16.0204ms
2025-07-22 10:27:30.333 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 10:27:30.406 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.0951ms
2025-07-22 10:27:31.080 +01:00 [INF] Executed DbCommand (539ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 10:27:31.148 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1527.2596ms.
2025-07-22 10:27:31.165 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:27:31.236 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1743.4135ms
2025-07-22 10:27:31.239 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:27:31.247 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 2199.3107 ms
2025-07-22 10:27:31.263 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 2472.9615ms
2025-07-22 10:27:33.467 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 10:27:33.801 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 334.2608ms
2025-07-22 10:27:37.268 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:27:37.278 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:27:37.280 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:27:37.318 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:27:37.320 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3472ms.
2025-07-22 10:27:37.324 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:27:37.329 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 45.5373ms
2025-07-22 10:27:37.338 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:27:37.341 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 64.7839 ms
2025-07-22 10:27:37.345 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 77.712ms
2025-07-22 10:27:43.449 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:27:43.456 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:27:43.458 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:27:43.480 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:27:43.481 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0986ms.
2025-07-22 10:27:43.484 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:27:43.487 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 26.4028ms
2025-07-22 10:27:43.489 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:27:43.492 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 39.0599 ms
2025-07-22 10:27:43.494 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 44.9589ms
2025-07-22 10:28:12.050 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=77%20&max=10 - null null
2025-07-22 10:28:12.055 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:12.071 +01:00 [INF] Route matched with {action = "SearchAddresses", controller = "AddressLookup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAddresses(System.String, Int32) on controller MeAndMyDog.API.Controllers.AddressLookupController (MeAndMyDog.API).
2025-07-22 10:28:12.116 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:28:12.408 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 290.8109ms.
2025-07-22 10:28:12.410 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.DTOs.Address.AddressSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 10:28:12.414 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) in 340.0877ms
2025-07-22 10:28:12.416 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:12.417 +01:00 [INF] HTTP GET /api/v1/AddressLookup/search responded 200 in 362.7639 ms
2025-07-22 10:28:12.420 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=77%20&max=10 - 200 null application/json; charset=utf-8 404.4364ms
2025-07-22 10:28:14.083 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=77%20&max=10 - null null
2025-07-22 10:28:14.089 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:14.091 +01:00 [INF] Route matched with {action = "SearchAddresses", controller = "AddressLookup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAddresses(System.String, Int32) on controller MeAndMyDog.API.Controllers.AddressLookupController (MeAndMyDog.API).
2025-07-22 10:28:14.110 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:28:14.124 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.6199ms.
2025-07-22 10:28:14.126 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.DTOs.Address.AddressSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 10:28:14.128 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) in 34.2077ms
2025-07-22 10:28:14.130 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:14.131 +01:00 [INF] HTTP GET /api/v1/AddressLookup/search responded 200 in 42.3248 ms
2025-07-22 10:28:14.133 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=77%20&max=10 - 200 null application/json; charset=utf-8 50.8392ms
2025-07-22 10:28:22.495 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=77%20Brewers&max=10 - null null
2025-07-22 10:28:22.498 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:22.500 +01:00 [INF] Route matched with {action = "SearchAddresses", controller = "AddressLookup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAddresses(System.String, Int32) on controller MeAndMyDog.API.Controllers.AddressLookupController (MeAndMyDog.API).
2025-07-22 10:28:22.519 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:28:22.532 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.2148ms.
2025-07-22 10:28:22.534 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.DTOs.Address.AddressSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 10:28:22.535 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) in 32.509ms
2025-07-22 10:28:22.537 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:22.538 +01:00 [INF] HTTP GET /api/v1/AddressLookup/search responded 200 in 39.7868 ms
2025-07-22 10:28:22.540 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=77%20Brewers&max=10 - 200 null application/json; charset=utf-8 45.6999ms
2025-07-22 10:28:25.148 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=77%20Brewer&max=10 - null null
2025-07-22 10:28:25.155 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:25.159 +01:00 [INF] Route matched with {action = "SearchAddresses", controller = "AddressLookup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAddresses(System.String, Int32) on controller MeAndMyDog.API.Controllers.AddressLookupController (MeAndMyDog.API).
2025-07-22 10:28:25.176 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:28:25.189 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.1421ms.
2025-07-22 10:28:25.191 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.DTOs.Address.AddressSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 10:28:25.192 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) in 30.4396ms
2025-07-22 10:28:25.194 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:25.196 +01:00 [INF] HTTP GET /api/v1/AddressLookup/search responded 200 in 41.4095 ms
2025-07-22 10:28:25.198 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=77%20Brewer&max=10 - 200 null application/json; charset=utf-8 50.4302ms
2025-07-22 10:28:26.785 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=PO3&max=10 - null null
2025-07-22 10:28:26.789 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:26.790 +01:00 [INF] Route matched with {action = "SearchAddresses", controller = "AddressLookup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAddresses(System.String, Int32) on controller MeAndMyDog.API.Controllers.AddressLookupController (MeAndMyDog.API).
2025-07-22 10:28:26.808 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:28:26.821 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.7947ms.
2025-07-22 10:28:26.831 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.DTOs.Address.AddressSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 10:28:26.832 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) in 39.8151ms
2025-07-22 10:28:26.835 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:26.836 +01:00 [INF] HTTP GET /api/v1/AddressLookup/search responded 200 in 47.2604 ms
2025-07-22 10:28:26.838 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=PO3&max=10 - 200 null application/json; charset=utf-8 53.6265ms
2025-07-22 10:28:27.824 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=PO13%200JX&max=10 - null null
2025-07-22 10:28:27.828 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:27.830 +01:00 [INF] Route matched with {action = "SearchAddresses", controller = "AddressLookup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAddresses(System.String, Int32) on controller MeAndMyDog.API.Controllers.AddressLookupController (MeAndMyDog.API).
2025-07-22 10:28:27.850 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:28:27.868 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.9132ms.
2025-07-22 10:28:27.870 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.DTOs.Address.AddressSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 10:28:27.872 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) in 38.9092ms
2025-07-22 10:28:27.873 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:27.875 +01:00 [INF] HTTP GET /api/v1/AddressLookup/search responded 200 in 46.2196 ms
2025-07-22 10:28:27.877 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=PO13%200JX&max=10 - 200 null application/json; charset=utf-8 52.6724ms
2025-07-22 10:28:32.792 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=77%20&max=10 - null null
2025-07-22 10:28:32.799 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:32.800 +01:00 [INF] Route matched with {action = "SearchAddresses", controller = "AddressLookup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAddresses(System.String, Int32) on controller MeAndMyDog.API.Controllers.AddressLookupController (MeAndMyDog.API).
2025-07-22 10:28:32.819 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:28:32.834 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.4831ms.
2025-07-22 10:28:32.836 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.DTOs.Address.AddressSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 10:28:32.838 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) in 34.7666ms
2025-07-22 10:28:32.839 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:28:32.841 +01:00 [INF] HTTP GET /api/v1/AddressLookup/search responded 200 in 41.7833 ms
2025-07-22 10:28:32.843 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=77%20&max=10 - 200 null application/json; charset=utf-8 51.1044ms
2025-07-22 10:29:16.776 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=PO13%200J&max=10 - null null
2025-07-22 10:29:16.778 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:29:16.780 +01:00 [INF] Route matched with {action = "SearchAddresses", controller = "AddressLookup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAddresses(System.String, Int32) on controller MeAndMyDog.API.Controllers.AddressLookupController (MeAndMyDog.API).
2025-07-22 10:29:16.795 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:30:28.928 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72130.8186ms.
2025-07-22 10:30:28.937 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.DTOs.Address.AddressSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 10:30:28.938 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) in 72155.9129ms
2025-07-22 10:30:28.940 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 10:30:28.941 +01:00 [INF] HTTP GET /api/v1/AddressLookup/search responded 200 in 72162.8040 ms
2025-07-22 10:30:28.944 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=PO13%200J&max=10 - 200 null application/json; charset=utf-8 72168.8977ms
2025-07-22 10:50:01.015 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:50:01.018 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:50:01.020 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:50:01.042 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:50:01.046 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.5129ms.
2025-07-22 10:50:01.049 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:50:01.051 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 29.7543ms
2025-07-22 10:50:01.055 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:50:01.057 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 38.9876 ms
2025-07-22 10:50:01.059 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 44.2093ms
2025-07-22 10:50:11.526 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:50:11.530 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:50:11.531 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:50:11.552 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:50:11.555 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1057ms.
2025-07-22 10:50:11.557 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:50:11.559 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 26.3248ms
2025-07-22 10:50:11.563 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:50:11.565 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 34.7626 ms
2025-07-22 10:50:11.568 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 41.2427ms
2025-07-22 10:53:03.884 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:53:03.887 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:53:03.889 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:53:03.909 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:53:03.911 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1543ms.
2025-07-22 10:53:03.913 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:53:03.914 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.9596ms
2025-07-22 10:53:03.916 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:53:03.917 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 30.1121 ms
2025-07-22 10:53:03.919 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 35.9948ms
2025-07-22 10:53:26.736 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:53:26.739 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:53:26.741 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:53:26.764 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:53:26.766 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0996ms.
2025-07-22 10:53:26.767 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:53:26.769 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 25.8508ms
2025-07-22 10:53:26.774 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:53:26.776 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 37.2224 ms
2025-07-22 10:53:26.778 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 42.4145ms
2025-07-22 10:54:26.925 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:54:26.939 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:54:26.940 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:54:26.970 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:54:26.972 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1276ms.
2025-07-22 10:54:26.974 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:54:26.977 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 34.5765ms
2025-07-22 10:54:26.979 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:54:26.981 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 41.4851 ms
2025-07-22 10:54:26.984 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 59.4212ms
2025-07-22 10:55:02.124 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:55:02.134 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:55:02.136 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:55:02.157 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:55:02.158 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0747ms.
2025-07-22 10:55:02.161 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:55:02.163 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.4571ms
2025-07-22 10:55:02.165 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:55:02.167 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 32.8255 ms
2025-07-22 10:55:02.170 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 46.3054ms
2025-07-22 10:57:21.998 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 10:57:23.173 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 10:57:23.400 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 10:57:23.481 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 10:57:24.518 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 10:57:25.852 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 10:57:26.219 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 10:57:26.369 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:57:26.415 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:57:26.419 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:57:26.428 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:57:26.431 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:57:26.447 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:57:26.473 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 10:57:28.043 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 10:57:28.074 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 10:57:28.127 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 10:57:28.244 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 10:57:28.302 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 10:57:28.321 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 10:57:28.344 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 10:57:28.375 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 10:57:28.414 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 10:57:28.425 +01:00 [INF] Database migrations applied successfully
2025-07-22 10:57:28.436 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 10:57:28.487 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 10:57:28.913 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 10:57:28.916 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 10:57:29.034 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:57:29.076 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 10:57:29.088 +01:00 [INF] Hosting environment: Development
2025-07-22 10:57:29.111 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 10:57:29.235 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 10:57:29.512 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:57:29.574 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:57:29.763 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:57:29.904 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 668.7278ms
2025-07-22 10:57:30.783 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 10:57:30.784 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 10:57:30.808 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 24.961ms
2025-07-22 10:57:30.864 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.2044ms
2025-07-22 10:57:31.038 +01:00 [INF] Executed DbCommand (537ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 10:57:31.109 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1339.7327ms.
2025-07-22 10:57:31.123 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:57:31.179 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1597.8298ms
2025-07-22 10:57:31.183 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:57:31.190 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1906.9968 ms
2025-07-22 10:57:31.205 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 2182.1167ms
2025-07-22 10:57:31.495 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 10:57:31.815 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 319.5712ms
2025-07-22 10:57:45.377 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 10:57:45.383 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:57:45.385 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 10:57:45.420 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 10:57:45.422 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.7975ms.
2025-07-22 10:57:45.426 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 10:57:45.430 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 42.508ms
2025-07-22 10:57:45.433 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 10:57:45.438 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 55.0168 ms
2025-07-22 10:57:45.440 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 63.5749ms
2025-07-22 11:01:40.264 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:01:40.270 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:01:40.271 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:01:40.293 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:01:40.294 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3116ms.
2025-07-22 11:01:40.296 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:01:40.298 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.9404ms
2025-07-22 11:01:40.299 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:01:40.300 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 33.6969 ms
2025-07-22 11:01:40.303 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 39.6457ms
2025-07-22 11:01:55.943 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:01:55.946 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:01:55.947 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:01:55.962 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:01:55.964 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0757ms.
2025-07-22 11:01:55.966 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:01:55.967 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.3621ms
2025-07-22 11:01:55.969 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:01:55.970 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 24.2702 ms
2025-07-22 11:01:55.973 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 29.7067ms
2025-07-22 11:02:09.454 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:02:09.457 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:02:09.458 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:02:09.477 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:02:09.478 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0737ms.
2025-07-22 11:02:09.480 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:02:09.482 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 21.1163ms
2025-07-22 11:02:09.483 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:02:09.486 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.0560 ms
2025-07-22 11:02:09.488 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.4222ms
2025-07-22 11:03:53.553 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 11:03:54.650 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 11:03:54.851 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 11:03:54.931 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 11:03:55.759 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 11:03:56.542 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 11:03:56.813 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 11:03:56.928 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:03:56.931 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:03:56.932 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:03:56.933 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:03:56.935 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:03:56.936 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:03:56.938 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:03:58.024 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:03:58.040 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 11:03:58.091 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 11:03:58.173 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 11:03:58.218 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:03:58.233 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 11:03:58.252 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:03:58.272 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:03:58.303 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 11:03:58.309 +01:00 [INF] Database migrations applied successfully
2025-07-22 11:03:58.315 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 11:03:58.352 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:03:58.668 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 11:03:58.670 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 11:03:58.807 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:03:58.808 +01:00 [INF] Hosting environment: Development
2025-07-22 11:03:58.810 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 11:03:59.059 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 11:03:59.164 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:03:59.635 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:03:59.651 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:03:59.654 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 603.9265ms
2025-07-22 11:03:59.743 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:03:59.792 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:03:59.796 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 53.3744ms
2025-07-22 11:04:00.211 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 11:04:00.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.5616ms
2025-07-22 11:04:00.898 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 11:04:00.941 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1144.6765ms.
2025-07-22 11:04:00.948 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:04:00.989 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1332.9923ms
2025-07-22 11:04:00.991 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:04:00.996 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1625.4538 ms
2025-07-22 11:04:01.003 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1839.7313ms
2025-07-22 11:04:01.387 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 11:04:01.695 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 307.6514ms
2025-07-22 11:06:20.305 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:06:20.321 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:06:20.324 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:06:20.354 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:06:20.356 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6119ms.
2025-07-22 11:06:20.358 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:06:20.361 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 33.2045ms
2025-07-22 11:06:20.362 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:06:20.364 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 43.6420 ms
2025-07-22 11:06:20.366 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 61.6892ms
2025-07-22 11:10:46.757 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 11:10:47.950 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 11:10:48.142 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 11:10:48.226 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 11:10:49.159 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 11:10:50.220 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 11:10:50.532 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 11:10:50.709 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:10:50.712 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:10:50.714 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:10:50.715 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:10:50.720 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:10:50.722 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:10:50.726 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:10:52.259 +01:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:10:52.291 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 11:10:52.363 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 11:10:52.507 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 11:10:52.573 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:10:52.589 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 11:10:52.609 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:10:52.650 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:10:52.688 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 11:10:52.694 +01:00 [INF] Database migrations applied successfully
2025-07-22 11:10:52.700 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 11:10:52.748 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:10:53.134 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 11:10:53.136 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 11:10:53.229 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:10:53.258 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 11:10:53.278 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:10:53.279 +01:00 [INF] Hosting environment: Development
2025-07-22 11:10:53.280 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 11:10:53.607 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:10:53.622 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:10:53.718 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:10:53.805 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 546.4582ms
2025-07-22 11:10:53.812 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:10:53.827 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 14.8103ms
2025-07-22 11:10:54.428 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 11:10:54.471 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.6851ms
2025-07-22 11:10:54.793 +01:00 [INF] Executed DbCommand (542ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 11:10:54.841 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1118.2048ms.
2025-07-22 11:10:54.855 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:10:54.911 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1282.2172ms
2025-07-22 11:10:54.915 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:10:54.923 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1554.9725 ms
2025-07-22 11:10:54.934 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1713.8705ms
2025-07-22 11:10:55.162 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 11:10:55.472 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 310.4806ms
2025-07-22 11:10:58.291 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:10:58.298 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:10:58.300 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:10:58.335 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:10:58.338 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6209ms.
2025-07-22 11:10:58.340 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:10:58.343 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 40.5028ms
2025-07-22 11:10:58.345 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:10:58.346 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 49.3412 ms
2025-07-22 11:10:58.349 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 58.2359ms
2025-07-22 11:12:26.009 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:12:26.016 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:12:26.017 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:12:26.035 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:12:26.037 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2697ms.
2025-07-22 11:12:26.039 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:12:26.041 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 22.1995ms
2025-07-22 11:12:26.043 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:12:26.044 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 30.7046 ms
2025-07-22 11:12:26.046 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 36.7638ms
2025-07-22 11:12:39.325 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:12:39.328 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:12:39.330 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:12:39.344 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:12:39.346 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.056ms.
2025-07-22 11:12:39.348 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:12:39.349 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 17.8824ms
2025-07-22 11:12:39.351 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:12:39.352 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 24.5388 ms
2025-07-22 11:12:39.355 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 29.4424ms
2025-07-22 11:12:48.281 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:12:48.285 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:12:48.286 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:12:48.300 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:12:48.302 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0641ms.
2025-07-22 11:12:48.303 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:12:48.305 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 17.639ms
2025-07-22 11:12:48.307 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:12:48.309 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 24.7427 ms
2025-07-22 11:12:48.312 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 30.2247ms
2025-07-22 11:12:56.648 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:12:56.651 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:12:56.653 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:12:56.676 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:12:56.677 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0465ms.
2025-07-22 11:12:56.680 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:12:56.682 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 26.1395ms
2025-07-22 11:12:56.684 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:12:56.685 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 33.5313 ms
2025-07-22 11:12:56.687 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 38.9856ms
2025-07-22 11:16:59.012 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 11:17:00.137 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 11:17:00.337 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 11:17:00.405 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 11:17:01.371 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 11:17:02.256 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 11:17:02.507 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 11:17:02.631 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:17:02.632 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:17:02.635 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:17:02.636 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:17:02.638 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:17:02.639 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:17:02.641 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:17:03.798 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:17:03.821 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 11:17:03.869 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 11:17:03.971 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 11:17:04.024 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:17:04.042 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 11:17:04.063 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:17:04.090 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:17:04.145 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 11:17:04.153 +01:00 [INF] Database migrations applied successfully
2025-07-22 11:17:04.160 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 11:17:04.218 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:17:04.634 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 11:17:04.635 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 11:17:04.747 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:17:04.749 +01:00 [INF] Hosting environment: Development
2025-07-22 11:17:04.750 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 11:17:05.020 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:17:05.331 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:17:05.356 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:17:05.576 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:17:06.778 +01:00 [INF] Executed DbCommand (542ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 11:17:06.843 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1259.846ms.
2025-07-22 11:17:06.860 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:17:06.946 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1582.9773ms
2025-07-22 11:17:06.950 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:17:06.957 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1813.7433 ms
2025-07-22 11:17:06.973 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1962.978ms
2025-07-22 11:17:09.488 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 11:17:09.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 286.7139ms
2025-07-22 11:17:09.792 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:17:09.819 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 27.7212ms
2025-07-22 11:17:10.432 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 11:17:10.466 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.533ms
2025-07-22 11:17:10.969 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 11:17:11.205 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 236.2282ms
2025-07-22 11:18:42.872 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:18:42.879 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:18:42.883 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:18:42.915 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:18:42.917 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.5458ms.
2025-07-22 11:18:42.919 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:18:42.921 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 32.8293ms
2025-07-22 11:18:42.923 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:18:42.924 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 46.2923 ms
2025-07-22 11:18:42.928 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 56.2037ms
2025-07-22 11:21:00.075 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:21:00.094 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:21:00.097 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:21:00.133 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:21:00.135 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1228ms.
2025-07-22 11:21:00.138 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:21:00.141 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 35.7494ms
2025-07-22 11:21:00.142 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:21:00.143 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 54.1492 ms
2025-07-22 11:21:00.146 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 70.6643ms
2025-07-22 11:21:26.763 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 11:21:28.048 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 11:21:28.240 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 11:21:28.314 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 11:21:29.180 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 11:21:30.169 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 11:21:30.454 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 11:21:30.582 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:21:30.586 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:21:30.589 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:21:30.591 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:21:30.593 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:21:30.596 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:21:30.598 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:21:31.845 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:21:31.863 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 11:21:31.904 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 11:21:31.994 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 11:21:32.044 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:21:32.061 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 11:21:32.083 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:21:32.103 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:21:32.137 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 11:21:32.144 +01:00 [INF] Database migrations applied successfully
2025-07-22 11:21:32.149 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 11:21:32.194 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:21:32.539 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 11:21:32.541 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 11:21:32.694 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:21:32.773 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:21:32.775 +01:00 [INF] Hosting environment: Development
2025-07-22 11:21:32.776 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 11:21:32.800 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 11:21:33.124 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:21:33.186 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:21:33.371 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:21:33.449 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 648.2976ms
2025-07-22 11:21:33.465 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/.well-known/appspecific/com.chrome.devtools.json - null null
2025-07-22 11:21:33.509 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:21:33.512 +01:00 [INF] HTTP GET /.well-known/appspecific/com.chrome.devtools.json responded 404 in 1.5253 ms
2025-07-22 11:21:33.516 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 51.1114ms
2025-07-22 11:21:33.518 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 8.5867ms
2025-07-22 11:21:33.522 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:63343/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-07-22 11:21:34.070 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 11:21:34.115 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.5763ms
2025-07-22 11:21:34.517 +01:00 [INF] Executed DbCommand (547ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 11:21:34.572 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1196.1885ms.
2025-07-22 11:21:34.585 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:21:34.641 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1449.5824ms
2025-07-22 11:21:34.643 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:21:34.647 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1803.9031 ms
2025-07-22 11:21:34.655 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1971.0432ms
2025-07-22 11:21:34.823 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 11:21:35.127 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 304.5572ms
2025-07-22 11:21:40.972 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:21:40.982 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:21:40.984 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:21:41.014 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:21:41.017 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.334ms.
2025-07-22 11:21:41.020 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:21:41.023 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 36.6584ms
2025-07-22 11:21:41.027 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:21:41.028 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 49.6677 ms
2025-07-22 11:21:41.031 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 59.0551ms
2025-07-22 11:28:42.837 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 11:28:44.070 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 11:28:44.279 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 11:28:44.351 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 11:28:45.194 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 11:28:46.092 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 11:28:46.359 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 11:28:46.487 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:28:46.489 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:28:46.491 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:28:46.492 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:28:46.494 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:28:46.496 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:28:46.499 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:28:47.602 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:28:47.620 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 11:28:47.656 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 11:28:47.731 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 11:28:47.776 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:28:47.790 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 11:28:47.807 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:28:47.824 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:28:47.857 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 11:28:47.862 +01:00 [INF] Database migrations applied successfully
2025-07-22 11:28:47.867 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 11:28:47.899 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:28:48.188 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 11:28:48.190 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 11:28:48.267 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:28:48.269 +01:00 [INF] Hosting environment: Development
2025-07-22 11:28:48.270 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 11:28:48.376 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:28:48.790 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:28:48.792 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 11:28:48.802 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:28:48.881 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:28:49.068 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 274.8651ms
2025-07-22 11:28:49.087 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:28:49.095 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 7.5524ms
2025-07-22 11:28:49.482 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 11:28:49.523 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.5976ms
2025-07-22 11:28:49.892 +01:00 [INF] Executed DbCommand (537ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 11:28:49.946 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 11:28:49.947 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1059.3276ms.
2025-07-22 11:28:49.960 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:28:50.065 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1258.1873ms
2025-07-22 11:28:50.068 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:28:50.073 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1609.8224 ms
2025-07-22 11:28:50.082 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1714.506ms
2025-07-22 11:28:50.263 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 317.4363ms
2025-07-22 11:28:53.889 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:28:53.897 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:28:53.899 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:28:53.936 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:28:53.939 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4404ms.
2025-07-22 11:28:53.945 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:28:53.948 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 46.2656ms
2025-07-22 11:28:53.951 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:28:53.952 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 55.6224 ms
2025-07-22 11:28:53.955 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 65.8859ms
2025-07-22 11:31:31.293 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:31:31.300 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:31:31.302 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:31:31.329 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:31:31.331 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.5167ms.
2025-07-22 11:31:31.333 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:31:31.335 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 30.0444ms
2025-07-22 11:31:31.336 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:31:31.338 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 41.5303 ms
2025-07-22 11:31:31.341 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 83.7884ms
2025-07-22 11:31:56.481 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:31:56.485 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:31:56.487 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:31:56.508 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:31:56.510 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1348ms.
2025-07-22 11:31:56.513 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:31:56.515 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.1165ms
2025-07-22 11:31:56.518 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:31:56.519 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 33.9142 ms
2025-07-22 11:31:56.521 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 40.462ms
2025-07-22 11:33:34.636 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 11:33:35.659 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 11:33:35.856 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 11:33:35.930 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 11:33:36.689 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 11:33:37.352 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 11:33:37.612 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 11:33:37.751 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:33:37.753 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:33:37.755 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:33:37.757 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:33:37.758 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:33:37.759 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:33:37.761 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:33:38.823 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:33:38.842 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 11:33:38.880 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 11:33:38.955 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 11:33:38.999 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:33:39.015 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 11:33:39.038 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:33:39.057 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:33:39.089 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 11:33:39.094 +01:00 [INF] Database migrations applied successfully
2025-07-22 11:33:39.099 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 11:33:39.135 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:33:39.485 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 11:33:39.486 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 11:33:39.619 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:33:39.619 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 11:33:39.664 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:33:39.665 +01:00 [INF] Hosting environment: Development
2025-07-22 11:33:39.668 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 11:33:40.001 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:33:40.020 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:33:40.131 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:33:40.211 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 593.7651ms
2025-07-22 11:33:40.224 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:33:40.235 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 10.553ms
2025-07-22 11:33:40.727 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 11:33:40.787 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.9774ms
2025-07-22 11:33:41.246 +01:00 [INF] Executed DbCommand (542ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 11:33:41.302 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1165.3727ms.
2025-07-22 11:33:41.314 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:33:41.374 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1348.5807ms
2025-07-22 11:33:41.377 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:33:41.384 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1654.3612 ms
2025-07-22 11:33:41.395 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1781.7956ms
2025-07-22 11:33:41.854 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:33:41.863 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:33:41.868 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:33:41.912 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:33:41.913 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2649ms.
2025-07-22 11:33:41.916 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:33:41.918 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 43.1498ms
2025-07-22 11:33:41.920 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:33:41.921 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 58.9332 ms
2025-07-22 11:33:41.924 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 70.0852ms
2025-07-22 11:33:42.168 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 11:33:42.587 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 419.1722ms
2025-07-22 11:33:45.522 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:33:45.531 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:33:45.532 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:33:45.558 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:33:45.560 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2006ms.
2025-07-22 11:33:45.563 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:33:45.566 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 30.7564ms
2025-07-22 11:33:45.568 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:33:45.570 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 44.3478 ms
2025-07-22 11:33:45.573 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 51.8169ms
2025-07-22 11:37:11.247 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:37:11.250 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:37:11.252 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:37:11.279 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:37:11.282 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6298ms.
2025-07-22 11:37:11.284 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:37:11.286 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 31.9478ms
2025-07-22 11:37:11.289 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:37:11.291 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 40.2771 ms
2025-07-22 11:37:11.293 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 45.8423ms
2025-07-22 11:37:16.319 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - null null
2025-07-22 11:37:16.323 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:37:16.343 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:37:16.387 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:37:17.097 +01:00 [INF] Executed DbCommand (608ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='so18 6ad%' (Size = 10), @__Replace_1_startswith='so186ad%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-22 11:37:17.111 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 723.2119ms.
2025-07-22 11:37:17.113 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:37:17.118 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 771.7515ms
2025-07-22 11:37:17.119 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:37:17.120 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 797.3258 ms
2025-07-22 11:37:17.122 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=SO18%206AD&maxResults=1 - 200 null application/json; charset=utf-8 803.5548ms
2025-07-22 11:37:17.262 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-22 11:37:17.267 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:37:17.273 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:37:17.292 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:37:17.295 +01:00 [INF] Getting nearby providers at 50.91747059999999,-1.3535128 within 25 miles
2025-07-22 11:37:17.306 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.91747059999999,"Longitude":-1.3535128,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:37:17.323 +01:00 [INF] Using provided coordinates: Lat=50.9174706, Lng=-1.3535128
2025-07-22 11:37:17.330 +01:00 [INF] Executing real provider search at 50.9174706,-1.3535128 within 25 miles
2025-07-22 11:37:17.400 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 11:37:18.031 +01:00 [INF] Executed DbCommand (538ms) [Parameters=[@__Cos_1='0.6304391464396858', @__longitude_2='-1.3535128', @__Sin_3='0.7762386763337681', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 11:37:18.035 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-22 11:37:18.038 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-22 11:37:18.040 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 746.7146ms.
2025-07-22 11:37:18.042 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:37:18.059 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 783.7069ms
2025-07-22 11:37:18.061 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:37:18.062 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 795.1270 ms
2025-07-22 11:37:18.065 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=50.91747059999999&longitude=-1.3535128&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 802.521ms
2025-07-22 11:37:32.848 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - null null
2025-07-22 11:37:32.853 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:37:32.854 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:37:32.872 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:37:33.495 +01:00 [INF] Executed DbCommand (618ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='manchester%' (Size = 4000), @__Replace_1_startswith='manchester%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-22 11:37:33.522 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-22 11:37:35.930 +01:00 [INF] Executed DbCommand (2,395ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='manchester%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-22 11:37:36.467 +01:00 [INF] Executed DbCommand (527ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='manchester%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-22 11:37:36.471 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3597.9519ms.
2025-07-22 11:37:36.473 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:37:36.475 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3619.3811ms
2025-07-22 11:37:36.478 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:37:36.479 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3626.1621 ms
2025-07-22 11:37:36.482 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Manchester&maxResults=1 - 200 null application/json; charset=utf-8 3634.1095ms
2025-07-22 11:37:36.553 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-22 11:37:36.555 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:37:36.557 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:37:36.576 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:37:36.577 +01:00 [INF] Getting nearby providers at 53.4807593,-2.2426305 within 25 miles
2025-07-22 11:37:36.579 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":53.4807593,"Longitude":-2.2426305,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:37:36.593 +01:00 [INF] Using provided coordinates: Lat=53.4807593, Lng=-2.2426305
2025-07-22 11:37:36.595 +01:00 [INF] Executing real provider search at 53.4807593,-2.2426305 within 25 miles
2025-07-22 11:37:36.609 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 11:37:37.132 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__Cos_1='0.5950926992453878', @__longitude_2='-2.2426305', @__Sin_3='0.803657065734408', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 11:37:37.135 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-22 11:37:37.137 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-22 11:37:37.138 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 560.717ms.
2025-07-22 11:37:37.139 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:37:37.141 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 582.1696ms
2025-07-22 11:37:37.143 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:37:37.144 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 589.2482 ms
2025-07-22 11:37:37.147 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=53.4807593&longitude=-2.2426305&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 594.7411ms
2025-07-22 11:37:41.744 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Man&maxResults=1 - null null
2025-07-22 11:37:41.749 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:37:41.751 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:37:41.774 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:37:42.384 +01:00 [INF] Executed DbCommand (607ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='man%' (Size = 10), @__Replace_1_startswith='man%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-22 11:37:44.702 +01:00 [INF] Executed DbCommand (2,316ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='man%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-22 11:37:45.234 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='man%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-22 11:37:45.238 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3461.6336ms.
2025-07-22 11:37:45.239 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:37:45.241 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3487.3532ms
2025-07-22 11:37:45.242 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:37:45.243 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3494.8009 ms
2025-07-22 11:37:45.245 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Man&maxResults=1 - 200 null application/json; charset=utf-8 3501.9698ms
2025-07-22 11:37:45.378 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.378051&longitude=-3.435973&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-22 11:37:45.381 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:37:45.384 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:37:45.401 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:37:45.402 +01:00 [INF] Getting nearby providers at 55.378051,-3.435973 within 25 miles
2025-07-22 11:37:45.404 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":55.378051,"Longitude":-3.435973,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:37:45.419 +01:00 [INF] Using provided coordinates: Lat=55.378051, Lng=-3.435973
2025-07-22 11:37:45.421 +01:00 [INF] Executing real provider search at 55.378051,-3.435973 within 25 miles
2025-07-22 11:37:45.435 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 11:37:45.966 +01:00 [INF] Executed DbCommand (527ms) [Parameters=[@__Cos_1='0.5681590323669624', @__longitude_2='-3.435973', @__Sin_3='0.8229187772434391', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 11:37:45.969 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-22 11:37:45.971 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-22 11:37:45.972 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 569.6481ms.
2025-07-22 11:37:45.973 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:37:45.975 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 588.6545ms
2025-07-22 11:37:45.976 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:37:45.977 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 596.3150 ms
2025-07-22 11:37:45.980 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=55.378051&longitude=-3.435973&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 601.7669ms
2025-07-22 11:37:54.806 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-22 11:37:54.813 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:37:54.815 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:37:54.832 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:37:55.460 +01:00 [INF] Executed DbCommand (625ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='cambridge%' (Size = 10), @__Replace_1_startswith='cambridge%' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-22 11:37:57.444 +01:00 [INF] Executed DbCommand (1,980ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-22 11:37:57.965 +01:00 [INF] Executed DbCommand (518ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-22 11:37:57.990 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='cambridge%' (Size = 4000), @__queryLower_0_startswith_1='cambridge%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-22 11:37:57.994 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3158.9959ms.
2025-07-22 11:37:57.995 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:37:57.997 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3178.7868ms
2025-07-22 11:37:57.999 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:37:58.000 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3186.7138 ms
2025-07-22 11:37:58.002 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 3196.4987ms
2025-07-22 11:37:58.101 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-22 11:37:58.105 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:37:58.106 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:37:58.123 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:37:58.125 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-22 11:37:58.126 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:37:58.141 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-22 11:37:58.142 +01:00 [INF] Executing real provider search at 52.1950788,0.1312729 within 25 miles
2025-07-22 11:37:58.156 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__serviceGuids_0='["315c4e9d-724f-4fb4-bedd-63a5fb758007"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 11:37:58.684 +01:00 [INF] Executed DbCommand (525ms) [Parameters=[@__Cos_1='0.612974918709375', @__longitude_2='0.1312729', @__Sin_3='0.7901023661736719', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 11:37:59.231 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__providerGuid_0='36d5c085-dc40-4aee-b9ef-368652a85fe6'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 11:37:59.764 +01:00 [INF] Executed DbCommand (515ms) [Parameters=[@__Select_0='["a0a65fd3-2a6b-4180-8d1a-16cca201cabc","844e1162-3777-4fee-b2e9-88d4dd7b2687","02fe8768-944b-4466-a8ff-93fa32f421f0"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-22 11:37:59.793 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__provider_Id_0='36D5C085-DC40-4AEE-B9EF-368652A85FE6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[CompletedAt]
FROM [Bookings] AS [b]
WHERE [b].[ServiceProviderId] = @__provider_Id_0 AND [b].[Status] = N'Completed' AND [b].[CompletedAt] IS NOT NULL
ORDER BY [b].[CompletedAt] DESC
2025-07-22 11:37:59.799 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-22 11:37:59.800 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-22 11:37:59.803 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1678.522ms.
2025-07-22 11:37:59.805 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:37:59.812 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 1703.5105ms
2025-07-22 11:37:59.814 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:37:59.815 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 1710.1678 ms
2025-07-22 11:37:59.817 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 1716.2103ms
2025-07-22 11:38:04.148 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-22 11:38:04.152 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:38:04.154 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:38:04.174 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:38:04.177 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1458ms.
2025-07-22 11:38:04.179 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:38:04.183 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 25.2482ms
2025-07-22 11:38:04.185 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:38:04.186 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 34.0073 ms
2025-07-22 11:38:04.189 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 40.813ms
2025-07-22 11:38:04.257 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-22 11:38:04.261 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:38:04.263 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:38:04.280 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:38:04.281 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-22 11:38:04.283 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:38:04.297 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-22 11:38:04.298 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-22 11:38:04.299 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.0145ms.
2025-07-22 11:38:04.301 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:38:04.303 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 37.3045ms
2025-07-22 11:38:04.304 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:38:04.306 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 44.3869 ms
2025-07-22 11:38:04.308 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 50.5101ms
2025-07-22 11:38:27.239 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability?startDate=2025-07-22T10:38:27.1920000+00:00&endDate=2025-08-05T10:38:27.1920000+00:00 - null null
2025-07-22 11:38:27.243 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 11:38:27.251 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:38:27.263 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 11:38:27.275 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 21.264ms
2025-07-22 11:38:27.276 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 11:38:27.277 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability responded 400 in 34.1326 ms
2025-07-22 11:38:27.279 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability?startDate=2025-07-22T10:38:27.1920000+00:00&endDate=2025-08-05T10:38:27.1920000+00:00 - 400 null application/problem+json; charset=utf-8 39.6047ms
2025-07-22 11:38:31.225 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability?startDate=2025-07-22T10:38:31.2170000+00:00&endDate=2025-08-05T10:38:31.2170000+00:00 - null null
2025-07-22 11:38:31.229 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 11:38:31.230 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:38:31.235 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 11:38:31.237 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 3.7152ms
2025-07-22 11:38:31.238 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 11:38:31.240 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability responded 400 in 10.7524 ms
2025-07-22 11:38:31.243 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/36D5C085-DC40-4AEE-B9EF-368652A85FE6/availability?startDate=2025-07-22T10:38:31.2170000+00:00&endDate=2025-08-05T10:38:31.2170000+00:00 - 400 null application/problem+json; charset=utf-8 18.1865ms
2025-07-22 11:39:10.908 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - null null
2025-07-22 11:39:10.912 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:39:10.919 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:39:10.941 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:10.944 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1118ms.
2025-07-22 11:39:10.949 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:39:10.951 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 29.4436ms
2025-07-22 11:39:10.956 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 11:39:10.961 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 48.9222 ms
2025-07-22 11:39:10.966 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Cambridge&maxResults=1 - 200 null application/json; charset=utf-8 58.3364ms
2025-07-22 11:39:11.070 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - null null
2025-07-22 11:39:11.075 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:39:11.076 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:39:11.099 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:11.102 +01:00 [INF] Getting nearby providers at 52.1950788,0.1312729 within 25 miles
2025-07-22 11:39:11.104 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":52.1950788,"Longitude":0.1312729,"RadiusMiles":25,"ServiceCategoryIds":["315c4e9d-724f-4fb4-bedd-63a5fb758007"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:39:11.120 +01:00 [INF] Using provided coordinates: Lat=52.1950788, Lng=0.1312729
2025-07-22 11:39:11.122 +01:00 [INF] Returning cached search results for key: search_52.1951_0.1313_25_services_315c4e9d-724f-4fb4-bedd-63a5fb758007_pets_1
2025-07-22 11:39:11.123 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.9855ms.
2025-07-22 11:39:11.125 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:39:11.128 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 47.6099ms
2025-07-22 11:39:11.130 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:39:11.133 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 58.7533 ms
2025-07-22 11:39:11.136 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=52.1950788&longitude=0.1312729&radiusMiles=25&serviceCategories=315c4e9d-724f-4fb4-bedd-63a5fb758007 - 200 null application/json; charset=utf-8 65.697ms
2025-07-22 11:39:12.612 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:39:12.616 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:39:12.617 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:39:12.646 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:12.649 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1245ms.
2025-07-22 11:39:12.651 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:39:12.653 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 33.7177ms
2025-07-22 11:39:12.654 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:39:12.655 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 39.4516 ms
2025-07-22 11:39:12.658 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 46.4476ms
2025-07-22 11:39:13.947 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:39:13.951 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:39:13.958 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:39:14.009 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:14.011 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:39:14.017 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 6.9592ms.
2025-07-22 11:39:14.019 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:39:14.023 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 62.4027ms
2025-07-22 11:39:14.026 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:39:14.027 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 76.0255 ms
2025-07-22 11:39:14.030 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 82.5551ms
2025-07-22 11:39:14.375 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:39:14.379 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:39:14.380 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:39:14.403 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:14.404 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:39:14.406 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:39:14.421 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:39:14.422 +01:00 [INF] Executing real provider search at 0,0 within 10 miles
2025-07-22 11:39:15.073 +01:00 [INF] Executed DbCommand (536ms) [Parameters=[@__Cos_0='1', @__longitude_1='0', @__Sin_2='0', @__p_3='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 11:39:15.076 +01:00 [INF] Found 0 real providers within 10 miles
2025-07-22 11:39:15.077 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-22 11:39:15.078 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 673.8002ms.
2025-07-22 11:39:15.079 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:39:15.081 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 697.9302ms
2025-07-22 11:39:15.082 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:39:15.084 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 705.5293 ms
2025-07-22 11:39:15.087 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 711.3432ms
2025-07-22 11:39:28.332 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:39:28.336 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:39:28.339 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:39:28.363 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:28.365 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0662ms.
2025-07-22 11:39:28.367 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:39:28.370 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 28.0819ms
2025-07-22 11:39:28.371 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:39:28.372 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 35.9445 ms
2025-07-22 11:39:28.375 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 42.8203ms
2025-07-22 11:39:29.131 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:39:29.136 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:39:29.138 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:39:29.163 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:29.165 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:39:29.166 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.3755ms.
2025-07-22 11:39:29.175 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:39:29.178 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 34.5645ms
2025-07-22 11:39:29.180 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:39:29.183 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 46.6187 ms
2025-07-22 11:39:29.187 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 56.9742ms
2025-07-22 11:39:29.716 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:39:29.723 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:39:29.726 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:39:29.749 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:29.751 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:39:29.756 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:39:29.779 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:39:29.781 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:39:29.782 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.5094ms.
2025-07-22 11:39:29.784 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:39:29.786 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 56.1304ms
2025-07-22 11:39:29.787 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:39:29.789 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 65.2318 ms
2025-07-22 11:39:29.792 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 75.5553ms
2025-07-22 11:39:43.803 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-22 11:39:43.807 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:39:43.808 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:39:43.833 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:43.843 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:39:43.844 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.3835ms.
2025-07-22 11:39:43.857 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:39:43.861 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 50.9133ms
2025-07-22 11:39:43.865 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:39:43.869 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 62.2038 ms
2025-07-22 11:39:43.873 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 69.1347ms
2025-07-22 11:39:44.029 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:39:44.034 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:39:44.036 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:39:44.056 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:44.059 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0866ms.
2025-07-22 11:39:44.061 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:39:44.066 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 27.0379ms
2025-07-22 11:39:44.069 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:39:44.071 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 37.0281 ms
2025-07-22 11:39:44.073 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 44.4468ms
2025-07-22 11:39:44.732 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:39:44.737 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:39:44.739 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:39:44.759 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:44.761 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:39:44.762 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.0578ms.
2025-07-22 11:39:44.764 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:39:44.766 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 25.1312ms
2025-07-22 11:39:44.769 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:39:44.771 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 33.5546 ms
2025-07-22 11:39:44.774 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 42.9392ms
2025-07-22 11:39:45.299 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:39:45.302 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:39:45.303 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:39:45.322 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:45.325 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:39:45.327 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:39:45.342 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:39:45.343 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:39:45.345 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.9721ms.
2025-07-22 11:39:45.346 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:39:45.349 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 43.166ms
2025-07-22 11:39:45.350 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:39:45.352 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 50.1345 ms
2025-07-22 11:39:45.355 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 56.0571ms
2025-07-22 11:39:46.144 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 412
2025-07-22 11:39:46.147 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:39:46.149 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:39:46.170 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:46.171 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:39:46.175 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3.888ms.
2025-07-22 11:39:46.177 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:39:46.179 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 28.9553ms
2025-07-22 11:39:46.181 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:39:46.183 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 35.9881 ms
2025-07-22 11:39:46.186 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 41.981ms
2025-07-22 11:39:59.906 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:39:59.914 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:39:59.918 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:39:59.934 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:39:59.935 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0383ms.
2025-07-22 11:39:59.937 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:39:59.939 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.5736ms
2025-07-22 11:39:59.940 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:39:59.942 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 28.1414 ms
2025-07-22 11:39:59.943 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 37.7908ms
2025-07-22 11:40:00.656 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:40:00.660 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:40:00.662 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:40:00.689 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:40:00.690 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:40:00.692 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.1381ms.
2025-07-22 11:40:00.705 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:40:00.707 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 40.7442ms
2025-07-22 11:40:00.708 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:40:00.710 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 50.5151 ms
2025-07-22 11:40:00.713 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 56.9516ms
2025-07-22 11:40:01.262 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:40:01.266 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:40:01.269 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:40:01.297 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:40:01.298 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:40:01.300 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:40:01.320 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:40:01.321 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:40:01.323 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.8053ms.
2025-07-22 11:40:01.325 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:40:01.327 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 54.6356ms
2025-07-22 11:40:01.328 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:40:01.331 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 65.6939 ms
2025-07-22 11:40:01.335 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 73.8306ms
2025-07-22 11:40:06.177 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:40:06.182 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:40:06.183 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:40:06.201 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:40:06.203 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0432ms.
2025-07-22 11:40:06.205 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:40:06.207 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.2748ms
2025-07-22 11:40:06.208 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:40:06.210 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 28.3748 ms
2025-07-22 11:40:06.212 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.7817ms
2025-07-22 11:40:06.865 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:40:06.867 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:40:06.869 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:40:06.891 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:40:06.893 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:40:06.894 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.5311ms.
2025-07-22 11:40:06.896 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:40:06.897 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 26.2556ms
2025-07-22 11:40:06.899 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:40:06.900 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 33.1199 ms
2025-07-22 11:40:06.903 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 38.9029ms
2025-07-22 11:40:07.259 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:40:07.264 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:40:07.267 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:40:07.301 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:40:07.306 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:40:07.312 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:40:07.331 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:40:07.332 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:40:07.333 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.5739ms.
2025-07-22 11:40:07.335 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:40:07.337 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 66.1064ms
2025-07-22 11:40:07.338 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:40:07.342 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 77.6698 ms
2025-07-22 11:40:07.345 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 86.2249ms
2025-07-22 11:40:16.403 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:40:16.406 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:40:16.408 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:40:16.421 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:40:16.422 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0668ms.
2025-07-22 11:40:16.424 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:40:16.426 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 16.1764ms
2025-07-22 11:40:16.427 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:40:16.433 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 26.8706 ms
2025-07-22 11:40:16.435 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 31.5649ms
2025-07-22 11:40:17.095 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:40:17.173 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:40:17.175 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:40:17.196 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:40:17.197 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:40:17.198 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.9806ms.
2025-07-22 11:40:17.200 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:40:17.202 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 23.9692ms
2025-07-22 11:40:17.203 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:40:17.205 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 31.7845 ms
2025-07-22 11:40:17.207 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 111.4552ms
2025-07-22 11:40:17.778 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:40:17.783 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:40:17.785 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:40:17.806 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:40:17.807 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:40:17.809 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:40:17.836 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:40:17.838 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:40:17.839 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.3321ms.
2025-07-22 11:40:17.843 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:40:17.844 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 57.4329ms
2025-07-22 11:40:17.846 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:40:17.848 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 65.8249 ms
2025-07-22 11:40:17.851 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 73.2979ms
2025-07-22 11:42:05.139 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:42:05.143 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:42:05.145 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:42:05.163 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:42:05.164 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0547ms.
2025-07-22 11:42:05.166 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:42:05.168 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.9544ms
2025-07-22 11:42:05.171 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:42:05.172 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.1292 ms
2025-07-22 11:42:05.175 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 36.2637ms
2025-07-22 11:42:06.050 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:42:06.055 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:42:06.057 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:42:06.080 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:42:06.082 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:42:06.085 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.9739ms.
2025-07-22 11:42:06.086 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:42:06.089 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 29.2011ms
2025-07-22 11:42:06.093 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:42:06.094 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 39.3475 ms
2025-07-22 11:42:06.097 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 47.9339ms
2025-07-22 11:42:06.456 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:42:06.461 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:42:06.465 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:42:06.486 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:42:06.488 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:42:06.490 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:42:06.512 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:42:06.516 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:42:06.518 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.2279ms.
2025-07-22 11:42:06.520 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:42:06.522 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 52.9949ms
2025-07-22 11:42:06.524 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:42:06.526 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 65.3218 ms
2025-07-22 11:42:06.528 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 72.0644ms
2025-07-22 11:42:24.741 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:42:24.746 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:42:24.748 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:42:24.765 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:42:24.766 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0607ms.
2025-07-22 11:42:24.767 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:42:24.769 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 19.6258ms
2025-07-22 11:42:24.771 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:42:24.774 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 27.7607 ms
2025-07-22 11:42:24.776 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.9451ms
2025-07-22 11:42:25.721 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:42:25.724 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:42:25.726 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:42:25.789 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:42:25.800 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:42:25.801 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.0534ms.
2025-07-22 11:42:25.803 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:42:25.805 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 75.743ms
2025-07-22 11:42:25.817 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:42:25.818 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 94.1146 ms
2025-07-22 11:42:25.822 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 101.6394ms
2025-07-22 11:42:26.182 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:42:26.194 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:42:26.197 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:42:26.218 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:42:26.222 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:42:26.230 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:42:26.255 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:42:26.259 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:42:26.260 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.8205ms.
2025-07-22 11:42:26.262 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:42:26.264 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 62.2895ms
2025-07-22 11:42:26.266 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:42:26.267 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 73.9433 ms
2025-07-22 11:42:26.269 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 86.9856ms
2025-07-22 11:42:45.224 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:42:45.229 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:42:45.231 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:42:45.247 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:42:45.248 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0365ms.
2025-07-22 11:42:45.250 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:42:45.252 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 19.1508ms
2025-07-22 11:42:45.253 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:42:45.254 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 24.6566 ms
2025-07-22 11:42:45.257 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 32.8883ms
2025-07-22 11:42:46.094 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:42:46.097 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:42:46.099 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:42:46.122 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:42:46.124 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:42:46.126 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.1469ms.
2025-07-22 11:42:46.130 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:42:46.134 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 29.9722ms
2025-07-22 11:42:46.138 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:42:46.140 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 43.1968 ms
2025-07-22 11:42:46.143 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 49.0753ms
2025-07-22 11:42:46.712 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:42:46.716 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:42:46.717 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:42:46.735 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:42:46.737 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:42:46.739 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:42:46.755 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:42:46.757 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:42:46.758 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.4136ms.
2025-07-22 11:42:46.760 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:42:46.763 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 44.1424ms
2025-07-22 11:42:46.765 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:42:46.767 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 51.3944 ms
2025-07-22 11:42:46.770 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 57.8013ms
2025-07-22 11:43:02.729 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:43:02.734 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:43:02.745 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:43:02.768 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:02.770 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0385ms.
2025-07-22 11:43:02.772 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:43:02.774 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 22.5812ms
2025-07-22 11:43:02.775 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:43:02.776 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 42.5255 ms
2025-07-22 11:43:02.780 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 50.578ms
2025-07-22 11:43:03.639 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:43:03.644 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:43:03.646 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:43:03.669 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:03.673 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:43:03.681 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 7.7052ms.
2025-07-22 11:43:03.685 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:43:03.689 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 41.1347ms
2025-07-22 11:43:03.700 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:43:03.702 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 58.2577 ms
2025-07-22 11:43:03.713 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 74.1405ms
2025-07-22 11:43:04.265 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:43:04.268 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:43:04.269 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:43:04.299 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:04.301 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:43:04.303 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:43:04.319 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:43:04.330 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:43:04.331 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.3102ms.
2025-07-22 11:43:04.334 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:43:04.336 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 63.6224ms
2025-07-22 11:43:04.342 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:43:04.344 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 75.3996 ms
2025-07-22 11:43:04.346 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 81.7442ms
2025-07-22 11:43:32.523 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:43:32.527 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:43:32.528 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:43:32.542 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:32.543 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0473ms.
2025-07-22 11:43:32.545 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:43:32.547 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 17.1692ms
2025-07-22 11:43:32.548 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:43:32.550 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 22.9695 ms
2025-07-22 11:43:32.551 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 27.9217ms
2025-07-22 11:43:33.296 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:43:33.310 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:43:33.312 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:43:33.339 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:33.341 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:43:33.342 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.979ms.
2025-07-22 11:43:33.344 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:43:33.347 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 31.6688ms
2025-07-22 11:43:33.351 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:43:33.354 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 44.3521 ms
2025-07-22 11:43:33.356 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 59.7121ms
2025-07-22 11:43:33.911 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:43:33.915 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:43:33.917 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:43:33.943 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:33.944 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:43:33.947 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:43:33.966 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:43:33.969 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:43:33.970 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.4023ms.
2025-07-22 11:43:33.972 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:43:33.974 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 55.1776ms
2025-07-22 11:43:33.977 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:43:33.978 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 62.5840 ms
2025-07-22 11:43:33.980 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 69.1294ms
2025-07-22 11:43:46.993 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:43:47.003 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:43:47.005 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:43:47.019 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:47.026 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0739ms.
2025-07-22 11:43:47.028 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:43:47.031 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.7216ms
2025-07-22 11:43:47.036 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:43:47.037 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 33.8345 ms
2025-07-22 11:43:47.041 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 47.9363ms
2025-07-22 11:43:47.700 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:43:47.703 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:43:47.706 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:43:47.728 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:47.730 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:43:47.732 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.2464ms.
2025-07-22 11:43:47.733 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:43:47.736 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 27.7451ms
2025-07-22 11:43:47.738 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:43:47.740 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 37.1976 ms
2025-07-22 11:43:47.744 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 43.5807ms
2025-07-22 11:43:48.291 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:43:48.294 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:43:48.295 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:43:48.313 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:48.317 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:43:48.319 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:43:48.341 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:43:48.344 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:43:48.346 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.9119ms.
2025-07-22 11:43:48.348 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:43:48.350 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 49.8827ms
2025-07-22 11:43:48.353 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:43:48.354 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 60.0408 ms
2025-07-22 11:43:48.356 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 65.8096ms
2025-07-22 11:43:51.806 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:43:51.810 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:43:51.811 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:43:51.825 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:51.826 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.032ms.
2025-07-22 11:43:51.828 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:43:51.829 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 16.411ms
2025-07-22 11:43:51.830 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:43:51.831 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 21.8649 ms
2025-07-22 11:43:51.833 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 26.8848ms
2025-07-22 11:43:52.490 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 441
2025-07-22 11:43:52.495 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:43:52.496 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:43:52.516 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:52.518 +01:00 [INF] Provider search request received for location: Cambridge
2025-07-22 11:43:52.520 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.6481ms.
2025-07-22 11:43:52.522 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType11`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:43:52.525 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 26.5158ms
2025-07-22 11:43:52.527 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 11:43:52.528 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 400 in 33.8441 ms
2025-07-22 11:43:52.531 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 400 null application/json; charset=utf-8 41.5095ms
2025-07-22 11:43:53.091 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 11:43:53.095 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:43:53.098 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 11:43:53.119 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:43:53.122 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 11:43:53.124 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 11:43:53.153 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 11:43:53.155 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 11:43:53.156 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.376ms.
2025-07-22 11:43:53.158 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 11:43:53.160 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 59.3572ms
2025-07-22 11:43:53.163 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 11:43:53.164 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 69.0928 ms
2025-07-22 11:43:53.167 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 75.6074ms
2025-07-22 11:45:17.479 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 11:45:18.589 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 11:45:18.806 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 11:45:18.894 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 11:45:19.756 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 11:45:20.667 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 11:45:21.005 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 11:45:21.136 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:45:21.138 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:45:21.140 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:45:21.141 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:45:21.142 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:45:21.144 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:45:21.145 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:45:22.580 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:45:22.604 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 11:45:22.652 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 11:45:22.775 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 11:45:22.830 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:45:22.847 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 11:45:22.869 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:45:22.893 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:45:22.934 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 11:45:22.942 +01:00 [INF] Database migrations applied successfully
2025-07-22 11:45:22.952 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 11:45:22.997 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:45:23.310 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 11:45:23.311 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 11:45:23.391 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:45:23.393 +01:00 [INF] Hosting environment: Development
2025-07-22 11:45:23.394 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 11:45:23.720 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:45:23.956 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 11:45:24.191 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:45:24.252 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:45:24.362 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:45:24.435 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 477.9965ms
2025-07-22 11:45:24.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:45:24.471 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 16.2377ms
2025-07-22 11:45:24.987 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 11:45:25.037 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.4761ms
2025-07-22 11:45:25.481 +01:00 [INF] Executed DbCommand (531ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 11:45:25.539 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1169.6898ms.
2025-07-22 11:45:25.551 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:45:25.609 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1350.3656ms
2025-07-22 11:45:25.612 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:45:25.620 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1632.5951 ms
2025-07-22 11:45:25.630 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1918.4284ms
2025-07-22 11:45:57.246 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 11:45:57.472 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 225.626ms
2025-07-22 11:46:23.826 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:46:23.834 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:46:23.836 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:46:23.865 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:46:23.867 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4163ms.
2025-07-22 11:46:23.869 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:46:23.872 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 33.9998ms
2025-07-22 11:46:23.875 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:46:23.876 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 43.1063 ms
2025-07-22 11:46:23.879 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 53.6079ms
2025-07-22 11:48:21.960 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:48:21.968 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:48:21.971 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:48:22.011 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:48:22.013 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3739ms.
2025-07-22 11:48:22.015 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:48:22.017 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 44.7194ms
2025-07-22 11:48:22.019 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:48:22.022 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 58.1581 ms
2025-07-22 11:48:22.025 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 65.3061ms
2025-07-22 11:48:28.994 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:48:28.998 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:48:29.000 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:48:29.019 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:48:29.021 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0986ms.
2025-07-22 11:48:29.024 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:48:29.026 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.203ms
2025-07-22 11:48:29.028 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:48:29.029 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 31.4865 ms
2025-07-22 11:48:29.032 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 37.6556ms
2025-07-22 11:49:56.219 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:49:56.222 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:49:56.224 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:49:56.248 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:49:56.249 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1522ms.
2025-07-22 11:49:56.252 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:49:56.254 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 29.5902ms
2025-07-22 11:49:56.257 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:49:56.264 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 41.9787 ms
2025-07-22 11:49:56.267 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 48.0393ms
2025-07-22 11:50:07.643 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:50:07.648 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:50:07.652 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:50:07.682 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:50:07.687 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0926ms.
2025-07-22 11:50:07.691 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:50:07.696 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 37.2382ms
2025-07-22 11:50:07.703 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:50:07.706 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 57.6999 ms
2025-07-22 11:50:07.720 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 76.4197ms
2025-07-22 11:53:36.052 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 11:53:37.393 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 11:53:37.638 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 11:53:37.724 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 11:53:38.817 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 11:53:39.817 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 11:53:40.078 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 11:53:40.227 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:53:40.229 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:53:40.230 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:53:40.233 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:53:40.234 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:53:40.237 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:53:40.238 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 11:53:41.705 +01:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:53:41.727 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 11:53:41.773 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 11:53:41.873 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 11:53:41.923 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 11:53:41.939 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 11:53:41.964 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 11:53:41.986 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 11:53:42.023 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 11:53:42.031 +01:00 [INF] Database migrations applied successfully
2025-07-22 11:53:42.037 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 11:53:42.083 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 11:53:42.454 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 11:53:42.456 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 11:53:42.588 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 11:53:42.590 +01:00 [INF] Hosting environment: Development
2025-07-22 11:53:42.592 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 11:53:43.031 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:53:43.111 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 11:53:43.384 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:53:43.413 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:53:43.486 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:53:43.600 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 489.5045ms
2025-07-22 11:53:44.732 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 11:53:44.786 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1294.6878ms.
2025-07-22 11:53:44.798 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:53:44.853 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1434.4084ms
2025-07-22 11:53:44.857 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:53:44.863 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1638.2661 ms
2025-07-22 11:53:44.872 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1859.2793ms
2025-07-22 11:53:50.188 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 11:53:50.197 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 10.4845ms
2025-07-22 11:53:50.685 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 11:53:50.748 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.294ms
2025-07-22 11:53:51.228 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 11:53:51.492 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 264.0868ms
2025-07-22 11:59:15.531 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 11:59:15.548 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:59:15.550 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 11:59:15.582 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 11:59:15.585 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.7437ms.
2025-07-22 11:59:15.588 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 11:59:15.591 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 36.5967ms
2025-07-22 11:59:15.593 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 11:59:15.594 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 47.3840 ms
2025-07-22 11:59:15.597 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 66.9723ms
2025-07-22 12:07:38.131 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 12:07:39.383 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 12:07:39.632 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 12:07:39.731 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 12:07:40.897 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 12:07:41.934 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 12:07:42.186 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 12:07:42.331 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:07:42.335 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:07:42.337 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:07:42.339 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:07:42.341 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:07:42.343 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:07:42.344 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:07:43.570 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:07:43.587 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 12:07:43.624 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 12:07:43.717 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 12:07:43.767 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:07:43.782 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 12:07:43.803 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:07:43.820 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:07:43.855 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 12:07:43.861 +01:00 [INF] Database migrations applied successfully
2025-07-22 12:07:43.865 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 12:07:43.900 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 12:07:44.185 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 12:07:44.186 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 12:07:44.263 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 12:07:44.264 +01:00 [INF] Hosting environment: Development
2025-07-22 12:07:44.265 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 12:07:44.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 12:07:44.762 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:07:45.137 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:07:45.170 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:07:45.279 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:07:45.312 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 554.7777ms
2025-07-22 12:07:46.043 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 12:07:46.043 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 12:07:46.064 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 21.6287ms
2025-07-22 12:07:46.092 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.1645ms
2025-07-22 12:07:46.289 +01:00 [INF] Executed DbCommand (539ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 12:07:46.342 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1057.7499ms.
2025-07-22 12:07:46.353 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:07:46.399 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1224.5939ms
2025-07-22 12:07:46.402 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:07:46.406 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1502.8990 ms
2025-07-22 12:07:46.414 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1658.4823ms
2025-07-22 12:07:46.590 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 12:07:46.873 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.3601ms
2025-07-22 12:08:19.134 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:08:19.187 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:08:19.189 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:08:19.217 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:08:19.219 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.802ms.
2025-07-22 12:08:19.222 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:08:19.226 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 34.6086ms
2025-07-22 12:08:19.228 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:08:19.230 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 87.6761 ms
2025-07-22 12:08:19.233 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 98.6761ms
2025-07-22 12:08:23.231 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:08:23.237 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:08:23.238 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:08:23.258 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:08:23.260 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.083ms.
2025-07-22 12:08:23.261 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:08:23.263 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.4061ms
2025-07-22 12:08:23.266 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:08:23.267 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 32.6507 ms
2025-07-22 12:08:23.269 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 38.5614ms
2025-07-22 12:11:23.766 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:11:23.770 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:11:23.771 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:11:23.795 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:11:23.796 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2865ms.
2025-07-22 12:11:23.799 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:11:23.801 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 28.1177ms
2025-07-22 12:11:23.803 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:11:23.805 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 34.8455 ms
2025-07-22 12:11:23.807 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 41.075ms
2025-07-22 12:11:32.913 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:11:32.916 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:11:32.917 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:11:32.933 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:11:32.935 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0582ms.
2025-07-22 12:11:32.936 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:11:32.938 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 19.6549ms
2025-07-22 12:11:32.940 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:11:32.943 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 27.0185 ms
2025-07-22 12:11:32.946 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 32.9717ms
2025-07-22 12:28:52.540 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 12:28:53.712 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 12:28:53.973 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 12:28:54.063 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 12:28:54.904 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 12:28:55.716 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 12:28:55.950 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 12:28:56.047 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:28:56.049 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:28:56.050 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:28:56.052 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:28:56.053 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:28:56.054 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:28:56.056 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:28:57.136 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:28:57.153 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 12:28:57.197 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 12:28:57.284 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 12:28:57.330 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:28:57.345 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 12:28:57.362 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:28:57.379 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:28:57.410 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 12:28:57.416 +01:00 [INF] Database migrations applied successfully
2025-07-22 12:28:57.421 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 12:28:57.454 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 12:28:57.746 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 12:28:57.747 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 12:28:57.836 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 12:28:57.838 +01:00 [INF] Hosting environment: Development
2025-07-22 12:28:57.840 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 12:28:58.028 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:28:58.028 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 12:28:58.402 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:28:58.414 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:28:58.479 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:28:58.572 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 546.6224ms
2025-07-22 12:28:58.589 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 12:28:58.600 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 10.723ms
2025-07-22 12:28:59.038 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 12:28:59.090 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.8383ms
2025-07-22 12:28:59.567 +01:00 [INF] Executed DbCommand (534ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 12:28:59.627 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1142.6592ms.
2025-07-22 12:28:59.641 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:28:59.708 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1289.5509ms
2025-07-22 12:28:59.712 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:28:59.719 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1576.9869 ms
2025-07-22 12:28:59.736 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1715.4113ms
2025-07-22 12:28:59.993 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:29:00.001 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:29:00.003 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:29:00.034 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:29:00.051 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4144ms.
2025-07-22 12:29:00.055 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:29:00.063 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 57.5652ms
2025-07-22 12:29:00.069 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:29:00.073 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 72.7978 ms
2025-07-22 12:29:00.088 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 94.4935ms
2025-07-22 12:29:00.244 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 12:29:00.716 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 471.4332ms
2025-07-22 12:29:49.901 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:29:49.908 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:29:49.910 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:29:49.933 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:29:49.936 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1435ms.
2025-07-22 12:29:49.938 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:29:49.941 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 29.0855ms
2025-07-22 12:29:49.948 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:29:49.949 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 44.3761 ms
2025-07-22 12:29:49.952 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 51.1216ms
2025-07-22 12:30:17.435 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:30:17.441 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:30:17.443 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:30:17.464 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:30:17.467 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3875ms.
2025-07-22 12:30:17.469 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:30:17.471 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 25.0495ms
2025-07-22 12:30:17.472 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:30:17.474 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 32.9713 ms
2025-07-22 12:30:17.477 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 42.1956ms
2025-07-22 12:44:11.564 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 12:44:12.713 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 12:44:12.990 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 12:44:13.073 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 12:44:13.845 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 12:44:14.668 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 12:44:14.913 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 12:44:15.014 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:44:15.016 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:44:15.018 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:44:15.020 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:44:15.022 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:44:15.023 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:44:15.025 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 12:44:16.316 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:44:16.336 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 12:44:16.378 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 12:44:16.459 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 12:44:16.503 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 12:44:16.521 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 12:44:16.541 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 12:44:16.562 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 12:44:16.602 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 12:44:16.608 +01:00 [INF] Database migrations applied successfully
2025-07-22 12:44:16.614 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 12:44:16.652 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 12:44:16.932 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 12:44:16.933 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 12:44:17.009 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 12:44:17.011 +01:00 [INF] Hosting environment: Development
2025-07-22 12:44:17.012 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 12:44:17.471 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:44:17.471 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 12:44:17.888 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:44:17.906 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:44:17.986 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:44:18.029 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 558.7275ms
2025-07-22 12:44:18.059 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 12:44:18.076 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 16.6813ms
2025-07-22 12:44:18.521 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 12:44:18.571 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.5589ms
2025-07-22 12:44:19.029 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 12:44:19.123 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1131.9084ms.
2025-07-22 12:44:19.131 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 12:44:19.137 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:44:19.289 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1374.2074ms
2025-07-22 12:44:19.376 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:44:19.389 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1817.2610 ms
2025-07-22 12:44:19.401 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1936.832ms
2025-07-22 12:44:19.736 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 604.4746ms
2025-07-22 12:45:48.182 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 12:45:48.191 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:45:48.193 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 12:45:48.227 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:45:48.231 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.8306ms.
2025-07-22 12:45:48.233 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 12:45:48.237 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 40.8753ms
2025-07-22 12:45:48.238 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 12:45:48.240 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 49.4923 ms
2025-07-22 12:45:48.242 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 60.6509ms
2025-07-22 12:46:42.705 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 491
2025-07-22 12:46:42.711 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 12:46:42.720 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 12:46:42.806 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 12:46:44.938 +01:00 [INF] Starting registration for user: th3dixon@gmail.com
2025-07-22 12:46:45.608 +01:00 [INF] Executed DbCommand (546ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 12:46:54.396 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedPostcode_0='PO13 0JX' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PostcodeId], [p].[DateIntroduced], [p].[DateTerminated], [p].[Easting], [p].[GridReference], [p].[InwardCode], [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[Northing], [p].[OutwardCode], [p].[PostcodeArea], [p].[Postcode], [p].[PostcodeDistrict], [p].[PostcodeFormatted], [p].[PostcodeSector]
FROM [Postcodes] AS [p]
WHERE [p].[PostcodeFormatted] = @__normalizedPostcode_0 AND [p].[IsActive] = CAST(1 AS bit)
2025-07-22 12:47:01.443 +01:00 [ERR] Failed executing DbCommand (534ms) [Parameters=[@__normalizedCityName_0='po13 0jx' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[AlternativeName], [c].[CityName], [c].[CountyId], [c].[IsActive], [c].[Latitude], [c].[Longitude], [c].[Population], [c0].[CountyId], [c0].[CountryId], [c0].[CountyCode], [c0].[CountyName], [c0].[IsActive]
FROM [Cities] AS [c]
INNER JOIN [Counties] AS [c0] ON [c].[CountyId] = [c0].[CountyId]
WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL AND (LOWER([c].[CityName]) = @__normalizedCityName_0 OR ([c].[AlternativeName] IS NOT NULL AND LOWER([c].[AlternativeName]) = @__normalizedCityName_0))
ORDER BY CASE
    WHEN [c].[Population] IS NOT NULL THEN 0
    ELSE 1
END, [c].[Population] DESC
2025-07-22 12:47:01.477 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MeAndMyDog.API.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:24974763-fcba-4bfe-aeb3-3e81b19e866e
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:24974763-fcba-4bfe-aeb3-3e81b19e866e
Error Number:207,State:1,Class:16
2025-07-22 12:47:01.539 +01:00 [ERR] Error looking up city in database: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.LocationService.GetCoordinatesFromDatabaseCity(String cityName, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\LocationService.cs:line 577
ClientConnectionId:24974763-fcba-4bfe-aeb3-3e81b19e866e
Error Number:207,State:1,Class:16
2025-07-22 12:47:21.830 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedPostcode_0='PO13 0JX' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PostcodeId], [p].[DateIntroduced], [p].[DateTerminated], [p].[Easting], [p].[GridReference], [p].[InwardCode], [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[Northing], [p].[OutwardCode], [p].[PostcodeArea], [p].[Postcode], [p].[PostcodeDistrict], [p].[PostcodeFormatted], [p].[PostcodeSector]
FROM [Postcodes] AS [p]
WHERE [p].[PostcodeFormatted] = @__normalizedPostcode_0 AND [p].[IsActive] = CAST(1 AS bit)
2025-07-22 13:20:08.712 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 13:20:09.892 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 13:20:10.098 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 13:20:10.175 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 13:20:11.132 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 13:20:12.270 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 13:20:12.591 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 13:20:12.730 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:20:12.732 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:20:12.734 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:20:12.736 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:20:12.738 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:20:12.740 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:20:12.750 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:20:13.882 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:20:13.897 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 13:20:13.936 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 13:20:14.018 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 13:20:14.067 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:20:14.085 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 13:20:14.109 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:20:14.128 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:20:14.163 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 13:20:14.168 +01:00 [INF] Database migrations applied successfully
2025-07-22 13:20:14.175 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 13:20:14.216 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:20:14.556 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 13:20:14.557 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 13:20:14.731 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:20:14.753 +01:00 [INF] Hosting environment: Development
2025-07-22 13:20:14.755 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 13:20:14.881 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 13:20:14.968 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:20:15.393 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:20:15.410 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:20:15.419 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 545.9511ms
2025-07-22 13:20:15.518 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:20:15.556 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:20:15.629 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 111.7243ms
2025-07-22 13:20:16.017 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 13:20:16.070 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.7045ms
2025-07-22 13:20:16.565 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 13:20:16.860 +01:00 [INF] Executed DbCommand (540ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 13:20:16.891 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 326.0645ms
2025-07-22 13:20:16.908 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1346.4822ms.
2025-07-22 13:20:16.922 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:20:16.979 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1558.869ms
2025-07-22 13:20:16.982 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:20:16.989 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1873.4323 ms
2025-07-22 13:20:16.997 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 2029.7623ms
2025-07-22 13:20:52.808 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:20:52.862 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:20:52.864 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:20:52.888 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:20:52.891 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3202ms.
2025-07-22 13:20:52.892 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:20:52.896 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 29.7138ms
2025-07-22 13:20:52.898 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:20:52.900 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 83.2740 ms
2025-07-22 13:20:52.903 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 94.8454ms
2025-07-22 13:21:32.246 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 491
2025-07-22 13:21:32.251 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:21:32.261 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 13:21:32.338 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:21:34.549 +01:00 [INF] Starting registration for user: th3dixon@gmail.com
2025-07-22 13:21:35.237 +01:00 [INF] Executed DbCommand (546ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:21:35.276 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedPostcode_0='PO13 0JX' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PostcodeId], [p].[DateIntroduced], [p].[DateTerminated], [p].[Easting], [p].[GridReference], [p].[InwardCode], [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[Northing], [p].[OutwardCode], [p].[PostcodeArea], [p].[Postcode], [p].[PostcodeDistrict], [p].[PostcodeFormatted], [p].[PostcodeSector]
FROM [Postcodes] AS [p]
WHERE [p].[PostcodeFormatted] = @__normalizedPostcode_0 AND [p].[IsActive] = CAST(1 AS bit)
2025-07-22 13:21:35.864 +01:00 [ERR] Failed executing DbCommand (530ms) [Parameters=[@__normalizedCityName_0='po13 0jx' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[AlternativeName], [c].[CityName], [c].[CountyId], [c].[IsActive], [c].[Latitude], [c].[Longitude], [c].[Population], [c0].[CountyId], [c0].[CountryId], [c0].[CountyCode], [c0].[CountyName], [c0].[IsActive]
FROM [Cities] AS [c]
INNER JOIN [Counties] AS [c0] ON [c].[CountyId] = [c0].[CountyId]
WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL AND (LOWER([c].[CityName]) = @__normalizedCityName_0 OR ([c].[AlternativeName] IS NOT NULL AND LOWER([c].[AlternativeName]) = @__normalizedCityName_0))
ORDER BY CASE
    WHEN [c].[Population] IS NOT NULL THEN 0
    ELSE 1
END, [c].[Population] DESC
2025-07-22 13:21:35.894 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MeAndMyDog.API.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8475c8fa-4ae3-4fe3-bbff-252cee9f733c
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8475c8fa-4ae3-4fe3-bbff-252cee9f733c
Error Number:207,State:1,Class:16
2025-07-22 13:21:35.969 +01:00 [ERR] Error looking up city in database: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.LocationService.GetCoordinatesFromDatabaseCity(String cityName, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\LocationService.cs:line 593
ClientConnectionId:8475c8fa-4ae3-4fe3-bbff-252cee9f733c
Error Number:207,State:1,Class:16
2025-07-22 13:21:39.784 +01:00 [WRN] Google Maps API key not configured, skipping Google Places fallback
2025-07-22 13:21:47.809 +01:00 [WRN] Google Maps API key not configured, skipping Google Places fallback
2025-07-22 13:23:02.430 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 13:23:04.003 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 13:23:04.251 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 13:23:04.343 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 13:23:05.382 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 13:23:06.429 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 13:23:06.712 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 13:23:06.875 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:23:06.878 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:23:06.880 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:23:06.883 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:23:06.885 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:23:06.887 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:23:06.889 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:23:08.063 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:23:08.083 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 13:23:08.123 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 13:23:08.201 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 13:23:08.250 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:23:08.265 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 13:23:08.282 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:23:08.299 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:23:08.330 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 13:23:08.336 +01:00 [INF] Database migrations applied successfully
2025-07-22 13:23:08.342 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 13:23:08.376 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:23:08.691 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 13:23:08.693 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 13:23:08.789 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:23:08.790 +01:00 [INF] Hosting environment: Development
2025-07-22 13:23:08.792 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 13:23:08.791 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:23:09.110 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:23:09.110 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 13:23:09.130 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:23:09.311 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:23:09.509 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 399.0593ms
2025-07-22 13:23:09.520 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:23:09.539 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 19.0371ms
2025-07-22 13:23:10.201 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 13:23:10.249 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.719ms
2025-07-22 13:23:10.379 +01:00 [INF] Executed DbCommand (541ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 13:23:10.421 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1105.146ms.
2025-07-22 13:23:10.430 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:23:10.471 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1336.3051ms
2025-07-22 13:23:10.475 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:23:10.479 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1585.7203 ms
2025-07-22 13:23:10.492 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1707.9244ms
2025-07-22 13:23:11.019 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 13:23:11.348 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 329.264ms
2025-07-22 13:23:50.648 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:23:50.664 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:23:50.666 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:23:50.691 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:23:50.693 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4301ms.
2025-07-22 13:23:50.696 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:23:50.700 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 32.0484ms
2025-07-22 13:23:50.701 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:23:50.703 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 48.6803 ms
2025-07-22 13:23:50.706 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 57.8413ms
2025-07-22 13:24:57.890 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 491
2025-07-22 13:24:57.894 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:24:57.905 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 13:24:57.981 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:24:57.985 +01:00 [INF] Starting registration for user: th3dixon@gmail.com
2025-07-22 13:24:58.685 +01:00 [INF] Executed DbCommand (547ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:24:58.732 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedPostcode_0='PO13 0JX' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PostcodeId], [p].[DateIntroduced], [p].[DateTerminated], [p].[Easting], [p].[GridReference], [p].[InwardCode], [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[Northing], [p].[OutwardCode], [p].[PostcodeArea], [p].[Postcode], [p].[PostcodeDistrict], [p].[PostcodeFormatted], [p].[PostcodeSector]
FROM [Postcodes] AS [p]
WHERE [p].[PostcodeFormatted] = @__normalizedPostcode_0 AND [p].[IsActive] = CAST(1 AS bit)
2025-07-22 13:24:59.322 +01:00 [ERR] Failed executing DbCommand (522ms) [Parameters=[@__normalizedCityName_0='po13 0jx' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[AlternativeName], [c].[CityName], [c].[CountyId], [c].[IsActive], [c].[Latitude], [c].[Longitude], [c].[Population], [c0].[CountyId], [c0].[CountryId], [c0].[CountyCode], [c0].[CountyName], [c0].[IsActive]
FROM [Cities] AS [c]
INNER JOIN [Counties] AS [c0] ON [c].[CountyId] = [c0].[CountyId]
WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL AND (LOWER([c].[CityName]) = @__normalizedCityName_0 OR ([c].[AlternativeName] IS NOT NULL AND LOWER([c].[AlternativeName]) = @__normalizedCityName_0))
ORDER BY CASE
    WHEN [c].[Population] IS NOT NULL THEN 0
    ELSE 1
END, [c].[Population] DESC
2025-07-22 13:24:59.353 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MeAndMyDog.API.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:44e8a1f5-217c-4f75-9ca3-058c35f9a1c5
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:44e8a1f5-217c-4f75-9ca3-058c35f9a1c5
Error Number:207,State:1,Class:16
2025-07-22 13:24:59.428 +01:00 [ERR] Error looking up city in database: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.LocationService.GetCoordinatesFromDatabaseCity(String cityName, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\LocationService.cs:line 593
ClientConnectionId:44e8a1f5-217c-4f75-9ca3-058c35f9a1c5
Error Number:207,State:1,Class:16
2025-07-22 13:25:12.763 +01:00 [INF] Start processing HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 13:25:12.766 +01:00 [INF] Sending HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 13:25:13.164 +01:00 [INF] Received HTTP response headers after 394.9599ms - 200
2025-07-22 13:25:13.166 +01:00 [INF] End processing HTTP request after 403.7908ms - 200
2025-07-22 13:25:19.608 +01:00 [INF] Successfully geocoded 'PO13 0JX' using Google Places API: 50.8205301, -1.1713195
2025-07-22 13:25:40.591 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 13:25:41.117 +01:00 [INF] Executed DbCommand (514ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:27:10.356 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 13:27:11.511 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 13:27:11.789 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 13:27:11.883 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 13:27:12.884 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 13:27:13.890 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 13:27:14.208 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 13:27:14.344 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:27:14.347 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:27:14.350 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:27:14.351 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:27:14.354 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:27:14.355 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:27:14.358 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:27:15.686 +01:00 [INF] Executed DbCommand (123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:27:15.712 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 13:27:15.754 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 13:27:15.852 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 13:27:15.903 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:27:15.918 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 13:27:15.938 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:27:15.955 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:27:15.987 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 13:27:15.992 +01:00 [INF] Database migrations applied successfully
2025-07-22 13:27:15.997 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 13:27:16.034 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:27:16.363 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 13:27:16.365 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 13:27:16.467 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:27:16.468 +01:00 [INF] Hosting environment: Development
2025-07-22 13:27:16.470 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 13:27:16.509 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 13:27:16.509 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:27:16.827 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:27:16.861 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:27:16.985 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:27:17.024 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 521.1994ms
2025-07-22 13:27:17.059 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:27:17.068 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.9917ms
2025-07-22 13:27:17.511 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 13:27:17.558 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.0836ms
2025-07-22 13:27:17.964 +01:00 [INF] Executed DbCommand (543ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 13:27:18.019 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1029.0905ms.
2025-07-22 13:27:18.029 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:27:18.077 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1209.7825ms
2025-07-22 13:27:18.080 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:27:18.088 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1496.7287 ms
2025-07-22 13:27:18.099 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1596.4118ms
2025-07-22 13:27:18.883 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:27:18.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 13:27:18.892 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:27:18.898 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:27:18.932 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:27:18.934 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3873ms.
2025-07-22 13:27:18.938 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:27:18.942 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 39.8634ms
2025-07-22 13:27:18.944 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:27:18.946 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 54.7762 ms
2025-07-22 13:27:18.951 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 68.2876ms
2025-07-22 13:27:19.338 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 453.8176ms
2025-07-22 13:27:38.442 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=PO13%200JX&max=1 - null null
2025-07-22 13:27:38.448 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 13:27:38.459 +01:00 [INF] Route matched with {action = "SearchAddresses", controller = "AddressLookup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAddresses(System.String, Int32) on controller MeAndMyDog.API.Controllers.AddressLookupController (MeAndMyDog.API).
2025-07-22 13:27:38.498 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:27:43.389 +01:00 [ERR] Error searching addresses for term: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'sp_AddressAutocomplete'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 434
   at MeAndMyDog.API.Services.Implementations.AddressLookupService.SearchAddressesAsync(String searchTerm, Int32 maxResults) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\AddressLookupService.cs:line 45
ClientConnectionId:aa2e3d86-063b-401d-8964-d1ba2a053abe
Error Number:2812,State:62,Class:16
2025-07-22 13:27:43.435 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 4935.3844ms.
2025-07-22 13:27:43.437 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:27:43.441 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) in 4979.3979ms
2025-07-22 13:27:43.442 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 13:27:43.444 +01:00 [INF] HTTP GET /api/v1/AddressLookup/search responded 400 in 4997.8715 ms
2025-07-22 13:27:43.447 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=PO13%200JX&max=1 - 400 null application/json; charset=utf-8 5004.655ms
2025-07-22 13:27:43.477 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 296
2025-07-22 13:27:43.482 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:27:43.486 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 13:27:43.536 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:27:43.541 +01:00 [INF] Starting registration for user: thedixon@hotmail.com
2025-07-22 13:27:44.186 +01:00 [INF] Executed DbCommand (521ms) [Parameters=[@__normalizedEmail_0='THEDIXON@HOTMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:27:44.229 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedPostcode_0='PO13 0JX' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PostcodeId], [p].[DateIntroduced], [p].[DateTerminated], [p].[Easting], [p].[GridReference], [p].[InwardCode], [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[Northing], [p].[OutwardCode], [p].[PostcodeArea], [p].[Postcode], [p].[PostcodeDistrict], [p].[PostcodeFormatted], [p].[PostcodeSector]
FROM [Postcodes] AS [p]
WHERE [p].[PostcodeFormatted] = @__normalizedPostcode_0 AND [p].[IsActive] = CAST(1 AS bit)
2025-07-22 13:27:44.812 +01:00 [ERR] Failed executing DbCommand (530ms) [Parameters=[@__normalizedCityName_0='po13 0jx' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[AlternativeName], [c].[CityName], [c].[CountyId], [c].[IsActive], [c].[Latitude], [c].[Longitude], [c].[Population], [c0].[CountyId], [c0].[CountryId], [c0].[CountyCode], [c0].[CountyName], [c0].[IsActive]
FROM [Cities] AS [c]
INNER JOIN [Counties] AS [c0] ON [c].[CountyId] = [c0].[CountyId]
WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL AND (LOWER([c].[CityName]) = @__normalizedCityName_0 OR ([c].[AlternativeName] IS NOT NULL AND LOWER([c].[AlternativeName]) = @__normalizedCityName_0))
ORDER BY CASE
    WHEN [c].[Population] IS NOT NULL THEN 0
    ELSE 1
END, [c].[Population] DESC
2025-07-22 13:27:44.822 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MeAndMyDog.API.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:aa2e3d86-063b-401d-8964-d1ba2a053abe
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:aa2e3d86-063b-401d-8964-d1ba2a053abe
Error Number:207,State:1,Class:16
2025-07-22 13:27:44.892 +01:00 [ERR] Error looking up city in database: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.LocationService.GetCoordinatesFromDatabaseCity(String cityName, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\LocationService.cs:line 593
ClientConnectionId:aa2e3d86-063b-401d-8964-d1ba2a053abe
Error Number:207,State:1,Class:16
2025-07-22 13:27:47.926 +01:00 [INF] Start processing HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 13:27:47.930 +01:00 [INF] Sending HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 13:27:48.233 +01:00 [INF] Received HTTP response headers after 300.7142ms - 200
2025-07-22 13:27:48.235 +01:00 [INF] End processing HTTP request after 309.8155ms - 200
2025-07-22 13:27:48.241 +01:00 [INF] Successfully geocoded 'PO13 0JX' using Google Places API: 50.8205301, -1.1713195
2025-07-22 13:27:50.921 +01:00 [INF] Executed DbCommand (515ms) [Parameters=[@__normalizedUserName_0='THEDIXON@HOTMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 13:27:51.454 +01:00 [INF] Executed DbCommand (526ms) [Parameters=[@__normalizedEmail_0='THEDIXON@HOTMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:40:15.858 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 13:40:17.051 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 13:40:17.277 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 13:40:17.359 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 13:40:18.377 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 13:40:19.204 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 13:40:19.485 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 13:40:19.635 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:40:19.638 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:40:19.640 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:40:19.642 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:40:19.644 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:40:19.647 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:40:19.649 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:40:20.857 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:40:20.877 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 13:40:20.920 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 13:40:21.015 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 13:40:21.065 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:40:21.085 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 13:40:21.106 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:40:21.131 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:40:21.176 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 13:40:21.183 +01:00 [INF] Database migrations applied successfully
2025-07-22 13:40:21.188 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 13:40:21.233 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:40:21.553 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 13:40:21.554 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 13:40:21.645 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:40:21.646 +01:00 [INF] Hosting environment: Development
2025-07-22 13:40:21.650 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 13:40:21.848 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 13:40:21.848 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:40:22.253 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:40:22.266 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:40:22.429 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:40:22.461 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 614.9266ms
2025-07-22 13:40:22.484 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:40:22.494 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.3595ms
2025-07-22 13:40:22.946 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 13:40:22.998 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.4351ms
2025-07-22 13:40:23.481 +01:00 [INF] Executed DbCommand (558ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 13:40:23.528 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1094.8096ms.
2025-07-22 13:40:23.540 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:40:23.593 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1321.5411ms
2025-07-22 13:40:23.597 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:40:23.603 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1620.0325 ms
2025-07-22 13:40:23.618 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1776.5613ms
2025-07-22 13:40:23.918 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 13:40:24.337 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 418.8844ms
2025-07-22 13:40:28.685 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:40:28.694 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:40:28.695 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:40:28.726 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:40:28.729 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3977ms.
2025-07-22 13:40:28.735 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:40:28.739 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 41.0411ms
2025-07-22 13:40:28.750 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:40:28.757 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 64.0182 ms
2025-07-22 13:40:28.766 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 81.5642ms
2025-07-22 13:41:04.268 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 491
2025-07-22 13:41:04.274 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:41:04.284 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 13:41:04.360 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:41:04.365 +01:00 [INF] Starting registration for user: th3dixon@gmail.com
2025-07-22 13:41:05.057 +01:00 [INF] Executed DbCommand (546ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:41:05.100 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedPostcode_0='PO13 0JX' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PostcodeId], [p].[DateIntroduced], [p].[DateTerminated], [p].[Easting], [p].[GridReference], [p].[InwardCode], [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[Northing], [p].[OutwardCode], [p].[PostcodeArea], [p].[Postcode], [p].[PostcodeDistrict], [p].[PostcodeFormatted], [p].[PostcodeSector]
FROM [Postcodes] AS [p]
WHERE [p].[PostcodeFormatted] = @__normalizedPostcode_0 AND [p].[IsActive] = CAST(1 AS bit)
2025-07-22 13:41:05.687 +01:00 [ERR] Failed executing DbCommand (534ms) [Parameters=[@__normalizedCityName_0='po13 0jx' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[AlternativeName], [c].[CityName], [c].[CountyId], [c].[IsActive], [c].[Latitude], [c].[Longitude], [c].[Population], [c0].[CountyId], [c0].[CountryId], [c0].[CountyCode], [c0].[CountyName], [c0].[IsActive]
FROM [Cities] AS [c]
INNER JOIN [Counties] AS [c0] ON [c].[CountyId] = [c0].[CountyId]
WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL AND (LOWER([c].[CityName]) = @__normalizedCityName_0 OR ([c].[AlternativeName] IS NOT NULL AND LOWER([c].[AlternativeName]) = @__normalizedCityName_0))
ORDER BY CASE
    WHEN [c].[Population] IS NOT NULL THEN 0
    ELSE 1
END, [c].[Population] DESC
2025-07-22 13:41:05.721 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MeAndMyDog.API.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:64b7102f-3ac7-469d-a9d4-7091f3872e03
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:64b7102f-3ac7-469d-a9d4-7091f3872e03
Error Number:207,State:1,Class:16
2025-07-22 13:41:05.823 +01:00 [ERR] Error looking up city in database: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.LocationService.GetCoordinatesFromDatabaseCity(String cityName, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\LocationService.cs:line 593
ClientConnectionId:64b7102f-3ac7-469d-a9d4-7091f3872e03
Error Number:207,State:1,Class:16
2025-07-22 13:41:05.847 +01:00 [INF] Start processing HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 13:41:05.849 +01:00 [INF] Sending HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 13:41:06.194 +01:00 [INF] Received HTTP response headers after 341.6144ms - 200
2025-07-22 13:41:06.197 +01:00 [INF] End processing HTTP request after 350.1646ms - 200
2025-07-22 13:41:06.202 +01:00 [INF] Successfully geocoded 'PO13 0JX' using Google Places API: 50.8205301, -1.1713195
2025-07-22 13:41:06.820 +01:00 [INF] Executed DbCommand (516ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 13:41:07.352 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:41:08.191 +01:00 [INF] Executed DbCommand (530ms) [Parameters=[@p0='70319c2b-05b2-4b40-bcd9-b0da44731896' (Nullable = false) (Size = 450), @p1='0', @p2='Active' (Nullable = false) (Size = 20), @p3='77 Brewers Lane' (Size = 4000), @p4=NULL (Size = 4000), @p5='Gosport' (Size = 4000), @p6='b09721fa-96a2-488c-8186-59e17a66b46b' (Size = 4000), @p7='England' (Size = 4000), @p8='2025-07-22T12:41:07.5637595+00:00', @p9=NULL (DbType = DateTimeOffset), @p10='th3dixon@gmail.com' (Size = 256), @p11='True', @p12='Chris' (Nullable = false) (Size = 100), @p13=NULL (Size = 20), @p14='True', @p15='False', @p16='Dixon' (Nullable = false) (Size = 100), @p17=NULL (DbType = DateTimeOffset), @p18='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p19='True', @p20=NULL (DbType = DateTimeOffset), @p21='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p22='TH3DIXON@GMAIL.COM' (Size = 256), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='AQAAAAIAAYagAAAAEBAomkpecGvGjrhJACMQ6sAu2evY4sSMgRtLDEqCGByh+5jC9osQbIToZq0tAjDRtQ==' (Size = 4000), @p25='07854514514' (Size = 4000), @p26='False', @p27='PO13 0JX' (Size = 4000), @p28='en' (Nullable = false) (Size = 10), @p29=NULL (Size = 500), @p30=NULL (Size = 4000), @p31='F7BLKWMWCYWOW6JD4DFV6ECCXQIMW5D5' (Size = 4000), @p32='Free' (Nullable = false) (Size = 20), @p33='UTC' (Nullable = false) (Size = 50), @p34='False', @p35='2025-07-22T12:41:07.5581716+00:00', @p36='th3dixon@gmail.com' (Size = 256), @p37='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [AccountStatus], [AddressLine1], [AddressLine2], [City], [ConcurrencyStamp], [County], [CreatedAt], [DateOfBirth], [Email], [EmailConfirmed], [FirstName], [Gender], [IsActive], [IsKYCVerified], [LastName], [LastSeenAt], [Latitude], [LockoutEnabled], [LockoutEnd], [Longitude], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PostCode], [PreferredLanguage], [ProfileImageUrl], [ProfilePhotoUrl], [SecurityStamp], [SubscriptionType], [TimeZone], [TwoFactorEnabled], [UpdatedAt], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37);
2025-07-22 13:41:08.205 +01:00 [INF] User account created successfully for: th3dixon@gmail.com
2025-07-22 13:41:08.247 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-22 13:41:08.294 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 13:41:08.330 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='70319c2b-05b2-4b40-bcd9-b0da44731896' (Size = 450), @__p_1='6EADE1D8-6A9A-4E1A-B641-DF9E2E07C4D6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-22 13:41:08.347 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 13:41:08.887 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 13:41:09.418 +01:00 [INF] Executed DbCommand (526ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:41:09.988 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[@p0='6EADE1D8-6A9A-4E1A-B641-DF9E2E07C4D6' (Nullable = false) (Size = 450), @p1='70319c2b-05b2-4b40-bcd9-b0da44731896' (Nullable = false) (Size = 450), @p39='70319c2b-05b2-4b40-bcd9-b0da44731896' (Nullable = false) (Size = 450), @p2='0', @p3='Active' (Nullable = false) (Size = 20), @p4='77 Brewers Lane' (Size = 4000), @p5=NULL (Size = 4000), @p6='Gosport' (Size = 4000), @p7='4102afef-dcab-4b63-8b73-336aa0f0c60a' (Size = 4000), @p40='b09721fa-96a2-488c-8186-59e17a66b46b' (Size = 4000), @p8='England' (Size = 4000), @p9='2025-07-22T12:41:07.5637595+00:00', @p10=NULL (DbType = DateTimeOffset), @p11='th3dixon@gmail.com' (Size = 256), @p12='True', @p13='Chris' (Nullable = false) (Size = 100), @p14=NULL (Size = 20), @p15='True', @p16='False', @p17='Dixon' (Nullable = false) (Size = 100), @p18=NULL (DbType = DateTimeOffset), @p19='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p20='True', @p21=NULL (DbType = DateTimeOffset), @p22='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='TH3DIXON@GMAIL.COM' (Size = 256), @p25='AQAAAAIAAYagAAAAEBAomkpecGvGjrhJACMQ6sAu2evY4sSMgRtLDEqCGByh+5jC9osQbIToZq0tAjDRtQ==' (Size = 4000), @p26='07854514514' (Size = 4000), @p27='False', @p28='PO13 0JX' (Size = 4000), @p29='en' (Nullable = false) (Size = 10), @p30=NULL (Size = 500), @p31=NULL (Size = 4000), @p32='F7BLKWMWCYWOW6JD4DFV6ECCXQIMW5D5' (Size = 4000), @p33='Free' (Nullable = false) (Size = 20), @p34='UTC' (Nullable = false) (Size = 50), @p35='False', @p36='2025-07-22T12:41:09.4328221+00:00', @p37='th3dixon@gmail.com' (Size = 256), @p38='1'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [AccountStatus] = @p3, [AddressLine1] = @p4, [AddressLine2] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [County] = @p8, [CreatedAt] = @p9, [DateOfBirth] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [FirstName] = @p13, [Gender] = @p14, [IsActive] = @p15, [IsKYCVerified] = @p16, [LastName] = @p17, [LastSeenAt] = @p18, [Latitude] = @p19, [LockoutEnabled] = @p20, [LockoutEnd] = @p21, [Longitude] = @p22, [NormalizedEmail] = @p23, [NormalizedUserName] = @p24, [PasswordHash] = @p25, [PhoneNumber] = @p26, [PhoneNumberConfirmed] = @p27, [PostCode] = @p28, [PreferredLanguage] = @p29, [ProfileImageUrl] = @p30, [ProfilePhotoUrl] = @p31, [SecurityStamp] = @p32, [SubscriptionType] = @p33, [TimeZone] = @p34, [TwoFactorEnabled] = @p35, [UpdatedAt] = @p36, [UserName] = @p37, [UserType] = @p38
OUTPUT 1
WHERE [Id] = @p39 AND [ConcurrencyStamp] = @p40;
2025-07-22 13:41:10.022 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='PETOWNER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-22 13:41:10.042 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedRoleName_0='PETOWNER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 13:41:10.059 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='70319c2b-05b2-4b40-bcd9-b0da44731896' (Size = 450), @__p_1='0004F3E4-3456-42BB-BFDB-4E63E7A55B77' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-22 13:41:10.074 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedRoleName_0='PETOWNER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 13:41:10.604 +01:00 [INF] Executed DbCommand (527ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 13:41:11.119 +01:00 [INF] Executed DbCommand (513ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:41:11.653 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@p0='0004F3E4-3456-42BB-BFDB-4E63E7A55B77' (Nullable = false) (Size = 450), @p1='70319c2b-05b2-4b40-bcd9-b0da44731896' (Nullable = false) (Size = 450), @p39='70319c2b-05b2-4b40-bcd9-b0da44731896' (Nullable = false) (Size = 450), @p2='0', @p3='Active' (Nullable = false) (Size = 20), @p4='77 Brewers Lane' (Size = 4000), @p5=NULL (Size = 4000), @p6='Gosport' (Size = 4000), @p7='2c5a4e3a-895e-40f9-aa06-3dad73a2f0c8' (Size = 4000), @p40='4102afef-dcab-4b63-8b73-336aa0f0c60a' (Size = 4000), @p8='England' (Size = 4000), @p9='2025-07-22T12:41:07.5637595+00:00', @p10=NULL (DbType = DateTimeOffset), @p11='th3dixon@gmail.com' (Size = 256), @p12='True', @p13='Chris' (Nullable = false) (Size = 100), @p14=NULL (Size = 20), @p15='True', @p16='False', @p17='Dixon' (Nullable = false) (Size = 100), @p18=NULL (DbType = DateTimeOffset), @p19='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p20='True', @p21=NULL (DbType = DateTimeOffset), @p22='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='TH3DIXON@GMAIL.COM' (Size = 256), @p25='AQAAAAIAAYagAAAAEBAomkpecGvGjrhJACMQ6sAu2evY4sSMgRtLDEqCGByh+5jC9osQbIToZq0tAjDRtQ==' (Size = 4000), @p26='07854514514' (Size = 4000), @p27='False', @p28='PO13 0JX' (Size = 4000), @p29='en' (Nullable = false) (Size = 10), @p30=NULL (Size = 500), @p31=NULL (Size = 4000), @p32='F7BLKWMWCYWOW6JD4DFV6ECCXQIMW5D5' (Size = 4000), @p33='Free' (Nullable = false) (Size = 20), @p34='UTC' (Nullable = false) (Size = 50), @p35='False', @p36='2025-07-22T12:41:11.1227680+00:00', @p37='th3dixon@gmail.com' (Size = 256), @p38='1'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [AccountStatus] = @p3, [AddressLine1] = @p4, [AddressLine2] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [County] = @p8, [CreatedAt] = @p9, [DateOfBirth] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [FirstName] = @p13, [Gender] = @p14, [IsActive] = @p15, [IsKYCVerified] = @p16, [LastName] = @p17, [LastSeenAt] = @p18, [Latitude] = @p19, [LockoutEnabled] = @p20, [LockoutEnd] = @p21, [Longitude] = @p22, [NormalizedEmail] = @p23, [NormalizedUserName] = @p24, [PasswordHash] = @p25, [PhoneNumber] = @p26, [PhoneNumberConfirmed] = @p27, [PostCode] = @p28, [PreferredLanguage] = @p29, [ProfileImageUrl] = @p30, [ProfilePhotoUrl] = @p31, [SecurityStamp] = @p32, [SubscriptionType] = @p33, [TimeZone] = @p34, [TwoFactorEnabled] = @p35, [UpdatedAt] = @p36, [UserName] = @p37, [UserType] = @p38
OUTPUT 1
WHERE [Id] = @p39 AND [ConcurrencyStamp] = @p40;
2025-07-22 13:41:11.669 +01:00 [INF] Roles assigned successfully for user: th3dixon@gmail.com, Type: "PetOwner"
2025-07-22 13:41:11.698 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='70319c2b-05b2-4b40-bcd9-b0da44731896' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-22 13:41:11.809 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='20944897-f270-41b8-0101-08ddc91d0a21', @p1='2025-07-22T12:41:11.7917391+00:00', @p2=NULL (Size = 45), @p3='2025-08-21T12:41:11.7588748+00:00', @p4='True', @p5=NULL (Size = 100), @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Size = 45), @p8='O22bGvbYoE7auI7E16xB6AePqkNfWCsuUc0x41zJvCJIB9sLjDcuOBSyBYYQRT8N+Z0P6upi6lKUGsiqRVrLmA==' (Nullable = false) (Size = 500), @p9='70319c2b-05b2-4b40-bcd9-b0da44731896' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [ExpiresAt], [IsActive], [ReasonRevoked], [RevokedAt], [RevokedByIp], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-22 13:41:11.813 +01:00 [INF] Registration completed successfully for: th3dixon@gmail.com
2025-07-22 13:41:11.814 +01:00 [INF] New user registered: th3dixon@gmail.com
2025-07-22 13:41:11.815 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7453.4897ms.
2025-07-22 13:41:11.817 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 13:41:11.827 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) in 7541.3624ms
2025-07-22 13:41:11.828 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:41:11.830 +01:00 [INF] HTTP POST /api/v1/auth/register responded 200 in 7558.3937 ms
2025-07-22 13:41:11.833 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - 200 null application/json; charset=utf-8 7564.7307ms
2025-07-22 13:41:35.931 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 491
2025-07-22 13:41:35.936 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:41:35.938 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 13:41:35.989 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:41:35.991 +01:00 [INF] Starting registration for user: th3dixon@gmail.com
2025-07-22 13:41:36.513 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:41:36.516 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 525.4949ms.
2025-07-22 13:41:36.518 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 13:41:36.519 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) in 578.6451ms
2025-07-22 13:41:36.521 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:41:36.521 +01:00 [INF] HTTP POST /api/v1/auth/register responded 400 in 585.4193 ms
2025-07-22 13:41:36.524 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - 400 null application/json; charset=utf-8 593.4459ms
2025-07-22 13:41:49.374 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:41:49.378 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:41:49.380 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:41:49.399 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:41:49.401 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1163ms.
2025-07-22 13:41:49.403 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:41:49.405 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 22.7429ms
2025-07-22 13:41:49.407 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:41:49.408 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 31.4202 ms
2025-07-22 13:41:49.411 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 37.3339ms
2025-07-22 13:42:47.602 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=PO13%200JX&max=1 - null null
2025-07-22 13:42:47.605 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 13:42:47.612 +01:00 [INF] Route matched with {action = "SearchAddresses", controller = "AddressLookup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAddresses(System.String, Int32) on controller MeAndMyDog.API.Controllers.AddressLookupController (MeAndMyDog.API).
2025-07-22 13:42:47.637 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:42:47.722 +01:00 [ERR] Error searching addresses for term: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'sp_AddressAutocomplete'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 434
   at MeAndMyDog.API.Services.Implementations.AddressLookupService.SearchAddressesAsync(String searchTerm, Int32 maxResults) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\AddressLookupService.cs:line 45
ClientConnectionId:64b7102f-3ac7-469d-a9d4-7091f3872e03
Error Number:2812,State:62,Class:16
2025-07-22 13:42:47.745 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 106.4143ms.
2025-07-22 13:42:47.746 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:42:47.750 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API) in 135.9623ms
2025-07-22 13:42:47.752 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AddressLookupController.SearchAddresses (MeAndMyDog.API)'
2025-07-22 13:42:47.753 +01:00 [INF] HTTP GET /api/v1/AddressLookup/search responded 400 in 148.3065 ms
2025-07-22 13:42:47.756 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/AddressLookup/search?q=PO13%200JX&max=1 - 400 null application/json; charset=utf-8 154.0064ms
2025-07-22 13:42:47.795 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 296
2025-07-22 13:42:47.798 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:42:47.799 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 13:42:47.827 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:42:47.829 +01:00 [INF] Starting registration for user: thedixon@hotmail.com
2025-07-22 13:42:48.352 +01:00 [INF] Executed DbCommand (521ms) [Parameters=[@__normalizedEmail_0='THEDIXON@HOTMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:42:50.974 +01:00 [INF] Executed DbCommand (528ms) [Parameters=[@__normalizedUserName_0='THEDIXON@HOTMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 13:42:51.490 +01:00 [INF] Executed DbCommand (512ms) [Parameters=[@__normalizedEmail_0='THEDIXON@HOTMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:42:52.023 +01:00 [INF] Executed DbCommand (530ms) [Parameters=[@p0='168a5ec0-12c1-49b3-8a38-f692c9dbe13d' (Nullable = false) (Size = 450), @p1='0', @p2='Active' (Nullable = false) (Size = 20), @p3=NULL (Size = 4000), @p4=NULL (Size = 4000), @p5=NULL (Size = 4000), @p6='7df54428-79ed-4450-922a-ed670797b17e' (Size = 4000), @p7=NULL (Size = 4000), @p8='2025-07-22T12:42:51.4930277+00:00', @p9=NULL (DbType = DateTimeOffset), @p10='thedixon@hotmail.com' (Size = 256), @p11='True', @p12='Chris' (Nullable = false) (Size = 100), @p13=NULL (Size = 20), @p14='True', @p15='False', @p16='Dixon' (Nullable = false) (Size = 100), @p17=NULL (DbType = DateTimeOffset), @p18='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p19='True', @p20=NULL (DbType = DateTimeOffset), @p21='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p22='THEDIXON@HOTMAIL.COM' (Size = 256), @p23='THEDIXON@HOTMAIL.COM' (Size = 256), @p24='AQAAAAIAAYagAAAAENhH/3gfDTkwFXueY/0DZ0+0JpX2xWTILKTsig8Ln2khaO8RQXmpCv0OkXZMnEr2wQ==' (Size = 4000), @p25='07854524514' (Size = 4000), @p26='False', @p27='PO13 0JX' (Size = 4000), @p28='en' (Nullable = false) (Size = 10), @p29=NULL (Size = 500), @p30=NULL (Size = 4000), @p31='OWPT7J2RNXXELS3VMVOTSYNNNONVYZWI' (Size = 4000), @p32='Free' (Nullable = false) (Size = 20), @p33='UTC' (Nullable = false) (Size = 50), @p34='False', @p35='2025-07-22T12:42:51.4930102+00:00', @p36='thedixon@hotmail.com' (Size = 256), @p37='0'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [AccountStatus], [AddressLine1], [AddressLine2], [City], [ConcurrencyStamp], [County], [CreatedAt], [DateOfBirth], [Email], [EmailConfirmed], [FirstName], [Gender], [IsActive], [IsKYCVerified], [LastName], [LastSeenAt], [Latitude], [LockoutEnabled], [LockoutEnd], [Longitude], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PostCode], [PreferredLanguage], [ProfileImageUrl], [ProfilePhotoUrl], [SecurityStamp], [SubscriptionType], [TimeZone], [TwoFactorEnabled], [UpdatedAt], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37);
2025-07-22 13:42:54.149 +01:00 [INF] User account created successfully for: thedixon@hotmail.com
2025-07-22 13:42:59.198 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-22 13:42:59.215 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 13:42:59.231 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='168a5ec0-12c1-49b3-8a38-f692c9dbe13d' (Size = 450), @__p_1='6EADE1D8-6A9A-4E1A-B641-DF9E2E07C4D6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-22 13:42:59.245 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 13:42:59.772 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@__normalizedUserName_0='THEDIXON@HOTMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 13:43:00.302 +01:00 [INF] Executed DbCommand (527ms) [Parameters=[@__normalizedEmail_0='THEDIXON@HOTMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 13:43:00.833 +01:00 [INF] Executed DbCommand (515ms) [Parameters=[@p0='6EADE1D8-6A9A-4E1A-B641-DF9E2E07C4D6' (Nullable = false) (Size = 450), @p1='168a5ec0-12c1-49b3-8a38-f692c9dbe13d' (Nullable = false) (Size = 450), @p39='168a5ec0-12c1-49b3-8a38-f692c9dbe13d' (Nullable = false) (Size = 450), @p2='0', @p3='Active' (Nullable = false) (Size = 20), @p4=NULL (Size = 4000), @p5=NULL (Size = 4000), @p6=NULL (Size = 4000), @p7='bf41cc8f-1aac-4a1a-a555-0b38ce54ea5d' (Size = 4000), @p40='7df54428-79ed-4450-922a-ed670797b17e' (Size = 4000), @p8=NULL (Size = 4000), @p9='2025-07-22T12:42:51.4930277+00:00', @p10=NULL (DbType = DateTimeOffset), @p11='thedixon@hotmail.com' (Size = 256), @p12='True', @p13='Chris' (Nullable = false) (Size = 100), @p14=NULL (Size = 20), @p15='True', @p16='False', @p17='Dixon' (Nullable = false) (Size = 100), @p18=NULL (DbType = DateTimeOffset), @p19='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p20='True', @p21=NULL (DbType = DateTimeOffset), @p22='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p23='THEDIXON@HOTMAIL.COM' (Size = 256), @p24='THEDIXON@HOTMAIL.COM' (Size = 256), @p25='AQAAAAIAAYagAAAAENhH/3gfDTkwFXueY/0DZ0+0JpX2xWTILKTsig8Ln2khaO8RQXmpCv0OkXZMnEr2wQ==' (Size = 4000), @p26='07854524514' (Size = 4000), @p27='False', @p28='PO13 0JX' (Size = 4000), @p29='en' (Nullable = false) (Size = 10), @p30=NULL (Size = 500), @p31=NULL (Size = 4000), @p32='OWPT7J2RNXXELS3VMVOTSYNNNONVYZWI' (Size = 4000), @p33='Free' (Nullable = false) (Size = 20), @p34='UTC' (Nullable = false) (Size = 50), @p35='False', @p36='2025-07-22T12:43:00.3061554+00:00', @p37='thedixon@hotmail.com' (Size = 256), @p38='0'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [AccountStatus] = @p3, [AddressLine1] = @p4, [AddressLine2] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [County] = @p8, [CreatedAt] = @p9, [DateOfBirth] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [FirstName] = @p13, [Gender] = @p14, [IsActive] = @p15, [IsKYCVerified] = @p16, [LastName] = @p17, [LastSeenAt] = @p18, [Latitude] = @p19, [LockoutEnabled] = @p20, [LockoutEnd] = @p21, [Longitude] = @p22, [NormalizedEmail] = @p23, [NormalizedUserName] = @p24, [PasswordHash] = @p25, [PhoneNumber] = @p26, [PhoneNumberConfirmed] = @p27, [PostCode] = @p28, [PreferredLanguage] = @p29, [ProfileImageUrl] = @p30, [ProfilePhotoUrl] = @p31, [SecurityStamp] = @p32, [SubscriptionType] = @p33, [TimeZone] = @p34, [TwoFactorEnabled] = @p35, [UpdatedAt] = @p36, [UserName] = @p37, [UserType] = @p38
OUTPUT 1
WHERE [Id] = @p39 AND [ConcurrencyStamp] = @p40;
2025-07-22 13:43:00.850 +01:00 [WRN] Unknown user type "0" for user thedixon@hotmail.com
2025-07-22 13:43:00.853 +01:00 [INF] Roles assigned successfully for user: thedixon@hotmail.com, Type: "0"
2025-07-22 13:43:02.479 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='168a5ec0-12c1-49b3-8a38-f692c9dbe13d' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-22 13:43:02.497 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='6c7d0b19-9ddd-4bf3-0102-08ddc91d0a21', @p1='2025-07-22T12:43:02.4833272+00:00', @p2=NULL (Size = 45), @p3='2025-08-21T12:43:02.4820397+00:00', @p4='True', @p5=NULL (Size = 100), @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Size = 45), @p8='m8Y7sGTJtIx1JD6xLq0i0i0AK6v8MlgPi0/OKw65i6JJi9EdAztk0K7vjqT1xyzPOXXfahCd2/9FYgeTmkT34w==' (Nullable = false) (Size = 500), @p9='168a5ec0-12c1-49b3-8a38-f692c9dbe13d' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [ExpiresAt], [IsActive], [ReasonRevoked], [RevokedAt], [RevokedByIp], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-22 13:43:06.748 +01:00 [INF] Registration completed successfully for: thedixon@hotmail.com
2025-07-22 13:43:10.183 +01:00 [INF] New user registered: thedixon@hotmail.com
2025-07-22 13:43:10.185 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22355.9461ms.
2025-07-22 13:43:10.187 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 13:43:10.189 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) in 22388.522ms
2025-07-22 13:43:10.193 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:43:10.194 +01:00 [INF] HTTP POST /api/v1/auth/register responded 200 in 22396.3939 ms
2025-07-22 13:43:10.196 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - 200 null application/json; charset=utf-8 22401.5607ms
2025-07-22 13:46:53.982 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:46:54.014 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:46:54.027 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:46:54.099 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:46:54.102 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1104ms.
2025-07-22 13:46:54.107 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:46:54.110 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 60.6956ms
2025-07-22 13:46:54.111 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:46:54.112 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 97.8127 ms
2025-07-22 13:46:54.114 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 132.2423ms
2025-07-22 13:47:01.077 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO14%201RD&maxResults=1 - null null
2025-07-22 13:47:01.080 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 13:47:01.088 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 13:47:01.115 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:47:01.851 +01:00 [INF] Executed DbCommand (620ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='po14 1rd%' (Size = 10), @__Replace_1_startswith='po141rd%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-22 13:47:01.872 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-22 13:47:03.899 +01:00 [INF] Executed DbCommand (2,010ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po14 1rd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-22 13:47:04.427 +01:00 [INF] Executed DbCommand (518ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po14 1rd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-22 13:47:04.451 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po14 1rd%' (Size = 4000), @__queryLower_0_startswith_1='po14 1rd%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-22 13:47:04.455 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3337.6518ms.
2025-07-22 13:47:04.457 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 13:47:04.461 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3370.8398ms
2025-07-22 13:47:04.462 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 13:47:04.463 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3382.9963 ms
2025-07-22 13:47:04.467 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO14%201RD&maxResults=1 - 200 null application/json; charset=utf-8 3389.4254ms
2025-07-22 13:47:04.478 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO14%201RD&maxResults=1 - null null
2025-07-22 13:47:04.482 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 13:47:04.484 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 13:47:04.510 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:47:04.512 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1631ms.
2025-07-22 13:47:04.513 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 13:47:04.514 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 28.0639ms
2025-07-22 13:47:04.516 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 13:47:04.517 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 34.8615 ms
2025-07-22 13:47:04.519 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO14%201RD&maxResults=1 - 200 null application/json; charset=utf-8 41.1448ms
2025-07-22 13:47:04.664 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 13:47:04.668 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 13:47:04.672 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 13:47:04.673 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 13:47:04.675 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 13:47:04.677 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 13:47:04.746 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:47:04.746 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:47:04.749 +01:00 [INF] Provider search request received for location: null
2025-07-22 13:47:04.749 +01:00 [INF] Provider search request received for location: null
2025-07-22 13:47:04.757 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8396815,"Longitude":-1.1835489,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 13:47:04.757 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8396815,"Longitude":-1.1835489,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 13:47:04.773 +01:00 [INF] Using provided coordinates: Lat=50.8396815, Lng=-1.1835489
2025-07-22 13:47:04.785 +01:00 [INF] Using provided coordinates: Lat=50.8396815, Lng=-1.1835489
2025-07-22 13:47:04.794 +01:00 [INF] Executing real provider search at 50.8396815,-1.1835489 within 25 miles
2025-07-22 13:47:04.794 +01:00 [INF] Executing real provider search at 50.8396815,-1.1835489 within 25 miles
2025-07-22 13:47:04.877 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__serviceGuids_0='["2124f64c-8805-4510-977c-0892cebdf52d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 13:47:04.960 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__serviceGuids_0='["2124f64c-8805-4510-977c-0892cebdf52d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 13:47:05.506 +01:00 [INF] Executed DbCommand (525ms) [Parameters=[@__Cos_1='0.6314924456336741', @__longitude_2='-1.1835489', @__Sin_3='0.7753820291363485', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 13:47:05.506 +01:00 [INF] Executed DbCommand (525ms) [Parameters=[@__Cos_1='0.6314924456336741', @__longitude_2='-1.1835489', @__Sin_3='0.7753820291363485', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 13:47:05.510 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-22 13:47:05.512 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-22 13:47:05.514 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-22 13:47:05.514 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-22 13:47:05.515 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-22 13:47:05.516 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-22 13:47:05.517 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 770.6446ms.
2025-07-22 13:47:05.518 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 770.4682ms.
2025-07-22 13:47:05.520 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 13:47:05.521 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 13:47:05.554 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 877.1089ms
2025-07-22 13:47:05.554 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 874.3901ms
2025-07-22 13:47:05.574 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 13:47:05.576 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 13:47:05.577 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 908.7942 ms
2025-07-22 13:47:05.578 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 902.7953 ms
2025-07-22 13:47:05.580 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 915.7833ms
2025-07-22 13:47:05.582 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 909.5682ms
2025-07-22 13:47:10.402 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-22 13:47:10.405 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 13:47:10.406 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 13:47:10.432 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:47:11.043 +01:00 [INF] Executed DbCommand (608ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='po13 0jx%' (Size = 10), @__Replace_1_startswith='po130jx%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-22 13:47:13.006 +01:00 [INF] Executed DbCommand (1,960ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-22 13:47:13.531 +01:00 [INF] Executed DbCommand (521ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-22 13:47:13.546 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 4000), @__queryLower_0_startswith_1='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-22 13:47:13.548 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3113.8476ms.
2025-07-22 13:47:13.550 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 13:47:13.551 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3142.4508ms
2025-07-22 13:47:13.552 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 13:47:13.554 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3149.0600 ms
2025-07-22 13:47:13.556 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 3154.8361ms
2025-07-22 13:47:13.711 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 13:47:13.715 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 13:47:13.716 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 13:47:13.741 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:47:13.742 +01:00 [INF] Provider search request received for location: null
2025-07-22 13:47:13.743 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 13:47:13.767 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 13:47:13.768 +01:00 [INF] Executing real provider search at 50.8205301,-1.1713195 within 25 miles
2025-07-22 13:47:13.783 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__serviceGuids_0='["2124f64c-8805-4510-977c-0892cebdf52d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 13:47:14.313 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@__Cos_1='0.6317515856612386', @__longitude_2='-1.1713195', @__Sin_3='0.7751709063261538', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 13:47:14.315 +01:00 [INF] Found 0 real providers within 25 miles
2025-07-22 13:47:14.318 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-22 13:47:14.319 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-22 13:47:14.320 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 577.85ms.
2025-07-22 13:47:14.321 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 13:47:14.323 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 604.6973ms
2025-07-22 13:47:14.324 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 13:47:14.326 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 610.8628 ms
2025-07-22 13:47:14.328 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 616.6191ms
2025-07-22 13:47:24.179 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-22 13:47:24.184 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 13:47:24.186 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 13:47:24.207 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:47:24.208 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0611ms.
2025-07-22 13:47:24.213 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 13:47:24.214 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 26.8815ms
2025-07-22 13:47:24.216 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 13:47:24.218 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 34.9624 ms
2025-07-22 13:47:24.231 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 51.7669ms
2025-07-22 13:47:24.307 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 13:47:24.315 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 13:47:24.320 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 13:47:24.345 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:47:24.346 +01:00 [INF] Provider search request received for location: null
2025-07-22 13:47:24.347 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 13:47:24.359 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 13:47:24.361 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_25_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 13:47:24.362 +01:00 [INF] Provider search completed. Found 0 providers in 0ms
2025-07-22 13:47:24.363 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.3785ms.
2025-07-22 13:47:24.364 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 13:47:24.366 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 44.3323ms
2025-07-22 13:47:24.367 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 13:47:24.370 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 54.7679 ms
2025-07-22 13:47:24.371 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 64.87ms
2025-07-22 13:48:05.466 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:48:05.471 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:48:05.473 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:48:05.510 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:48:05.511 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0853ms.
2025-07-22 13:48:05.514 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:48:05.516 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 41.1322ms
2025-07-22 13:48:05.520 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:48:05.527 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 56.7049 ms
2025-07-22 13:48:05.534 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 67.3122ms
2025-07-22 13:54:30.579 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:54:30.583 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:54:30.585 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:54:30.604 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:54:30.608 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1093ms.
2025-07-22 13:54:30.610 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:54:30.612 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.7249ms
2025-07-22 13:54:30.614 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:54:30.615 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 32.4929 ms
2025-07-22 13:54:30.619 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 39.4736ms
2025-07-22 13:57:37.063 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 13:57:38.104 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 13:57:38.304 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 13:57:38.373 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 13:57:39.194 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 13:57:40.095 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 13:57:40.423 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 13:57:40.581 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:57:40.584 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:57:40.587 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:57:40.588 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:57:40.591 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:57:40.593 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:57:40.596 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 13:57:41.835 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:57:41.858 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 13:57:41.901 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 13:57:41.988 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 13:57:42.066 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 13:57:42.081 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 13:57:42.101 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 13:57:42.118 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 13:57:42.148 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 13:57:42.157 +01:00 [INF] Database migrations applied successfully
2025-07-22 13:57:42.162 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 13:57:42.200 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 13:57:42.533 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 13:57:42.535 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 13:57:42.642 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 13:57:42.649 +01:00 [INF] Hosting environment: Development
2025-07-22 13:57:42.652 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 13:57:42.833 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:57:42.945 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 13:57:43.391 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:57:43.407 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:57:43.539 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:57:43.587 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 641.9519ms
2025-07-22 13:57:43.617 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 13:57:43.628 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 10.8985ms
2025-07-22 13:57:44.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 13:57:44.191 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.2092ms
2025-07-22 13:57:44.635 +01:00 [INF] Executed DbCommand (534ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 13:57:44.692 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1147.1024ms.
2025-07-22 13:57:44.707 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:57:44.766 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1333.3125ms
2025-07-22 13:57:44.769 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:57:44.774 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1717.2077 ms
2025-07-22 13:57:44.784 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1961.0585ms
2025-07-22 13:57:45.380 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 13:57:45.666 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 285.8336ms
2025-07-22 13:57:47.416 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:57:47.425 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:57:47.427 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:57:47.466 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:57:47.468 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.3789ms.
2025-07-22 13:57:47.470 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:57:47.473 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 35.6517ms
2025-07-22 13:57:47.477 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:57:47.478 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 54.4731 ms
2025-07-22 13:57:47.482 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 65.327ms
2025-07-22 13:58:20.557 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 601
2025-07-22 13:58:20.563 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:58:20.573 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 13:58:20.635 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 13:58:20.647 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) in 72.9559ms
2025-07-22 13:58:20.649 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:58:20.650 +01:00 [INF] HTTP POST /api/v1/auth/register responded 400 in 89.5279 ms
2025-07-22 13:58:20.653 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - 400 null application/problem+json; charset=utf-8 95.781ms
2025-07-22 13:58:28.868 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 601
2025-07-22 13:58:28.872 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:58:28.874 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 13:58:28.916 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 13:58:28.917 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) in 41.228ms
2025-07-22 13:58:28.919 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 13:58:28.920 +01:00 [INF] HTTP POST /api/v1/auth/register responded 400 in 47.6672 ms
2025-07-22 13:58:28.922 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - 400 null application/problem+json; charset=utf-8 53.9731ms
2025-07-22 13:59:58.699 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 13:59:58.702 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:59:58.704 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 13:59:58.721 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 13:59:58.725 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4382ms.
2025-07-22 13:59:58.727 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 13:59:58.730 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.7946ms
2025-07-22 13:59:58.732 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 13:59:58.733 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 32.0922 ms
2025-07-22 13:59:58.736 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 37.2069ms
2025-07-22 14:00:32.301 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:00:32.304 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:00:32.305 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:00:32.321 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:00:32.323 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0638ms.
2025-07-22 14:00:32.325 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:00:32.327 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 19.5744ms
2025-07-22 14:00:32.328 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:00:32.330 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 26.0456 ms
2025-07-22 14:00:32.333 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 31.8945ms
2025-07-22 14:01:09.310 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 590
2025-07-22 14:01:09.313 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 14:01:09.315 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 14:01:09.363 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:01:09.368 +01:00 [INF] Starting registration for user: th3dixon@gmail.com
2025-07-22 14:01:10.110 +01:00 [INF] Executed DbCommand (550ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:01:10.165 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedPostcode_0='PO13 0JX' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PostcodeId], [p].[DateIntroduced], [p].[DateTerminated], [p].[Easting], [p].[GridReference], [p].[InwardCode], [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[Northing], [p].[OutwardCode], [p].[PostcodeArea], [p].[Postcode], [p].[PostcodeDistrict], [p].[PostcodeFormatted], [p].[PostcodeSector]
FROM [Postcodes] AS [p]
WHERE [p].[PostcodeFormatted] = @__normalizedPostcode_0 AND [p].[IsActive] = CAST(1 AS bit)
2025-07-22 14:01:10.785 +01:00 [ERR] Failed executing DbCommand (525ms) [Parameters=[@__normalizedCityName_0='po13 0jx' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[AlternativeName], [c].[CityName], [c].[CountyId], [c].[IsActive], [c].[Latitude], [c].[Longitude], [c].[Population], [c0].[CountyId], [c0].[CountryId], [c0].[CountyCode], [c0].[CountyName], [c0].[IsActive]
FROM [Cities] AS [c]
INNER JOIN [Counties] AS [c0] ON [c].[CountyId] = [c0].[CountyId]
WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL AND (LOWER([c].[CityName]) = @__normalizedCityName_0 OR ([c].[AlternativeName] IS NOT NULL AND LOWER([c].[AlternativeName]) = @__normalizedCityName_0))
ORDER BY CASE
    WHEN [c].[Population] IS NOT NULL THEN 0
    ELSE 1
END, [c].[Population] DESC
2025-07-22 14:01:10.829 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MeAndMyDog.API.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a2bb73aa-942b-4d8d-842c-4232826d3171
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a2bb73aa-942b-4d8d-842c-4232826d3171
Error Number:207,State:1,Class:16
2025-07-22 14:01:10.912 +01:00 [ERR] Error looking up city in database: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.LocationService.GetCoordinatesFromDatabaseCity(String cityName, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\LocationService.cs:line 593
ClientConnectionId:a2bb73aa-942b-4d8d-842c-4232826d3171
Error Number:207,State:1,Class:16
2025-07-22 14:01:10.942 +01:00 [INF] Start processing HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 14:01:10.944 +01:00 [INF] Sending HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 14:01:11.431 +01:00 [INF] Received HTTP response headers after 482.969ms - 200
2025-07-22 14:01:11.435 +01:00 [INF] End processing HTTP request after 494.3852ms - 200
2025-07-22 14:01:11.442 +01:00 [INF] Successfully geocoded 'PO13 0JX' using Google Places API: 50.8205301, -1.1713195
2025-07-22 14:01:30.733 +01:00 [INF] Executed DbCommand (520ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 14:01:31.263 +01:00 [INF] Executed DbCommand (522ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:01:32.079 +01:00 [INF] Executed DbCommand (527ms) [Parameters=[@p0='fe74f624-4274-4d18-b1c5-cf121a0f26c8' (Nullable = false) (Size = 450), @p1='0', @p2='Active' (Nullable = false) (Size = 20), @p3='77 Brewers Lane' (Size = 4000), @p4=NULL (Size = 4000), @p5='Gosport' (Size = 4000), @p6='df27f42f-41a5-4260-beb3-189fb0dbcf37' (Size = 4000), @p7='England' (Size = 4000), @p8='2025-07-22T13:01:31.4777675+00:00', @p9=NULL (DbType = DateTimeOffset), @p10='th3dixon@gmail.com' (Size = 256), @p11='True', @p12='Chris' (Nullable = false) (Size = 100), @p13=NULL (Size = 20), @p14='True', @p15='False', @p16='Dixon' (Nullable = false) (Size = 100), @p17=NULL (DbType = DateTimeOffset), @p18='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p19='True', @p20=NULL (DbType = DateTimeOffset), @p21='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p22='TH3DIXON@GMAIL.COM' (Size = 256), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='AQAAAAIAAYagAAAAEHI50Q/sdMb1XeO0Wef/uo67TF0hhXdXVrYmoFxt67c3NKHRFm54C1/lCEc+JX753g==' (Size = 4000), @p25='078543625151' (Size = 4000), @p26='False', @p27='PO13 0JX' (Size = 4000), @p28='en' (Nullable = false) (Size = 10), @p29=NULL (Size = 500), @p30=NULL (Size = 4000), @p31='2YI3PB2EOP3RHWTFCEIOR3D3KONAZ2QN' (Size = 4000), @p32='Free' (Nullable = false) (Size = 20), @p33='UTC' (Nullable = false) (Size = 50), @p34='False', @p35='2025-07-22T13:01:31.4729676+00:00', @p36='th3dixon@gmail.com' (Size = 256), @p37='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [AccountStatus], [AddressLine1], [AddressLine2], [City], [ConcurrencyStamp], [County], [CreatedAt], [DateOfBirth], [Email], [EmailConfirmed], [FirstName], [Gender], [IsActive], [IsKYCVerified], [LastName], [LastSeenAt], [Latitude], [LockoutEnabled], [LockoutEnd], [Longitude], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PostCode], [PreferredLanguage], [ProfileImageUrl], [ProfilePhotoUrl], [SecurityStamp], [SubscriptionType], [TimeZone], [TwoFactorEnabled], [UpdatedAt], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37);
2025-07-22 14:01:34.116 +01:00 [INF] User account created successfully for: th3dixon@gmail.com
2025-07-22 14:01:34.582 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-22 14:01:34.625 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:01:34.656 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='fe74f624-4274-4d18-b1c5-cf121a0f26c8' (Size = 450), @__p_1='6EADE1D8-6A9A-4E1A-B641-DF9E2E07C4D6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-22 14:01:34.675 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:01:35.215 +01:00 [INF] Executed DbCommand (526ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 14:01:35.748 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:01:36.309 +01:00 [INF] Executed DbCommand (518ms) [Parameters=[@p0='6EADE1D8-6A9A-4E1A-B641-DF9E2E07C4D6' (Nullable = false) (Size = 450), @p1='fe74f624-4274-4d18-b1c5-cf121a0f26c8' (Nullable = false) (Size = 450), @p39='fe74f624-4274-4d18-b1c5-cf121a0f26c8' (Nullable = false) (Size = 450), @p2='0', @p3='Active' (Nullable = false) (Size = 20), @p4='77 Brewers Lane' (Size = 4000), @p5=NULL (Size = 4000), @p6='Gosport' (Size = 4000), @p7='b639213f-3344-47b2-a242-fe9b3008c0c6' (Size = 4000), @p40='df27f42f-41a5-4260-beb3-189fb0dbcf37' (Size = 4000), @p8='England' (Size = 4000), @p9='2025-07-22T13:01:31.4777675+00:00', @p10=NULL (DbType = DateTimeOffset), @p11='th3dixon@gmail.com' (Size = 256), @p12='True', @p13='Chris' (Nullable = false) (Size = 100), @p14=NULL (Size = 20), @p15='True', @p16='False', @p17='Dixon' (Nullable = false) (Size = 100), @p18=NULL (DbType = DateTimeOffset), @p19='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p20='True', @p21=NULL (DbType = DateTimeOffset), @p22='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='TH3DIXON@GMAIL.COM' (Size = 256), @p25='AQAAAAIAAYagAAAAEHI50Q/sdMb1XeO0Wef/uo67TF0hhXdXVrYmoFxt67c3NKHRFm54C1/lCEc+JX753g==' (Size = 4000), @p26='078543625151' (Size = 4000), @p27='False', @p28='PO13 0JX' (Size = 4000), @p29='en' (Nullable = false) (Size = 10), @p30=NULL (Size = 500), @p31=NULL (Size = 4000), @p32='2YI3PB2EOP3RHWTFCEIOR3D3KONAZ2QN' (Size = 4000), @p33='Free' (Nullable = false) (Size = 20), @p34='UTC' (Nullable = false) (Size = 50), @p35='False', @p36='2025-07-22T13:01:35.7631429+00:00', @p37='th3dixon@gmail.com' (Size = 256), @p38='1'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [AccountStatus] = @p3, [AddressLine1] = @p4, [AddressLine2] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [County] = @p8, [CreatedAt] = @p9, [DateOfBirth] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [FirstName] = @p13, [Gender] = @p14, [IsActive] = @p15, [IsKYCVerified] = @p16, [LastName] = @p17, [LastSeenAt] = @p18, [Latitude] = @p19, [LockoutEnabled] = @p20, [LockoutEnd] = @p21, [Longitude] = @p22, [NormalizedEmail] = @p23, [NormalizedUserName] = @p24, [PasswordHash] = @p25, [PhoneNumber] = @p26, [PhoneNumberConfirmed] = @p27, [PostCode] = @p28, [PreferredLanguage] = @p29, [ProfileImageUrl] = @p30, [ProfilePhotoUrl] = @p31, [SecurityStamp] = @p32, [SubscriptionType] = @p33, [TimeZone] = @p34, [TwoFactorEnabled] = @p35, [UpdatedAt] = @p36, [UserName] = @p37, [UserType] = @p38
OUTPUT 1
WHERE [Id] = @p39 AND [ConcurrencyStamp] = @p40;
2025-07-22 14:01:36.341 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='PETOWNER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-22 14:01:36.366 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedRoleName_0='PETOWNER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:01:36.386 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='fe74f624-4274-4d18-b1c5-cf121a0f26c8' (Size = 450), @__p_1='0004F3E4-3456-42BB-BFDB-4E63E7A55B77' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-22 14:01:36.401 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedRoleName_0='PETOWNER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:01:36.922 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 14:01:37.451 +01:00 [INF] Executed DbCommand (526ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:01:37.981 +01:00 [INF] Executed DbCommand (515ms) [Parameters=[@p0='0004F3E4-3456-42BB-BFDB-4E63E7A55B77' (Nullable = false) (Size = 450), @p1='fe74f624-4274-4d18-b1c5-cf121a0f26c8' (Nullable = false) (Size = 450), @p39='fe74f624-4274-4d18-b1c5-cf121a0f26c8' (Nullable = false) (Size = 450), @p2='0', @p3='Active' (Nullable = false) (Size = 20), @p4='77 Brewers Lane' (Size = 4000), @p5=NULL (Size = 4000), @p6='Gosport' (Size = 4000), @p7='2c1513cb-b81d-4c86-8442-4c64f2370d41' (Size = 4000), @p40='b639213f-3344-47b2-a242-fe9b3008c0c6' (Size = 4000), @p8='England' (Size = 4000), @p9='2025-07-22T13:01:31.4777675+00:00', @p10=NULL (DbType = DateTimeOffset), @p11='th3dixon@gmail.com' (Size = 256), @p12='True', @p13='Chris' (Nullable = false) (Size = 100), @p14=NULL (Size = 20), @p15='True', @p16='False', @p17='Dixon' (Nullable = false) (Size = 100), @p18=NULL (DbType = DateTimeOffset), @p19='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p20='True', @p21=NULL (DbType = DateTimeOffset), @p22='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='TH3DIXON@GMAIL.COM' (Size = 256), @p25='AQAAAAIAAYagAAAAEHI50Q/sdMb1XeO0Wef/uo67TF0hhXdXVrYmoFxt67c3NKHRFm54C1/lCEc+JX753g==' (Size = 4000), @p26='078543625151' (Size = 4000), @p27='False', @p28='PO13 0JX' (Size = 4000), @p29='en' (Nullable = false) (Size = 10), @p30=NULL (Size = 500), @p31=NULL (Size = 4000), @p32='2YI3PB2EOP3RHWTFCEIOR3D3KONAZ2QN' (Size = 4000), @p33='Free' (Nullable = false) (Size = 20), @p34='UTC' (Nullable = false) (Size = 50), @p35='False', @p36='2025-07-22T13:01:37.4540115+00:00', @p37='th3dixon@gmail.com' (Size = 256), @p38='1'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [AccountStatus] = @p3, [AddressLine1] = @p4, [AddressLine2] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [County] = @p8, [CreatedAt] = @p9, [DateOfBirth] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [FirstName] = @p13, [Gender] = @p14, [IsActive] = @p15, [IsKYCVerified] = @p16, [LastName] = @p17, [LastSeenAt] = @p18, [Latitude] = @p19, [LockoutEnabled] = @p20, [LockoutEnd] = @p21, [Longitude] = @p22, [NormalizedEmail] = @p23, [NormalizedUserName] = @p24, [PasswordHash] = @p25, [PhoneNumber] = @p26, [PhoneNumberConfirmed] = @p27, [PostCode] = @p28, [PreferredLanguage] = @p29, [ProfileImageUrl] = @p30, [ProfilePhotoUrl] = @p31, [SecurityStamp] = @p32, [SubscriptionType] = @p33, [TimeZone] = @p34, [TwoFactorEnabled] = @p35, [UpdatedAt] = @p36, [UserName] = @p37, [UserType] = @p38
OUTPUT 1
WHERE [Id] = @p39 AND [ConcurrencyStamp] = @p40;
2025-07-22 14:01:37.996 +01:00 [INF] Roles assigned successfully for user: th3dixon@gmail.com, Type: "PetOwner"
2025-07-22 14:07:09.718 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 14:07:42.604 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 14:07:43.676 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 14:07:43.905 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 14:07:43.983 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 14:07:44.842 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 14:07:45.684 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 14:07:45.943 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 14:07:46.047 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:07:46.049 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:07:46.050 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:07:46.052 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:07:46.054 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:07:46.056 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:07:46.057 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:07:47.263 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:07:47.287 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 14:07:47.332 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 14:07:47.433 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 14:07:47.485 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:07:47.500 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 14:07:47.519 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:07:47.537 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:07:47.568 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 14:07:47.573 +01:00 [INF] Database migrations applied successfully
2025-07-22 14:07:47.578 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 14:07:47.618 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:07:47.887 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 14:07:47.888 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 14:07:47.969 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:07:47.971 +01:00 [INF] Hosting environment: Development
2025-07-22 14:07:47.972 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 14:07:48.145 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 14:07:48.145 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:07:48.573 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:07:48.588 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:07:48.756 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:07:48.811 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 670.468ms
2025-07-22 14:07:48.876 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:07:48.889 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 12.5479ms
2025-07-22 14:07:49.317 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 14:07:49.369 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.8273ms
2025-07-22 14:07:49.835 +01:00 [INF] Executed DbCommand (539ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 14:07:49.907 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1144.1179ms.
2025-07-22 14:07:49.921 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:07:49.989 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1395.245ms
2025-07-22 14:07:49.993 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:07:50.000 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1691.0168 ms
2025-07-22 14:07:50.009 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1873.3152ms
2025-07-22 14:07:50.131 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:07:50.138 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:07:50.140 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:07:50.163 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:07:50.165 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2881ms.
2025-07-22 14:07:50.168 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:07:50.171 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 29.6045ms
2025-07-22 14:07:50.175 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:07:50.178 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 41.1408 ms
2025-07-22 14:07:50.182 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 51.4227ms
2025-07-22 14:07:50.362 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 14:07:50.703 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 340.8167ms
2025-07-22 14:13:41.090 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 14:13:42.288 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 14:13:42.489 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 14:13:42.576 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 14:13:43.399 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 14:13:44.247 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 14:13:44.501 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 14:13:44.623 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:13:44.625 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:13:44.627 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:13:44.629 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:13:44.630 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:13:44.631 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:13:44.633 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:13:45.857 +01:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:13:45.877 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 14:13:45.918 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 14:13:46.022 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 14:13:46.080 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:13:46.096 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 14:13:46.117 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:13:46.137 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:13:46.174 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 14:13:46.182 +01:00 [INF] Database migrations applied successfully
2025-07-22 14:13:46.187 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 14:13:46.232 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:13:46.562 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 14:13:46.564 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 14:13:46.652 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:13:46.726 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:13:46.729 +01:00 [INF] Hosting environment: Development
2025-07-22 14:13:46.731 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 14:13:46.927 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:13:46.946 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:13:47.074 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:13:47.200 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 14:13:47.474 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 272.628ms
2025-07-22 14:13:47.487 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:13:47.707 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 219.0904ms
2025-07-22 14:13:48.188 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 14:13:48.239 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.0923ms
2025-07-22 14:13:48.307 +01:00 [INF] Executed DbCommand (535ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 14:13:48.373 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1292.8844ms.
2025-07-22 14:13:48.385 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:13:48.441 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1488.0192ms
2025-07-22 14:13:48.444 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:13:48.449 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1679.1716 ms
2025-07-22 14:13:48.457 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1812.5798ms
2025-07-22 14:13:49.680 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 14:13:49.959 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 279.3176ms
2025-07-22 14:14:55.125 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:14:55.131 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:14:55.134 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:14:55.164 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:14:55.167 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6181ms.
2025-07-22 14:14:55.168 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:14:55.171 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 35.4817ms
2025-07-22 14:14:55.173 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:14:55.174 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 43.9639 ms
2025-07-22 14:14:55.177 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 52.0697ms
2025-07-22 14:15:41.593 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 590
2025-07-22 14:15:41.598 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 14:15:41.606 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 14:15:41.681 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:15:41.685 +01:00 [INF] Starting registration for user: th3dixon@gmail.com
2025-07-22 14:15:42.359 +01:00 [INF] Executed DbCommand (547ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:15:42.405 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedPostcode_0='PO13 0JX' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PostcodeId], [p].[DateIntroduced], [p].[DateTerminated], [p].[Easting], [p].[GridReference], [p].[InwardCode], [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[Northing], [p].[OutwardCode], [p].[PostcodeArea], [p].[Postcode], [p].[PostcodeDistrict], [p].[PostcodeFormatted], [p].[PostcodeSector]
FROM [Postcodes] AS [p]
WHERE [p].[PostcodeFormatted] = @__normalizedPostcode_0 AND [p].[IsActive] = CAST(1 AS bit)
2025-07-22 14:15:42.989 +01:00 [ERR] Failed executing DbCommand (527ms) [Parameters=[@__normalizedCityName_0='po13 0jx' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[AlternativeName], [c].[CityName], [c].[CountyId], [c].[IsActive], [c].[Latitude], [c].[Longitude], [c].[Population], [c0].[CountyId], [c0].[CountryId], [c0].[CountyCode], [c0].[CountyName], [c0].[IsActive]
FROM [Cities] AS [c]
INNER JOIN [Counties] AS [c0] ON [c].[CountyId] = [c0].[CountyId]
WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL AND (LOWER([c].[CityName]) = @__normalizedCityName_0 OR ([c].[AlternativeName] IS NOT NULL AND LOWER([c].[AlternativeName]) = @__normalizedCityName_0))
ORDER BY CASE
    WHEN [c].[Population] IS NOT NULL THEN 0
    ELSE 1
END, [c].[Population] DESC
2025-07-22 14:15:43.021 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MeAndMyDog.API.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:587e0be4-4ce0-40b1-b209-fb969311f0a6
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:587e0be4-4ce0-40b1-b209-fb969311f0a6
Error Number:207,State:1,Class:16
2025-07-22 14:15:43.103 +01:00 [ERR] Error looking up city in database: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.LocationService.GetCoordinatesFromDatabaseCity(String cityName, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\LocationService.cs:line 593
ClientConnectionId:587e0be4-4ce0-40b1-b209-fb969311f0a6
Error Number:207,State:1,Class:16
2025-07-22 14:15:43.127 +01:00 [INF] Start processing HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 14:15:43.129 +01:00 [INF] Sending HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 14:15:43.478 +01:00 [INF] Received HTTP response headers after 345.0947ms - 200
2025-07-22 14:15:43.481 +01:00 [INF] End processing HTTP request after 354.4922ms - 200
2025-07-22 14:15:43.486 +01:00 [INF] Successfully geocoded 'PO13 0JX' using Google Places API: 50.8205301, -1.1713195
2025-07-22 14:15:50.684 +01:00 [INF] Executed DbCommand (523ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 14:15:51.222 +01:00 [INF] Executed DbCommand (530ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:15:52.049 +01:00 [INF] Executed DbCommand (525ms) [Parameters=[@p0='9c5e7cdb-6848-44dd-9002-e81e17f1a0b9' (Nullable = false) (Size = 450), @p1='0', @p2='Active' (Nullable = false) (Size = 20), @p3='77 Brewers Lane' (Size = 4000), @p4=NULL (Size = 4000), @p5='Gosport' (Size = 4000), @p6='43e06175-ed27-474c-804e-ef66f9419ac3' (Size = 4000), @p7='England' (Size = 4000), @p8='2025-07-22T13:15:51.4455528+00:00', @p9=NULL (DbType = DateTimeOffset), @p10='th3dixon@gmail.com' (Size = 256), @p11='True', @p12='Chris' (Nullable = false) (Size = 100), @p13=NULL (Size = 20), @p14='True', @p15='False', @p16='Dixon' (Nullable = false) (Size = 100), @p17=NULL (DbType = DateTimeOffset), @p18='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p19='True', @p20=NULL (DbType = DateTimeOffset), @p21='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p22='TH3DIXON@GMAIL.COM' (Size = 256), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='AQAAAAIAAYagAAAAEI4vxBUzyu4r6xjF64qCfC0CbYkxfxKxksEV5x+ButKiMEqVuCUx/cQPxonHd+0ZVQ==' (Size = 4000), @p25='07854524514' (Size = 4000), @p26='False', @p27='PO13 0JX' (Size = 4000), @p28='en' (Nullable = false) (Size = 10), @p29=NULL (Size = 500), @p30=NULL (Size = 4000), @p31='D2SZTH7BQQFW5MRSHNBDUDUXR74SVGRL' (Size = 4000), @p32='Free' (Nullable = false) (Size = 20), @p33='UTC' (Nullable = false) (Size = 50), @p34='False', @p35='2025-07-22T13:15:51.4407575+00:00', @p36='th3dixon@gmail.com' (Size = 256), @p37='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [AccountStatus], [AddressLine1], [AddressLine2], [City], [ConcurrencyStamp], [County], [CreatedAt], [DateOfBirth], [Email], [EmailConfirmed], [FirstName], [Gender], [IsActive], [IsKYCVerified], [LastName], [LastSeenAt], [Latitude], [LockoutEnabled], [LockoutEnd], [Longitude], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PostCode], [PreferredLanguage], [ProfileImageUrl], [ProfilePhotoUrl], [SecurityStamp], [SubscriptionType], [TimeZone], [TwoFactorEnabled], [UpdatedAt], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37);
2025-07-22 14:15:52.064 +01:00 [INF] User account created successfully for: th3dixon@gmail.com
2025-07-22 14:15:52.091 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-22 14:15:52.145 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:15:52.184 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='9c5e7cdb-6848-44dd-9002-e81e17f1a0b9' (Size = 450), @__p_1='6EADE1D8-6A9A-4E1A-B641-DF9E2E07C4D6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-22 14:15:52.203 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:15:52.746 +01:00 [INF] Executed DbCommand (526ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 14:15:53.278 +01:00 [INF] Executed DbCommand (528ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:15:53.840 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@p0='6EADE1D8-6A9A-4E1A-B641-DF9E2E07C4D6' (Nullable = false) (Size = 450), @p1='9c5e7cdb-6848-44dd-9002-e81e17f1a0b9' (Nullable = false) (Size = 450), @p39='9c5e7cdb-6848-44dd-9002-e81e17f1a0b9' (Nullable = false) (Size = 450), @p2='0', @p3='Active' (Nullable = false) (Size = 20), @p4='77 Brewers Lane' (Size = 4000), @p5=NULL (Size = 4000), @p6='Gosport' (Size = 4000), @p7='52a54d2d-efee-4124-a516-6b1692bbb077' (Size = 4000), @p40='43e06175-ed27-474c-804e-ef66f9419ac3' (Size = 4000), @p8='England' (Size = 4000), @p9='2025-07-22T13:15:51.4455528+00:00', @p10=NULL (DbType = DateTimeOffset), @p11='th3dixon@gmail.com' (Size = 256), @p12='True', @p13='Chris' (Nullable = false) (Size = 100), @p14=NULL (Size = 20), @p15='True', @p16='False', @p17='Dixon' (Nullable = false) (Size = 100), @p18=NULL (DbType = DateTimeOffset), @p19='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p20='True', @p21=NULL (DbType = DateTimeOffset), @p22='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='TH3DIXON@GMAIL.COM' (Size = 256), @p25='AQAAAAIAAYagAAAAEI4vxBUzyu4r6xjF64qCfC0CbYkxfxKxksEV5x+ButKiMEqVuCUx/cQPxonHd+0ZVQ==' (Size = 4000), @p26='07854524514' (Size = 4000), @p27='False', @p28='PO13 0JX' (Size = 4000), @p29='en' (Nullable = false) (Size = 10), @p30=NULL (Size = 500), @p31=NULL (Size = 4000), @p32='D2SZTH7BQQFW5MRSHNBDUDUXR74SVGRL' (Size = 4000), @p33='Free' (Nullable = false) (Size = 20), @p34='UTC' (Nullable = false) (Size = 50), @p35='False', @p36='2025-07-22T13:15:53.2896435+00:00', @p37='th3dixon@gmail.com' (Size = 256), @p38='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [AccountStatus] = @p3, [AddressLine1] = @p4, [AddressLine2] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [County] = @p8, [CreatedAt] = @p9, [DateOfBirth] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [FirstName] = @p13, [Gender] = @p14, [IsActive] = @p15, [IsKYCVerified] = @p16, [LastName] = @p17, [LastSeenAt] = @p18, [Latitude] = @p19, [LockoutEnabled] = @p20, [LockoutEnd] = @p21, [Longitude] = @p22, [NormalizedEmail] = @p23, [NormalizedUserName] = @p24, [PasswordHash] = @p25, [PhoneNumber] = @p26, [PhoneNumberConfirmed] = @p27, [PostCode] = @p28, [PreferredLanguage] = @p29, [ProfileImageUrl] = @p30, [ProfilePhotoUrl] = @p31, [SecurityStamp] = @p32, [SubscriptionType] = @p33, [TimeZone] = @p34, [TwoFactorEnabled] = @p35, [UpdatedAt] = @p36, [UserName] = @p37, [UserType] = @p38
OUTPUT 1
WHERE [Id] = @p39 AND [ConcurrencyStamp] = @p40;
2025-07-22 14:15:53.874 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='SERVICEPROVIDER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-22 14:15:53.894 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedRoleName_0='SERVICEPROVIDER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:15:53.913 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='9c5e7cdb-6848-44dd-9002-e81e17f1a0b9' (Size = 450), @__p_1='D503B955-D921-436E-A2FD-2C2C7A3A0995' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-22 14:15:53.927 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='SERVICEPROVIDER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:15:54.449 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 14:15:54.965 +01:00 [INF] Executed DbCommand (513ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:15:55.498 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@p0='D503B955-D921-436E-A2FD-2C2C7A3A0995' (Nullable = false) (Size = 450), @p1='9c5e7cdb-6848-44dd-9002-e81e17f1a0b9' (Nullable = false) (Size = 450), @p39='9c5e7cdb-6848-44dd-9002-e81e17f1a0b9' (Nullable = false) (Size = 450), @p2='0', @p3='Active' (Nullable = false) (Size = 20), @p4='77 Brewers Lane' (Size = 4000), @p5=NULL (Size = 4000), @p6='Gosport' (Size = 4000), @p7='da2ba8f6-cbea-4494-ad04-78e2b72b5df3' (Size = 4000), @p40='52a54d2d-efee-4124-a516-6b1692bbb077' (Size = 4000), @p8='England' (Size = 4000), @p9='2025-07-22T13:15:51.4455528+00:00', @p10=NULL (DbType = DateTimeOffset), @p11='th3dixon@gmail.com' (Size = 256), @p12='True', @p13='Chris' (Nullable = false) (Size = 100), @p14=NULL (Size = 20), @p15='True', @p16='False', @p17='Dixon' (Nullable = false) (Size = 100), @p18=NULL (DbType = DateTimeOffset), @p19='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p20='True', @p21=NULL (DbType = DateTimeOffset), @p22='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='TH3DIXON@GMAIL.COM' (Size = 256), @p25='AQAAAAIAAYagAAAAEI4vxBUzyu4r6xjF64qCfC0CbYkxfxKxksEV5x+ButKiMEqVuCUx/cQPxonHd+0ZVQ==' (Size = 4000), @p26='07854524514' (Size = 4000), @p27='False', @p28='PO13 0JX' (Size = 4000), @p29='en' (Nullable = false) (Size = 10), @p30=NULL (Size = 500), @p31=NULL (Size = 4000), @p32='D2SZTH7BQQFW5MRSHNBDUDUXR74SVGRL' (Size = 4000), @p33='Free' (Nullable = false) (Size = 20), @p34='UTC' (Nullable = false) (Size = 50), @p35='False', @p36='2025-07-22T13:15:54.9689052+00:00', @p37='th3dixon@gmail.com' (Size = 256), @p38='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [AccountStatus] = @p3, [AddressLine1] = @p4, [AddressLine2] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [County] = @p8, [CreatedAt] = @p9, [DateOfBirth] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [FirstName] = @p13, [Gender] = @p14, [IsActive] = @p15, [IsKYCVerified] = @p16, [LastName] = @p17, [LastSeenAt] = @p18, [Latitude] = @p19, [LockoutEnabled] = @p20, [LockoutEnd] = @p21, [Longitude] = @p22, [NormalizedEmail] = @p23, [NormalizedUserName] = @p24, [PasswordHash] = @p25, [PhoneNumber] = @p26, [PhoneNumberConfirmed] = @p27, [PostCode] = @p28, [PreferredLanguage] = @p29, [ProfileImageUrl] = @p30, [ProfilePhotoUrl] = @p31, [SecurityStamp] = @p32, [SubscriptionType] = @p33, [TimeZone] = @p34, [TwoFactorEnabled] = @p35, [UpdatedAt] = @p36, [UserName] = @p37, [UserType] = @p38
OUTPUT 1
WHERE [Id] = @p39 AND [ConcurrencyStamp] = @p40;
2025-07-22 14:15:55.513 +01:00 [INF] Roles assigned successfully for user: th3dixon@gmail.com, Type: "ServiceProvider"
2025-07-22 14:29:31.023 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 14:29:32.424 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 14:29:32.712 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 14:29:32.874 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 14:29:33.796 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 14:29:34.859 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 14:29:35.138 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 14:29:35.287 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:29:35.290 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:29:35.293 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:29:35.296 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:29:35.298 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:29:35.301 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:29:35.304 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:29:36.525 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:29:36.544 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 14:29:36.587 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 14:29:36.691 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 14:29:36.743 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:29:36.759 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 14:29:36.779 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:29:36.804 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:29:36.839 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 14:29:36.844 +01:00 [INF] Database migrations applied successfully
2025-07-22 14:29:36.849 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 14:29:36.886 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:29:37.214 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 14:29:37.215 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 14:29:37.288 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:29:37.290 +01:00 [INF] Hosting environment: Development
2025-07-22 14:29:37.291 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 14:29:37.603 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 14:29:37.660 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:29:38.047 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:29:38.066 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:29:38.192 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 530.5531ms
2025-07-22 14:29:38.196 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:29:38.888 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:29:38.888 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 14:29:38.905 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 16.9908ms
2025-07-22 14:29:38.947 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.7495ms
2025-07-22 14:29:39.343 +01:00 [INF] Executed DbCommand (554ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 14:29:39.399 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1195.6466ms.
2025-07-22 14:29:39.412 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:29:39.489 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1416.5047ms
2025-07-22 14:29:39.500 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:29:39.510 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1638.8898 ms
2025-07-22 14:29:39.521 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1861.6754ms
2025-07-22 14:29:39.552 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 14:29:39.911 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 359.6587ms
2025-07-22 14:29:58.236 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:29:58.244 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:29:58.246 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:29:58.269 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:29:58.271 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2468ms.
2025-07-22 14:29:58.274 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:29:58.276 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 27.8047ms
2025-07-22 14:29:58.279 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:29:58.281 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 38.0673 ms
2025-07-22 14:29:58.288 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 52.0895ms
2025-07-22 14:30:56.537 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - application/json; charset=utf-8 589
2025-07-22 14:30:56.543 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 14:30:56.553 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Register(MeAndMyDog.API.Models.DTOs.Auth.RegisterDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 14:30:56.637 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:30:56.641 +01:00 [INF] Starting registration for user: th3dixon@gmail.com
2025-07-22 14:30:57.316 +01:00 [INF] Executed DbCommand (538ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:30:57.355 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedPostcode_0='PO13 0JX' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PostcodeId], [p].[DateIntroduced], [p].[DateTerminated], [p].[Easting], [p].[GridReference], [p].[InwardCode], [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[Northing], [p].[OutwardCode], [p].[PostcodeArea], [p].[Postcode], [p].[PostcodeDistrict], [p].[PostcodeFormatted], [p].[PostcodeSector]
FROM [Postcodes] AS [p]
WHERE [p].[PostcodeFormatted] = @__normalizedPostcode_0 AND [p].[IsActive] = CAST(1 AS bit)
2025-07-22 14:30:57.929 +01:00 [ERR] Failed executing DbCommand (519ms) [Parameters=[@__normalizedCityName_0='po13 0jx' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[AlternativeName], [c].[CityName], [c].[CountyId], [c].[IsActive], [c].[Latitude], [c].[Longitude], [c].[Population], [c0].[CountyId], [c0].[CountryId], [c0].[CountyCode], [c0].[CountyName], [c0].[IsActive]
FROM [Cities] AS [c]
INNER JOIN [Counties] AS [c0] ON [c].[CountyId] = [c0].[CountyId]
WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL AND (LOWER([c].[CityName]) = @__normalizedCityName_0 OR ([c].[AlternativeName] IS NOT NULL AND LOWER([c].[AlternativeName]) = @__normalizedCityName_0))
ORDER BY CASE
    WHEN [c].[Population] IS NOT NULL THEN 0
    ELSE 1
END, [c].[Population] DESC
2025-07-22 14:30:57.958 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MeAndMyDog.API.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:6cedfba0-5b31-4e0a-95fb-988d336a44e1
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:6cedfba0-5b31-4e0a-95fb-988d336a44e1
Error Number:207,State:1,Class:16
2025-07-22 14:30:58.038 +01:00 [ERR] Error looking up city in database: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.LocationService.GetCoordinatesFromDatabaseCity(String cityName, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\LocationService.cs:line 593
ClientConnectionId:6cedfba0-5b31-4e0a-95fb-988d336a44e1
Error Number:207,State:1,Class:16
2025-07-22 14:30:58.063 +01:00 [INF] Start processing HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 14:30:58.066 +01:00 [INF] Sending HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 14:30:58.592 +01:00 [INF] Received HTTP response headers after 522.446ms - 200
2025-07-22 14:30:58.594 +01:00 [INF] End processing HTTP request after 531.3354ms - 200
2025-07-22 14:30:58.600 +01:00 [INF] Successfully geocoded 'PO13 0JX' using Google Places API: 50.8205301, -1.1713195
2025-07-22 14:30:59.220 +01:00 [INF] Executed DbCommand (520ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 14:30:59.751 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:31:00.590 +01:00 [INF] Executed DbCommand (530ms) [Parameters=[@p0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450), @p1='0', @p2='Active' (Nullable = false) (Size = 20), @p3='77 Brewers Lane' (Size = 4000), @p4=NULL (Size = 4000), @p5='Gosport' (Size = 4000), @p6='2ee69adc-bbc4-4581-84b3-1484fc98842a' (Size = 4000), @p7='England' (Size = 4000), @p8='2025-07-22T13:30:59.9726528+00:00', @p9=NULL (DbType = DateTimeOffset), @p10='th3dixon@gmail.com' (Size = 256), @p11='True', @p12='Chris' (Nullable = false) (Size = 100), @p13=NULL (Size = 20), @p14='True', @p15='False', @p16='Dixon' (Nullable = false) (Size = 100), @p17=NULL (DbType = DateTimeOffset), @p18='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p19='True', @p20=NULL (DbType = DateTimeOffset), @p21='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p22='TH3DIXON@GMAIL.COM' (Size = 256), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='AQAAAAIAAYagAAAAEL/ytImS5fRJcx3Y6cnFT6f6FRR7HQoaZ8qlET3D2mr8i7wP1gEhkxDi70Xe6PWYsg==' (Size = 4000), @p25='07854524514' (Size = 4000), @p26='False', @p27='PO13 0JX' (Size = 4000), @p28='en' (Nullable = false) (Size = 10), @p29=NULL (Size = 500), @p30=NULL (Size = 4000), @p31='JCY6Z7K2IETX3MJYGUFVZ3YSMLBBOFBU' (Size = 4000), @p32='Free' (Nullable = false) (Size = 20), @p33='UTC' (Nullable = false) (Size = 50), @p34='False', @p35='2025-07-22T13:30:59.9671215+00:00', @p36='th3dixon@gmail.com' (Size = 256), @p37='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AccessFailedCount], [AccountStatus], [AddressLine1], [AddressLine2], [City], [ConcurrencyStamp], [County], [CreatedAt], [DateOfBirth], [Email], [EmailConfirmed], [FirstName], [Gender], [IsActive], [IsKYCVerified], [LastName], [LastSeenAt], [Latitude], [LockoutEnabled], [LockoutEnd], [Longitude], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PostCode], [PreferredLanguage], [ProfileImageUrl], [ProfilePhotoUrl], [SecurityStamp], [SubscriptionType], [TimeZone], [TwoFactorEnabled], [UpdatedAt], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37);
2025-07-22 14:31:00.602 +01:00 [INF] User account created successfully for: th3dixon@gmail.com
2025-07-22 14:31:00.623 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-22 14:31:00.665 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:31:00.697 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__p_1='6EADE1D8-6A9A-4E1A-B641-DF9E2E07C4D6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-22 14:31:00.714 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:31:01.244 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 14:31:01.759 +01:00 [INF] Executed DbCommand (511ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:31:02.322 +01:00 [INF] Executed DbCommand (524ms) [Parameters=[@p0='6EADE1D8-6A9A-4E1A-B641-DF9E2E07C4D6' (Nullable = false) (Size = 450), @p1='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450), @p39='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450), @p2='0', @p3='Active' (Nullable = false) (Size = 20), @p4='77 Brewers Lane' (Size = 4000), @p5=NULL (Size = 4000), @p6='Gosport' (Size = 4000), @p7='eeb33251-0f6f-4137-a451-f4f8da8bc7d4' (Size = 4000), @p40='2ee69adc-bbc4-4581-84b3-1484fc98842a' (Size = 4000), @p8='England' (Size = 4000), @p9='2025-07-22T13:30:59.9726528+00:00', @p10=NULL (DbType = DateTimeOffset), @p11='th3dixon@gmail.com' (Size = 256), @p12='True', @p13='Chris' (Nullable = false) (Size = 100), @p14=NULL (Size = 20), @p15='True', @p16='False', @p17='Dixon' (Nullable = false) (Size = 100), @p18=NULL (DbType = DateTimeOffset), @p19='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p20='True', @p21=NULL (DbType = DateTimeOffset), @p22='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='TH3DIXON@GMAIL.COM' (Size = 256), @p25='AQAAAAIAAYagAAAAEL/ytImS5fRJcx3Y6cnFT6f6FRR7HQoaZ8qlET3D2mr8i7wP1gEhkxDi70Xe6PWYsg==' (Size = 4000), @p26='07854524514' (Size = 4000), @p27='False', @p28='PO13 0JX' (Size = 4000), @p29='en' (Nullable = false) (Size = 10), @p30=NULL (Size = 500), @p31=NULL (Size = 4000), @p32='JCY6Z7K2IETX3MJYGUFVZ3YSMLBBOFBU' (Size = 4000), @p33='Free' (Nullable = false) (Size = 20), @p34='UTC' (Nullable = false) (Size = 50), @p35='False', @p36='2025-07-22T13:31:01.7715289+00:00', @p37='th3dixon@gmail.com' (Size = 256), @p38='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [AccountStatus] = @p3, [AddressLine1] = @p4, [AddressLine2] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [County] = @p8, [CreatedAt] = @p9, [DateOfBirth] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [FirstName] = @p13, [Gender] = @p14, [IsActive] = @p15, [IsKYCVerified] = @p16, [LastName] = @p17, [LastSeenAt] = @p18, [Latitude] = @p19, [LockoutEnabled] = @p20, [LockoutEnd] = @p21, [Longitude] = @p22, [NormalizedEmail] = @p23, [NormalizedUserName] = @p24, [PasswordHash] = @p25, [PhoneNumber] = @p26, [PhoneNumberConfirmed] = @p27, [PostCode] = @p28, [PreferredLanguage] = @p29, [ProfileImageUrl] = @p30, [ProfilePhotoUrl] = @p31, [SecurityStamp] = @p32, [SubscriptionType] = @p33, [TimeZone] = @p34, [TwoFactorEnabled] = @p35, [UpdatedAt] = @p36, [UserName] = @p37, [UserType] = @p38
OUTPUT 1
WHERE [Id] = @p39 AND [ConcurrencyStamp] = @p40;
2025-07-22 14:31:02.358 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='SERVICEPROVIDER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-22 14:31:02.376 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedRoleName_0='SERVICEPROVIDER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:31:02.392 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__p_1='D503B955-D921-436E-A2FD-2C2C7A3A0995' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-22 14:31:02.405 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='SERVICEPROVIDER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-22 14:31:02.933 +01:00 [INF] Executed DbCommand (525ms) [Parameters=[@__normalizedUserName_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-22 14:31:03.466 +01:00 [INF] Executed DbCommand (530ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:31:03.995 +01:00 [INF] Executed DbCommand (513ms) [Parameters=[@p0='D503B955-D921-436E-A2FD-2C2C7A3A0995' (Nullable = false) (Size = 450), @p1='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450), @p39='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450), @p2='0', @p3='Active' (Nullable = false) (Size = 20), @p4='77 Brewers Lane' (Size = 4000), @p5=NULL (Size = 4000), @p6='Gosport' (Size = 4000), @p7='2c459c81-3bd1-485e-a1a4-794d11423eef' (Size = 4000), @p40='eeb33251-0f6f-4137-a451-f4f8da8bc7d4' (Size = 4000), @p8='England' (Size = 4000), @p9='2025-07-22T13:30:59.9726528+00:00', @p10=NULL (DbType = DateTimeOffset), @p11='th3dixon@gmail.com' (Size = 256), @p12='True', @p13='Chris' (Nullable = false) (Size = 100), @p14=NULL (Size = 20), @p15='True', @p16='False', @p17='Dixon' (Nullable = false) (Size = 100), @p18=NULL (DbType = DateTimeOffset), @p19='50.8205301' (Nullable = true) (Precision = 18) (Scale = 2), @p20='True', @p21=NULL (DbType = DateTimeOffset), @p22='-1.1713195' (Nullable = true) (Precision = 18) (Scale = 2), @p23='TH3DIXON@GMAIL.COM' (Size = 256), @p24='TH3DIXON@GMAIL.COM' (Size = 256), @p25='AQAAAAIAAYagAAAAEL/ytImS5fRJcx3Y6cnFT6f6FRR7HQoaZ8qlET3D2mr8i7wP1gEhkxDi70Xe6PWYsg==' (Size = 4000), @p26='07854524514' (Size = 4000), @p27='False', @p28='PO13 0JX' (Size = 4000), @p29='en' (Nullable = false) (Size = 10), @p30=NULL (Size = 500), @p31=NULL (Size = 4000), @p32='JCY6Z7K2IETX3MJYGUFVZ3YSMLBBOFBU' (Size = 4000), @p33='Free' (Nullable = false) (Size = 20), @p34='UTC' (Nullable = false) (Size = 50), @p35='False', @p36='2025-07-22T13:31:03.4693745+00:00', @p37='th3dixon@gmail.com' (Size = 256), @p38='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [AccountStatus] = @p3, [AddressLine1] = @p4, [AddressLine2] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [County] = @p8, [CreatedAt] = @p9, [DateOfBirth] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [FirstName] = @p13, [Gender] = @p14, [IsActive] = @p15, [IsKYCVerified] = @p16, [LastName] = @p17, [LastSeenAt] = @p18, [Latitude] = @p19, [LockoutEnabled] = @p20, [LockoutEnd] = @p21, [Longitude] = @p22, [NormalizedEmail] = @p23, [NormalizedUserName] = @p24, [PasswordHash] = @p25, [PhoneNumber] = @p26, [PhoneNumberConfirmed] = @p27, [PostCode] = @p28, [PreferredLanguage] = @p29, [ProfileImageUrl] = @p30, [ProfilePhotoUrl] = @p31, [SecurityStamp] = @p32, [SubscriptionType] = @p33, [TimeZone] = @p34, [TwoFactorEnabled] = @p35, [UpdatedAt] = @p36, [UserName] = @p37, [UserType] = @p38
OUTPUT 1
WHERE [Id] = @p39 AND [ConcurrencyStamp] = @p40;
2025-07-22 14:31:04.019 +01:00 [INF] Roles assigned successfully for user: th3dixon@gmail.com, Type: "ServiceProvider"
2025-07-22 14:31:04.735 +01:00 [INF] Executed DbCommand (530ms) [Parameters=[@p0='253b2f88-982a-4f2b-a51e-21b3169b11af', @p1='2025-07-22T13:31:04.1776164Z', @p2='True', @p3='False', @p4='False', @p5='False', @p6='9da1b93d-8771-421c-be05-52b65c3520df', @p7='2124f64c-8805-4510-977c-0892cebdf52d', @p8='25' (Nullable = true), @p9=NULL (Size = 1000), @p10='2025-07-22T13:31:04.1746713Z' (Nullable = true), @p11='9da1b93d-8771-421c-be05-52b65c3520df' (Nullable = false) (Size = 450), @p12=NULL (Size = 500), @p13='Professional pet care services' (Size = 4000), @p14=NULL (Size = 256), @p15=NULL (Size = 100), @p16='Chris' paws' (Nullable = false) (Size = 200), @p17=NULL (Size = 50), @p18=NULL (Size = 500), @p19='2025-07-22T13:31:04.1745580+00:00', @p20=NULL (Size = 200), @p21=NULL (Precision = 10) (Scale = 2) (DbType = Decimal), @p22=NULL (Size = 200), @p23='True', @p24='False', @p25='False', @p26=NULL (DbType = DateTimeOffset), @p27=NULL (DbType = DateTimeOffset), @p28=NULL (Size = 4000), @p29='0', @p30=NULL (Size = 4000), @p31=NULL (Size = 4000), @p32='UTC' (Nullable = false) (Size = 50), @p33='2025-07-22T13:31:04.1739539+00:00', @p34='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450), @p35='0' (Nullable = true), @p36='b5b5e13a-5eea-47b3-b0bb-662f27066f2a', @p37='2025-07-22T13:31:04.1804312Z', @p38='0' (Nullable = true) (Precision = 5) (Scale = 2), @p39='False', @p40='False', @p41='True', @p42='30' (Nullable = true), @p43='24' (Nullable = true), @p44=NULL (Size = 500), @p45='30' (Precision = 10) (Scale = 2), @p46='1', @p47='253b2f88-982a-4f2b-a51e-21b3169b11af', @p48='b7d3ea99-87a2-47c5-ad3d-06e9c6eaacfd', @p49='2025-07-22T13:31:04.1792408Z' (Nullable = true), @p50='0' (Nullable = true) (Precision = 5) (Scale = 2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ProviderService] ([ProviderServiceId], [CreatedAt], [IsOffered], [OffersEmergencyService], [OffersEveningService], [OffersWeekendService], [ProviderId], [ServiceCategoryId], [ServiceRadiusMiles], [SpecialNotes], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
INSERT INTO [ServiceProviders] ([Id], [BusinessAddress], [BusinessDescription], [BusinessEmail], [BusinessLicense], [BusinessName], [BusinessPhone], [BusinessWebsite], [CreatedAt], [GoogleCalendarId], [HourlyRate], [InsurancePolicy], [IsActive], [IsPremium], [IsVerified], [PremiumEndDate], [PremiumStartDate], [PremiumSubscriptionId], [ReviewCount], [ServiceAreas], [Specializations], [TimeZone], [UpdatedAt], [UserId], [YearsOfExperience])
OUTPUT INSERTED.[Rating], INSERTED.[ReliabilityScore], INSERTED.[ResponseTimeHours]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
INSERT INTO [ProviderServicePricing] ([ProviderServicePricingId], [CreatedAt], [EveningSurchargePercentage], [HasEveningSurcharge], [HasWeekendSurcharge], [IsAvailable], [MaxAdvanceBookingDays], [MinAdvanceBookingHours], [Notes], [Price], [PricingType], [ProviderServiceId], [SubServiceId], [UpdatedAt], [WeekendSurchargePercentage])
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
2025-07-22 14:31:04.767 +01:00 [INF] ServiceProvider record created for user: th3dixon@gmail.com
2025-07-22 14:31:04.789 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-22 14:31:04.870 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='a313cab0-a9e1-4583-bed5-08ddc9240222', @p1='2025-07-22T13:31:04.8531716+00:00', @p2=NULL (Size = 45), @p3='2025-08-21T13:31:04.8289413+00:00', @p4='True', @p5=NULL (Size = 100), @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Size = 45), @p8='znTJT5Qy1gXsDqUxtzmGJb9OfTWYRExG1bj1PflEQhNfPlWQYUGFnAoYAnE9AOtvevK/ISDFsW0VKDmeq80H0Q==' (Nullable = false) (Size = 500), @p9='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [ExpiresAt], [IsActive], [ReasonRevoked], [RevokedAt], [RevokedByIp], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-22 14:31:04.874 +01:00 [INF] Registration completed successfully for: th3dixon@gmail.com
2025-07-22 14:31:04.875 +01:00 [INF] New user registered: th3dixon@gmail.com
2025-07-22 14:31:04.876 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8237.8699ms.
2025-07-22 14:31:04.878 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 14:31:04.886 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API) in 8331.2437ms
2025-07-22 14:31:04.888 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.Register (MeAndMyDog.API)'
2025-07-22 14:31:04.889 +01:00 [INF] HTTP POST /api/v1/auth/register responded 200 in 8348.5142 ms
2025-07-22 14:31:04.891 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/auth/register - 200 null application/json; charset=utf-8 8354.6744ms
2025-07-22 14:31:14.342 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:31:14.346 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:31:14.350 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:31:14.369 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:31:14.371 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1024ms.
2025-07-22 14:31:14.372 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:31:14.375 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 21.0342ms
2025-07-22 14:31:14.376 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:31:14.379 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 33.2554 ms
2025-07-22 14:31:14.383 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 41.3276ms
2025-07-22 14:31:18.225 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:31:18.232 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:31:18.234 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:31:18.253 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:31:18.255 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0584ms.
2025-07-22 14:31:18.259 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:31:18.262 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 25.3097ms
2025-07-22 14:31:18.264 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:31:18.266 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 33.2350 ms
2025-07-22 14:31:18.268 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 42.8065ms
2025-07-22 14:31:32.411 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/login - application/json; charset=utf-8 76
2025-07-22 14:31:32.416 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API)'
2025-07-22 14:31:32.421 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Login(MeAndMyDog.API.Models.DTOs.Auth.LoginDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 14:31:32.472 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:31:34.025 +01:00 [INF] Login attempt for user: th3dixon@gmail.com
2025-07-22 14:31:34.544 +01:00 [INF] Executed DbCommand (515ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:31:34.628 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-22 14:31:34.646 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='a58d4c8d-2026-4013-bed6-08ddc9240222', @p1='2025-07-22T13:31:34.6327300+00:00', @p2=NULL (Size = 45), @p3='2025-08-21T13:31:34.6314351+00:00', @p4='True', @p5=NULL (Size = 100), @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Size = 45), @p8='iwyHlH+IJ5a2/VAI7qj/qFCTEzI2EcfzWSqgH1Kxk+HCrTURqnwMXrbkpNHOzP6j4LKvCAPOLh4LAIrem/Nubg==' (Nullable = false) (Size = 500), @p9='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [ExpiresAt], [IsActive], [ReasonRevoked], [RevokedAt], [RevokedByIp], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-22 14:31:34.649 +01:00 [INF] Login successful for: th3dixon@gmail.com
2025-07-22 14:31:37.257 +01:00 [INF] User logged in: th3dixon@gmail.com
2025-07-22 14:31:38.950 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6477.1488ms.
2025-07-22 14:31:38.954 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 14:31:38.957 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API) in 6532.9573ms
2025-07-22 14:31:38.958 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API)'
2025-07-22 14:31:38.961 +01:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 6545.0288 ms
2025-07-22 14:31:38.963 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/auth/login - 200 null application/json; charset=utf-8 6552.0603ms
2025-07-22 14:31:48.337 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:31:48.341 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:31:48.342 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:31:48.359 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:31:48.360 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0628ms.
2025-07-22 14:31:48.362 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:31:48.364 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.2614ms
2025-07-22 14:31:48.367 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:31:48.368 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 27.7802 ms
2025-07-22 14:31:48.372 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.6736ms
2025-07-22 14:31:50.527 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:31:50.532 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:31:50.534 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:31:50.557 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:31:50.559 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.085ms.
2025-07-22 14:31:50.562 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:31:50.564 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.454ms
2025-07-22 14:31:50.566 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:31:50.568 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 36.5353 ms
2025-07-22 14:31:50.570 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 43.6916ms
2025-07-22 14:35:07.713 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:35:07.724 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:35:07.726 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:35:07.746 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:35:07.748 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0997ms.
2025-07-22 14:35:07.749 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:35:07.752 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.0134ms
2025-07-22 14:35:07.753 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:35:07.754 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.7332 ms
2025-07-22 14:35:07.758 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 45.1686ms
2025-07-22 14:36:33.846 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:36:33.851 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:36:33.852 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:36:33.888 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:36:33.889 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0846ms.
2025-07-22 14:36:33.891 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:36:33.893 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 37.4217ms
2025-07-22 14:36:33.895 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:36:33.897 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 46.1934 ms
2025-07-22 14:36:33.900 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 53.6576ms
2025-07-22 14:37:01.666 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200&maxResults=1 - null null
2025-07-22 14:37:01.675 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 14:37:01.685 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 14:37:01.708 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:37:02.450 +01:00 [INF] Executed DbCommand (607ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='po13 0%' (Size = 10), @__Replace_1_startswith='po130%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-22 14:37:02.467 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-22 14:37:02.498 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-22 14:37:02.503 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 14:37:02.504 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 14:37:02.524 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:37:03.392 +01:00 [INF] Executed DbCommand (807ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='po13 0jx%' (Size = 10), @__Replace_1_startswith='po130jx%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-22 14:37:05.319 +01:00 [INF] Executed DbCommand (2,836ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-22 14:37:05.409 +01:00 [INF] Executed DbCommand (78ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-22 14:37:05.439 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0%' (Size = 4000), @__queryLower_0_startswith_1='po13 0%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-22 14:37:05.442 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3732.0365ms.
2025-07-22 14:37:05.445 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 14:37:05.449 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3761.979ms
2025-07-22 14:37:05.450 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 14:37:05.452 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3782.1399 ms
2025-07-22 14:37:05.454 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200&maxResults=1 - 200 null application/json; charset=utf-8 3788.3687ms
2025-07-22 14:37:06.029 +01:00 [INF] Executed DbCommand (2,634ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-22 14:37:06.553 +01:00 [INF] Executed DbCommand (519ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-22 14:37:06.567 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 4000), @__queryLower_0_startswith_1='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-22 14:37:06.570 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4044.9803ms.
2025-07-22 14:37:06.572 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 14:37:06.573 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 4067.3286ms
2025-07-22 14:37:06.575 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 14:37:06.576 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 4073.3264 ms
2025-07-22 14:37:06.578 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 4080.1406ms
2025-07-22 14:37:07.260 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 14:37:07.260 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 447
2025-07-22 14:37:07.273 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 14:37:07.276 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 14:37:07.281 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 14:37:07.281 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 14:37:07.338 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:37:07.338 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:37:07.340 +01:00 [INF] Provider search request received for location: null
2025-07-22 14:37:07.340 +01:00 [INF] Provider search request received for location: null
2025-07-22 14:37:07.348 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 14:37:07.348 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.813719,"Longitude":-1.1756053,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 14:37:07.368 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 14:37:07.381 +01:00 [INF] Using provided coordinates: Lat=50.813719, Lng=-1.1756053
2025-07-22 14:37:07.389 +01:00 [INF] Executing real provider search at 50.813719,-1.1756053 within 25 miles
2025-07-22 14:37:07.389 +01:00 [INF] Executing real provider search at 50.8205301,-1.1713195 within 25 miles
2025-07-22 14:37:07.460 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__serviceGuids_0='["2124f64c-8805-4510-977c-0892cebdf52d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 14:37:07.460 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__serviceGuids_0='["2124f64c-8805-4510-977c-0892cebdf52d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 14:37:08.037 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[@__Cos_1='0.6318437305074228', @__longitude_2='-1.1756053', @__Sin_3='0.7750958006714158', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","9DA1B93D-8771-421C-BE05-52B65C3520DF"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 14:37:08.037 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[@__Cos_1='0.6317515856612386', @__longitude_2='-1.1713195', @__Sin_3='0.7751709063261538', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","9DA1B93D-8771-421C-BE05-52B65C3520DF"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 14:37:08.571 +01:00 [INF] Executed DbCommand (516ms) [Parameters=[@__providerGuid_0='9da1b93d-8771-421c-be05-52b65c3520df'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 14:37:08.571 +01:00 [INF] Executed DbCommand (516ms) [Parameters=[@__providerGuid_0='9da1b93d-8771-421c-be05-52b65c3520df'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 14:37:08.602 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__Select_0='["253b2f88-982a-4f2b-a51e-21b3169b11af"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-22 14:37:08.603 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__Select_0='["253b2f88-982a-4f2b-a51e-21b3169b11af"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-22 14:37:08.631 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__provider_Id_0='9da1b93d-8771-421c-be05-52b65c3520df' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[CompletedAt]
FROM [Bookings] AS [b]
WHERE [b].[ServiceProviderId] = @__provider_Id_0 AND [b].[Status] = N'Completed' AND [b].[CompletedAt] IS NOT NULL
ORDER BY [b].[CompletedAt] DESC
2025-07-22 14:37:08.631 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__provider_Id_0='9da1b93d-8771-421c-be05-52b65c3520df' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[CompletedAt]
FROM [Bookings] AS [b]
WHERE [b].[ServiceProviderId] = @__provider_Id_0 AND [b].[Status] = N'Completed' AND [b].[CompletedAt] IS NOT NULL
ORDER BY [b].[CompletedAt] DESC
2025-07-22 14:37:08.644 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-22 14:37:08.644 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-22 14:37:08.648 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-22 14:37:08.652 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-22 14:37:08.653 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 14:37:08.656 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 14:37:08.657 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1318.3716ms.
2025-07-22 14:37:08.662 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1321.7132ms.
2025-07-22 14:37:08.665 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 14:37:08.666 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 14:37:08.696 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 1413.1512ms
2025-07-22 14:37:08.696 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 1411.1161ms
2025-07-22 14:37:08.700 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 14:37:08.705 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 14:37:08.706 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 1433.6398 ms
2025-07-22 14:37:08.707 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 1431.6463 ms
2025-07-22 14:37:08.711 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 1451.2892ms
2025-07-22 14:37:08.713 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 1453.1069ms
2025-07-22 14:37:11.498 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-22 14:37:11.501 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 14:37:11.503 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 14:37:11.524 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:37:11.529 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1579ms.
2025-07-22 14:37:11.531 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 14:37:11.533 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 27.508ms
2025-07-22 14:37:11.534 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 14:37:11.535 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 34.2470 ms
2025-07-22 14:37:11.538 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 40.5109ms
2025-07-22 14:37:11.602 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 14:37:11.605 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 14:37:11.606 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 14:37:11.624 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:37:11.626 +01:00 [INF] Provider search request received for location: null
2025-07-22 14:37:11.627 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 14:37:11.640 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 14:37:11.642 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_25_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 14:37:11.643 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 14:37:11.644 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.6308ms.
2025-07-22 14:37:11.645 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 14:37:11.647 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 36.685ms
2025-07-22 14:37:11.648 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 14:37:11.650 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 45.0918 ms
2025-07-22 14:37:11.652 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 50.0104ms
2025-07-22 14:37:27.104 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T13:37:27.0750000+00:00&endDate=2025-08-05T13:37:27.0750000+00:00 - null null
2025-07-22 14:37:27.108 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 14:37:27.114 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 14:37:27.125 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 14:37:27.141 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 24.4532ms
2025-07-22 14:37:27.143 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 14:37:27.145 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability responded 400 in 37.5176 ms
2025-07-22 14:37:27.147 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T13:37:27.0750000+00:00&endDate=2025-08-05T13:37:27.0750000+00:00 - 400 null application/problem+json; charset=utf-8 42.3057ms
2025-07-22 14:37:35.687 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/pricing?subServiceId=default&startDate=2025-07-23T13:37:35.6710000+00:00&durationMinutes=60&petCount=1 - null null
2025-07-22 14:37:35.692 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API)'
2025-07-22 14:37:35.701 +01:00 [INF] Route matched with {action = "CalculateServicePricing", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Services.Interfaces.ServicePricingDto]] CalculateServicePricing(System.String, System.String, System.DateTimeOffset, Int32, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 14:37:35.706 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 14:37:35.714 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API) in 8.6385ms
2025-07-22 14:37:35.717 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CalculateServicePricing (MeAndMyDog.API)'
2025-07-22 14:37:35.718 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/pricing responded 400 in 25.9890 ms
2025-07-22 14:37:35.720 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/pricing?subServiceId=default&startDate=2025-07-23T13:37:35.6710000+00:00&durationMinutes=60&petCount=1 - 400 null application/problem+json; charset=utf-8 33.3401ms
2025-07-22 14:38:05.015 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:38:05.019 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:38:05.021 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:38:05.047 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:38:05.050 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1144ms.
2025-07-22 14:38:05.051 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:38:05.054 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 29.0236ms
2025-07-22 14:38:05.055 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:38:05.057 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 38.3697 ms
2025-07-22 14:38:05.059 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 44.0732ms
2025-07-22 14:43:30.262 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 14:43:31.203 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 14:43:31.567 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 14:43:31.610 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 14:43:33.088 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 14:43:34.542 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 14:43:34.874 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 14:43:35.036 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:35.071 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:35.079 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:35.088 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:35.091 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:35.092 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:35.095 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:36.441 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:43:36.463 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 14:43:36.504 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 14:43:36.597 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 14:43:36.648 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:43:36.665 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 14:43:36.689 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:43:36.707 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:43:36.745 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 14:43:36.752 +01:00 [INF] Database migrations applied successfully
2025-07-22 14:43:36.760 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 14:43:36.786 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:43:37.049 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 14:43:37.051 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 14:43:37.147 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:43:37.149 +01:00 [INF] Hosting environment: Development
2025-07-22 14:43:37.151 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 14:43:37.714 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 14:43:38.092 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 385.1341ms
2025-07-22 14:43:38.110 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:43:38.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 35.9085ms
2025-07-22 14:43:38.761 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 14:43:39.012 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 250.6035ms
2025-07-22 14:43:39.525 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 14:43:39.851 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 325.6222ms
2025-07-22 14:43:51.091 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 14:43:51.640 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 14:43:51.749 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 14:43:51.844 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 14:43:52.487 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 14:43:53.470 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 14:43:53.703 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 14:43:53.830 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:53.836 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:53.839 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:53.842 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:53.844 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:53.847 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:53.850 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:43:54.748 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:43:54.766 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 14:43:54.808 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 14:43:54.905 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 14:43:54.953 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:43:54.985 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 14:43:55.005 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:43:55.030 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:43:55.066 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 14:43:55.074 +01:00 [INF] Database migrations applied successfully
2025-07-22 14:43:55.080 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 14:43:55.103 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:43:55.378 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 14:43:55.379 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 14:43:55.472 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:43:55.473 +01:00 [INF] Hosting environment: Development
2025-07-22 14:43:55.475 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 14:43:55.763 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 14:43:56.079 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 323.7686ms
2025-07-22 14:43:56.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:43:56.112 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 13.8838ms
2025-07-22 14:43:56.599 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 14:43:56.649 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.0779ms
2025-07-22 14:43:57.120 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 14:43:57.485 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 364.7093ms
2025-07-22 14:45:01.757 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 14:45:02.442 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 14:45:02.569 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 14:45:02.721 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 14:45:03.384 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 14:45:04.344 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 14:45:04.633 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 14:45:04.754 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:45:04.757 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:45:04.759 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:45:04.761 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:45:04.763 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:45:04.764 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:45:04.766 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 14:45:05.883 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:45:05.903 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 14:45:05.946 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 14:45:06.034 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 14:45:06.092 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 14:45:06.109 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 14:45:06.132 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 14:45:06.161 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 14:45:06.199 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 14:45:06.208 +01:00 [INF] Database migrations applied successfully
2025-07-22 14:45:06.215 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 14:45:06.244 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 14:45:06.592 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 14:45:06.599 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 14:45:06.717 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 14:45:06.719 +01:00 [INF] Hosting environment: Development
2025-07-22 14:45:06.720 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 14:45:06.824 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 14:45:06.863 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:45:07.247 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:45:07.254 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 438.6276ms
2025-07-22 14:45:07.275 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:45:07.383 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:45:07.951 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 14:45:07.951 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 14:45:07.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 11.8556ms
2025-07-22 14:45:08.005 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0868ms
2025-07-22 14:45:08.562 +01:00 [INF] Executed DbCommand (534ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 14:45:08.610 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1221.7433ms.
2025-07-22 14:45:08.619 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:45:08.659 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1370.7552ms
2025-07-22 14:45:08.662 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:45:08.667 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1629.6178 ms
2025-07-22 14:45:08.676 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1813.3522ms
2025-07-22 14:45:08.772 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 14:45:09.072 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 299.623ms
2025-07-22 14:45:10.944 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:45:10.952 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:45:10.954 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:45:10.979 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:45:10.982 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4741ms.
2025-07-22 14:45:10.986 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:45:10.989 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 32.6653ms
2025-07-22 14:45:10.991 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:45:10.993 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 42.5381 ms
2025-07-22 14:45:10.995 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 51.7995ms
2025-07-22 14:45:18.701 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:45:18.708 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:45:18.710 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:45:18.731 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:45:18.734 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.158ms.
2025-07-22 14:45:18.736 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:45:18.740 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 27.7002ms
2025-07-22 14:45:18.743 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:45:18.744 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 39.6844 ms
2025-07-22 14:45:18.747 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 45.6943ms
2025-07-22 14:45:34.290 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/login - application/json; charset=utf-8 76
2025-07-22 14:45:34.294 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API)'
2025-07-22 14:45:34.308 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Login(MeAndMyDog.API.Models.DTOs.Auth.LoginDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 14:45:34.380 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:45:34.385 +01:00 [INF] Login attempt for user: th3dixon@gmail.com
2025-07-22 14:45:35.099 +01:00 [INF] Executed DbCommand (561ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 14:45:35.379 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-22 14:45:35.611 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='f588f0d6-3547-4f34-10fd-08ddc926090e', @p1='2025-07-22T13:45:35.5200573+00:00', @p2=NULL (Size = 45), @p3='2025-08-21T13:45:35.4175086+00:00', @p4='True', @p5=NULL (Size = 100), @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Size = 45), @p8='CYAVnkJUBkwplKZr9QBowN1KRdQ4avVY1cMlirYPLszn1NF2H1Gw0Kby5e4rBI6gKtvmMqEAJyYSwvs4hfRChQ==' (Nullable = false) (Size = 500), @p9='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [ExpiresAt], [IsActive], [ReasonRevoked], [RevokedAt], [RevokedByIp], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-22 14:45:35.627 +01:00 [INF] Login successful for: th3dixon@gmail.com
2025-07-22 14:45:35.628 +01:00 [INF] User logged in: th3dixon@gmail.com
2025-07-22 14:45:35.630 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1248.3602ms.
2025-07-22 14:45:35.632 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 14:45:35.642 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API) in 1332.3283ms
2025-07-22 14:45:35.644 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API)'
2025-07-22 14:45:35.645 +01:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1350.8706 ms
2025-07-22 14:45:35.649 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/auth/login - 200 null application/json; charset=utf-8 1359.5156ms
2025-07-22 14:45:41.002 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:45:41.006 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:45:41.009 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:45:41.029 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:45:41.034 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1104ms.
2025-07-22 14:45:41.037 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:45:41.042 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 30.4215ms
2025-07-22 14:45:41.046 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:45:41.049 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 42.5684 ms
2025-07-22 14:45:41.055 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 52.8468ms
2025-07-22 14:45:43.421 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 14:45:43.426 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:45:43.427 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 14:45:43.446 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 14:45:43.449 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0864ms.
2025-07-22 14:45:43.452 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 14:45:43.454 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.8559ms
2025-07-22 14:45:43.456 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 14:45:43.457 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 31.6587 ms
2025-07-22 14:45:43.466 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 44.7446ms
2025-07-22 15:24:27.016 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 15:24:27.969 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 15:24:28.101 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 15:24:28.170 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 15:24:28.999 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 15:24:30.108 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 15:24:30.393 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 15:24:30.553 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:24:30.562 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:24:30.566 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:24:30.578 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:24:30.583 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:24:30.587 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:24:30.613 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:24:31.976 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 15:24:32.030 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 15:24:32.079 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 15:24:32.195 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 15:24:32.251 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 15:24:32.272 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 15:24:32.293 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 15:24:32.319 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 15:24:32.360 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 15:24:32.369 +01:00 [INF] Database migrations applied successfully
2025-07-22 15:24:32.377 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 15:24:32.409 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 15:24:32.862 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 15:24:32.868 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 15:24:33.004 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 15:24:33.006 +01:00 [INF] Hosting environment: Development
2025-07-22 15:24:33.007 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 15:24:33.059 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 15:24:33.111 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 15:24:33.326 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 15:24:33.364 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 15:24:33.461 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 15:24:33.509 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 396.7586ms
2025-07-22 15:24:33.531 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 15:24:33.543 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 12.7619ms
2025-07-22 15:24:34.050 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 15:24:34.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.1534ms
2025-07-22 15:24:34.530 +01:00 [INF] Executed DbCommand (536ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 15:24:34.603 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1132.8581ms.
2025-07-22 15:24:34.615 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 15:24:34.621 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 15:24:34.669 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1296.8326ms
2025-07-22 15:24:34.672 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 15:24:34.728 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1499.5547 ms
2025-07-22 15:24:34.740 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1690.0639ms
2025-07-22 15:24:35.046 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 425.4886ms
2025-07-22 15:27:26.760 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/login - application/json; charset=utf-8 76
2025-07-22 15:27:26.768 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API)'
2025-07-22 15:27:26.782 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Login(MeAndMyDog.API.Models.DTOs.Auth.LoginDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 15:27:26.864 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 15:27:26.869 +01:00 [INF] Login attempt for user: th3dixon@gmail.com
2025-07-22 15:27:27.563 +01:00 [INF] Executed DbCommand (546ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 15:27:27.848 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-22 15:27:28.137 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='0a462e0f-917a-4fa1-dda2-08ddc92be29a', @p1='2025-07-22T14:27:28.0042157+00:00', @p2=NULL (Size = 45), @p3='2025-08-21T14:27:27.8871957+00:00', @p4='True', @p5=NULL (Size = 100), @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Size = 45), @p8='4IU5Cl8rO38CtcBOS49LRseDaZCDPSSvPudTudRNYoafwWgTH11cPwkfL8n/AIOUuKB5T42g7DdQEH/yJzb7aA==' (Nullable = false) (Size = 500), @p9='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [ExpiresAt], [IsActive], [ReasonRevoked], [RevokedAt], [RevokedByIp], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-22 15:27:28.155 +01:00 [INF] Login successful for: th3dixon@gmail.com
2025-07-22 15:27:28.157 +01:00 [INF] User logged in: th3dixon@gmail.com
2025-07-22 15:27:28.159 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1292.8511ms.
2025-07-22 15:27:28.161 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 15:27:28.176 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API) in 1390.6083ms
2025-07-22 15:27:28.178 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API)'
2025-07-22 15:27:28.181 +01:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1413.1618 ms
2025-07-22 15:27:28.185 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/auth/login - 200 null application/json; charset=utf-8 1424.4332ms
2025-07-22 15:27:40.756 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 15:27:40.768 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 15:27:40.772 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 15:27:40.801 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 15:27:40.805 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6008ms.
2025-07-22 15:27:40.807 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 15:27:40.810 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 34.0441ms
2025-07-22 15:27:40.813 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 15:27:40.814 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 50.5618 ms
2025-07-22 15:27:40.817 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 60.5177ms
2025-07-22 15:28:00.850 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 15:28:00.856 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 15:28:00.857 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 15:28:00.878 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 15:28:00.880 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1214ms.
2025-07-22 15:28:00.886 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 15:28:00.889 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 29.8109ms
2025-07-22 15:28:00.891 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 15:28:00.892 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 37.3424 ms
2025-07-22 15:28:00.894 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 43.9881ms
2025-07-22 15:28:04.110 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 15:28:04.114 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 15:28:04.117 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 15:28:04.134 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 15:28:04.136 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0688ms.
2025-07-22 15:28:04.137 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 15:28:04.140 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 21.6792ms
2025-07-22 15:28:04.142 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 15:28:04.143 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.3372 ms
2025-07-22 15:28:04.145 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 35.8748ms
2025-07-22 15:51:25.855 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 15:51:26.708 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 15:51:27.184 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 15:51:27.227 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 15:51:27.793 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 15:51:28.814 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 15:51:29.099 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 15:51:29.227 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:51:29.230 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:51:29.231 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:51:29.234 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:51:29.235 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:51:29.238 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:51:29.239 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 15:51:30.313 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 15:51:30.330 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 15:51:30.367 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 15:51:30.439 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 15:51:30.481 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 15:51:30.496 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 15:51:30.516 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 15:51:30.532 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 15:51:30.561 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 15:51:30.566 +01:00 [INF] Database migrations applied successfully
2025-07-22 15:51:30.570 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 15:51:30.591 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 15:51:30.796 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 15:51:30.798 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 15:51:30.862 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 15:51:30.864 +01:00 [INF] Hosting environment: Development
2025-07-22 15:51:30.866 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 15:51:31.185 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 15:51:31.189 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 15:51:31.459 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 15:51:31.473 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 15:51:31.537 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 15:51:31.586 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 406.8322ms
2025-07-22 15:51:32.080 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 15:51:32.080 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 15:51:32.097 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 16.8628ms
2025-07-22 15:51:32.124 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.7342ms
2025-07-22 15:51:32.438 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 15:51:32.472 +01:00 [INF] Executed DbCommand (541ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 15:51:32.568 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1026.5522ms.
2025-07-22 15:51:32.576 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 15:51:32.642 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1163.779ms
2025-07-22 15:51:32.645 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 15:51:32.651 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1352.4293 ms
2025-07-22 15:51:32.659 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1470.2688ms
2025-07-22 15:51:32.700 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 262.7163ms
2025-07-22 16:05:34.585 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:05:34.631 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:05:34.633 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:05:34.657 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:05:34.659 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.665ms.
2025-07-22 16:05:34.661 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:05:34.665 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 29.3938ms
2025-07-22 16:05:34.666 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:05:34.668 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 76.2935 ms
2025-07-22 16:05:34.672 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 86.8781ms
2025-07-22 16:06:09.122 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:06:09.131 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:06:09.133 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:06:09.155 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:06:09.157 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1206ms.
2025-07-22 16:06:09.159 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:06:09.162 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 27.0013ms
2025-07-22 16:06:09.165 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:06:09.166 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 39.5025 ms
2025-07-22 16:06:09.168 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 46.4068ms
2025-07-22 16:06:22.981 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 16:06:22.989 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:06:22.995 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:06:22.997 +01:00 [INF] HTTP GET /api/v1/auth/me responded 401 in 12.1544 ms
2025-07-22 16:06:22.999 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 401 0 null 18.3336ms
2025-07-22 16:06:23.274 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 16:06:23.279 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:06:23.280 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:06:23.282 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 401 in 3.4934 ms
2025-07-22 16:06:23.286 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 401 0 null 11.0467ms
2025-07-22 16:06:30.444 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 16:06:30.454 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:06:30.456 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:06:30.457 +01:00 [INF] HTTP GET /api/v1/auth/me responded 401 in 3.7595 ms
2025-07-22 16:06:30.462 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 401 0 null 17.902ms
2025-07-22 16:06:30.640 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 16:06:30.645 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:06:30.646 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:06:30.648 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 401 in 3.8447 ms
2025-07-22 16:06:30.650 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 401 0 null 10.1654ms
2025-07-22 16:08:14.994 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 16:08:14.998 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:08:14.999 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:08:15.000 +01:00 [INF] HTTP GET /api/v1/auth/me responded 401 in 2.1575 ms
2025-07-22 16:08:15.002 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 401 0 null 7.8705ms
2025-07-22 16:08:15.130 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 16:08:15.135 +01:00 [INF] CORS policy execution failed.
2025-07-22 16:08:15.136 +01:00 [INF] Request origin https://localhost:63346 does not have permission to access the resource.
2025-07-22 16:08:15.140 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 6.4978 ms
2025-07-22 16:08:15.143 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 12.9477ms
2025-07-22 16:08:15.166 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 16:08:15.170 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:08:15.172 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:08:15.174 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 401 in 3.3652 ms
2025-07-22 16:08:15.176 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 401 0 null 10.3403ms
2025-07-22 16:08:20.456 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 16:08:20.459 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:08:20.460 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:08:20.460 +01:00 [INF] HTTP GET /api/v1/auth/me responded 401 in 1.8074 ms
2025-07-22 16:08:20.462 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 401 0 null 6.3344ms
2025-07-22 16:10:23.455 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 16:10:23.485 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:10:23.491 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:10:23.492 +01:00 [INF] HTTP GET /api/v1/auth/me responded 401 in 8.3581 ms
2025-07-22 16:10:23.497 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 401 0 null 42.4006ms
2025-07-22 16:10:23.657 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 16:10:23.661 +01:00 [INF] CORS policy execution failed.
2025-07-22 16:10:23.662 +01:00 [INF] Request origin https://localhost:63346 does not have permission to access the resource.
2025-07-22 16:10:23.664 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 3.5010 ms
2025-07-22 16:10:23.667 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 10.234ms
2025-07-22 16:10:24.302 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 16:10:24.306 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:10:24.308 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:10:24.309 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 401 in 3.4004 ms
2025-07-22 16:10:24.313 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 401 0 null 11.1105ms
2025-07-22 16:14:54.384 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 16:14:54.992 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 16:14:55.078 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 16:14:55.111 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 16:14:55.814 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 16:14:56.955 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 16:14:57.202 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 16:14:57.307 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 16:14:57.309 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 16:14:57.310 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 16:14:57.311 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 16:14:57.313 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 16:14:57.314 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 16:14:57.315 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 16:14:58.244 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 16:14:58.263 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 16:14:58.302 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 16:14:58.405 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 16:14:58.464 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 16:14:58.480 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 16:14:58.502 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 16:14:58.528 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 16:14:58.564 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 16:14:58.569 +01:00 [INF] Database migrations applied successfully
2025-07-22 16:14:58.575 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 16:14:58.600 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 16:14:58.857 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 16:14:58.858 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 16:14:58.922 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 16:14:58.923 +01:00 [INF] Hosting environment: Development
2025-07-22 16:14:58.924 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 16:14:59.332 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:14:59.423 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 16:14:59.826 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:14:59.946 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:15:00.010 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:15:00.045 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 622.2661ms
2025-07-22 16:15:00.072 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 16:15:00.160 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 87.9473ms
2025-07-22 16:15:00.572 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 16:15:00.623 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.2016ms
2025-07-22 16:15:01.091 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 16:15:01.147 +01:00 [INF] Executed DbCommand (531ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 16:15:01.194 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1131.926ms.
2025-07-22 16:15:01.202 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:15:01.242 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1289.7371ms
2025-07-22 16:15:01.245 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:15:01.249 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1766.2834 ms
2025-07-22 16:15:01.284 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1963.172ms
2025-07-22 16:15:01.384 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 293.4203ms
2025-07-22 16:15:17.002 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 16:15:17.014 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:15:17.021 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:15:17.023 +01:00 [INF] HTTP GET /api/v1/auth/me responded 401 in 13.7957 ms
2025-07-22 16:15:17.025 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 401 0 null 23.1373ms
2025-07-22 16:15:17.140 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 16:15:17.146 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:15:17.147 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:15:17.151 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 401 in 7.7098 ms
2025-07-22 16:15:17.157 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 401 0 null 17.2976ms
2025-07-22 16:15:26.897 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 16:15:26.904 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:15:26.906 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:15:26.907 +01:00 [INF] HTTP GET /api/v1/auth/me responded 401 in 3.6040 ms
2025-07-22 16:15:26.909 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 401 0 null 12.1026ms
2025-07-22 16:15:27.008 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 16:15:27.014 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 16:15:27.014 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 16:15:27.015 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 401 in 2.0589 ms
2025-07-22 16:15:27.018 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 401 0 null 9.5501ms
2025-07-22 16:15:57.746 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:15:57.750 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:15:57.752 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:15:57.780 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:15:57.782 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4208ms.
2025-07-22 16:15:57.784 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:15:57.787 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 33.2794ms
2025-07-22 16:15:57.789 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:15:57.790 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 40.2320 ms
2025-07-22 16:15:57.792 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 46.1503ms
2025-07-22 16:16:05.919 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/auth/login - application/json; charset=utf-8 76
2025-07-22 16:16:05.922 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API)'
2025-07-22 16:16:05.934 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto]]] Login(MeAndMyDog.API.Models.DTOs.Auth.LoginDto) on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 16:16:05.980 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:16:05.983 +01:00 [INF] Login attempt for user: th3dixon@gmail.com
2025-07-22 16:16:06.640 +01:00 [INF] Executed DbCommand (530ms) [Parameters=[@__normalizedEmail_0='TH3DIXON@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-22 16:16:06.890 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-22 16:16:07.108 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='16b55c1e-a98e-4bbe-db1b-08ddc932ae7c', @p1='2025-07-22T15:16:07.0243347+00:00', @p2=NULL (Size = 45), @p3='2025-08-21T15:16:06.9245821+00:00', @p4='True', @p5=NULL (Size = 100), @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Size = 45), @p8='fzWWzuR0nug239BEaRgpy0zJvItGPBaGa/y/T1hdDXAgEC3n7IlND4GacsVbOBHzKbCb/wG4gKqmksyUeMJ2aA==' (Nullable = false) (Size = 500), @p9='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [ExpiresAt], [IsActive], [ReasonRevoked], [RevokedAt], [RevokedByIp], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-22 16:16:07.121 +01:00 [INF] Login successful for: th3dixon@gmail.com
2025-07-22 16:16:07.123 +01:00 [INF] User logged in: th3dixon@gmail.com
2025-07-22 16:16:07.123 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1142.8758ms.
2025-07-22 16:16:07.125 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[MeAndMyDog.API.Models.DTOs.Auth.AuthResponseDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 16:16:07.134 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API) in 1198.7736ms
2025-07-22 16:16:07.136 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.Login (MeAndMyDog.API)'
2025-07-22 16:16:07.138 +01:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1215.7229 ms
2025-07-22 16:16:07.141 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/auth/login - 200 null application/json; charset=utf-8 1221.2981ms
2025-07-22 16:16:12.572 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:16:12.577 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:16:12.578 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:16:12.598 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:16:12.603 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2027ms.
2025-07-22 16:16:12.605 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:16:12.609 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 28.2743ms
2025-07-22 16:16:12.610 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:16:12.612 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 35.4696 ms
2025-07-22 16:16:12.616 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 44.1548ms
2025-07-22 16:16:14.400 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 16:16:14.456 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 16:16:14.458 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]] GetCurrentUser() on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 16:16:14.541 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:16:14.544 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.0694ms.
2025-07-22 16:16:14.546 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:16:14.550 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) in 89.5332ms
2025-07-22 16:16:14.551 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 16:16:14.552 +01:00 [INF] HTTP GET /api/v1/auth/me responded 200 in 148.2598 ms
2025-07-22 16:16:14.555 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 200 null application/json; charset=utf-8 154.286ms
2025-07-22 16:16:14.768 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 16:16:14.773 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 16:16:14.781 +01:00 [INF] Route matched with {action = "GetConversations", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(System.Nullable`1[MeAndMyDog.API.Models.Enums.ConversationType], Boolean, Int32, Int32) on controller MeAndMyDog.API.Controllers.MessagingController (MeAndMyDog.API).
2025-07-22 16:16:14.804 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:16:14.874 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Conversations] AS [c]
WHERE EXISTS (
    SELECT 1
    FROM [ConversationParticipants] AS [c0]
    WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
    SELECT TOP(1) [c1].[IsArchived]
    FROM [ConversationParticipants] AS [c1]
    WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
2025-07-22 16:16:14.961 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-22 16:16:15.034 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False', @__p_2='0', @__p_3='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ConversationType], [c8].[Title], [c8].[CreatedAt], [c8].[CreatedBy], [c8].[Description], [c8].[ImageUrl], [c8].[IsActive], [c8].[LastMessageAt], [c8].[LastMessageId], [c8].[LastMessagePreview], [c8].[MessageCount], [c8].[Name], [c8].[Type], [c8].[UpdatedAt], [s].[Id], [s].[ConversationId], [s].[IsActive], [s].[IsArchived], [s].[IsMuted], [s].[IsPinned], [s].[JoinedAt], [s].[LastReadAt], [s].[LastReadMessageId], [s].[LeftAt], [s].[MutedUntil], [s].[Role], [s].[UnreadCount], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[AccountStatus], [s].[AddressLine1], [s].[AddressLine2], [s].[City], [s].[ConcurrencyStamp], [s].[County], [s].[CreatedAt], [s].[DateOfBirth], [s].[Email], [s].[EmailConfirmed], [s].[FirstName], [s].[Gender], [s].[IsActive0], [s].[IsKYCVerified], [s].[LastName], [s].[LastSeenAt], [s].[Latitude], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[Longitude], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[PostCode], [s].[PreferredLanguage], [s].[ProfileImageUrl], [s].[ProfilePhotoUrl], [s].[SecurityStamp], [s].[SubscriptionType], [s].[TimeZone], [s].[TwoFactorEnabled], [s].[UpdatedAt], [s].[UserName], [s].[UserType], [m1].[Id], [m1].[Content], [m1].[ConversationId], [m1].[CreatedAt], [m1].[DeletedAt], [m1].[DeletedBy], [m1].[DeliveryStatus], [m1].[EditHistory], [m1].[EditedAt], [m1].[IsDeleted], [m1].[IsEdited], [m1].[IsEncrypted], [m1].[Mentions], [m1].[MessageType], [m1].[ModerationResult], [m1].[ParentMessageId], [m1].[SenderId], [m1].[SentAt], [m1].[Status], [m1].[Tags], [m1].[Timestamp], [c8].[c], [s0].[UserId], [s0].[c], [s0].[Role], [s0].[JoinedAt], [s0].[LastReadAt], [s0].[Id], [s0].[Id0], [c8].[c0], [c8].[c1], [c8].[c2]
FROM (
    SELECT [c].[Id], [c].[ConversationType], [c].[Title], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[ImageUrl], [c].[IsActive], [c].[LastMessageAt], [c].[LastMessageId], [c].[LastMessagePreview], [c].[MessageCount], [c].[Name], [c].[Type], [c].[UpdatedAt], (
        SELECT TOP(1) [c3].[UnreadCount]
        FROM [ConversationParticipants] AS [c3]
        WHERE [c].[Id] = [c3].[ConversationId] AND [c3].[UserId] = @__userId_0) AS [c], (
        SELECT TOP(1) [c5].[IsArchived]
        FROM [ConversationParticipants] AS [c5]
        WHERE [c].[Id] = [c5].[ConversationId] AND [c5].[UserId] = @__userId_0) AS [c0], (
        SELECT TOP(1) [c6].[IsPinned]
        FROM [ConversationParticipants] AS [c6]
        WHERE [c].[Id] = [c6].[ConversationId] AND [c6].[UserId] = @__userId_0) AS [c1], (
        SELECT TOP(1) [c7].[IsMuted]
        FROM [ConversationParticipants] AS [c7]
        WHERE [c].[Id] = [c7].[ConversationId] AND [c7].[UserId] = @__userId_0) AS [c2], COALESCE([c].[LastMessageAt], [c].[CreatedAt]) AS [c3]
    FROM [Conversations] AS [c]
    WHERE EXISTS (
        SELECT 1
        FROM [ConversationParticipants] AS [c0]
        WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
        SELECT TOP(1) [c1].[IsArchived]
        FROM [ConversationParticipants] AS [c1]
        WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
    ORDER BY COALESCE([c].[LastMessageAt], [c].[CreatedAt]) DESC
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [c8]
LEFT JOIN (
    SELECT [c2].[Id], [c2].[ConversationId], [c2].[IsActive], [c2].[IsArchived], [c2].[IsMuted], [c2].[IsPinned], [c2].[JoinedAt], [c2].[LastReadAt], [c2].[LastReadMessageId], [c2].[LeftAt], [c2].[MutedUntil], [c2].[Role], [c2].[UnreadCount], [c2].[UserId], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive] AS [IsActive0], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
    FROM [ConversationParticipants] AS [c2]
    INNER JOIN [Users] AS [u] ON [c2].[UserId] = [u].[Id]
) AS [s] ON [c8].[Id] = [s].[ConversationId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Content], [m0].[ConversationId], [m0].[CreatedAt], [m0].[DeletedAt], [m0].[DeletedBy], [m0].[DeliveryStatus], [m0].[EditHistory], [m0].[EditedAt], [m0].[IsDeleted], [m0].[IsEdited], [m0].[IsEncrypted], [m0].[Mentions], [m0].[MessageType], [m0].[ModerationResult], [m0].[ParentMessageId], [m0].[SenderId], [m0].[SentAt], [m0].[Status], [m0].[Tags], [m0].[Timestamp]
    FROM (
        SELECT [m].[Id], [m].[Content], [m].[ConversationId], [m].[CreatedAt], [m].[DeletedAt], [m].[DeletedBy], [m].[DeliveryStatus], [m].[EditHistory], [m].[EditedAt], [m].[IsDeleted], [m].[IsEdited], [m].[IsEncrypted], [m].[Mentions], [m].[MessageType], [m].[ModerationResult], [m].[ParentMessageId], [m].[SenderId], [m].[SentAt], [m].[Status], [m].[Tags], [m].[Timestamp], ROW_NUMBER() OVER(PARTITION BY [m].[ConversationId] ORDER BY [m].[CreatedAt] DESC) AS [row]
        FROM [Messages] AS [m]
    ) AS [m0]
    WHERE [m0].[row] <= 1
) AS [m1] ON [c8].[Id] = [m1].[ConversationId]
LEFT JOIN (
    SELECT [c4].[UserId], COALESCE([u0].[UserName], N'Unknown') AS [c], [c4].[Role], [c4].[JoinedAt], [c4].[LastReadAt], [c4].[Id], [u0].[Id] AS [Id0], [c4].[ConversationId]
    FROM [ConversationParticipants] AS [c4]
    INNER JOIN [Users] AS [u0] ON [c4].[UserId] = [u0].[Id]
) AS [s0] ON [c8].[Id] = [s0].[ConversationId]
ORDER BY [c8].[c3] DESC, [c8].[Id], [s].[Id], [s].[Id0], [m1].[ConversationId], [m1].[CreatedAt] DESC, [m1].[Id], [s0].[Id]
2025-07-22 16:16:15.040 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 233.8472ms.
2025-07-22 16:16:15.041 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ConversationListResponse'.
2025-07-22 16:16:15.055 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) in 271.7461ms
2025-07-22 16:16:15.056 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 16:16:15.057 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 200 in 285.1586 ms
2025-07-22 16:16:15.059 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 200 null application/json; charset=utf-8 290.9889ms
2025-07-22 16:16:46.401 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/users/search?query=C - null null
2025-07-22 16:16:46.404 +01:00 [INF] HTTP GET /api/v1/users/search responded 404 in 0.4252 ms
2025-07-22 16:16:46.406 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/users/search?query=C - 404 0 null 5.5702ms
2025-07-22 16:16:46.410 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:63343/api/v1/users/search, Response status code: 404
2025-07-22 16:16:46.505 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/users/search?query=Ch - null null
2025-07-22 16:16:46.509 +01:00 [INF] HTTP GET /api/v1/users/search responded 404 in 0.2713 ms
2025-07-22 16:16:46.511 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/users/search?query=Ch - 404 0 null 5.2936ms
2025-07-22 16:16:46.514 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:63343/api/v1/users/search, Response status code: 404
2025-07-22 16:16:46.606 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/users/search?query=Chr - null null
2025-07-22 16:16:46.609 +01:00 [INF] HTTP GET /api/v1/users/search responded 404 in 0.4116 ms
2025-07-22 16:16:46.612 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/users/search?query=Chr - 404 0 null 6.306ms
2025-07-22 16:16:46.615 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:63343/api/v1/users/search, Response status code: 404
2025-07-22 16:16:46.652 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/users/search?query=Chri - null null
2025-07-22 16:16:46.656 +01:00 [INF] HTTP GET /api/v1/users/search responded 404 in 0.3369 ms
2025-07-22 16:16:46.658 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/users/search?query=Chri - 404 0 null 6.3018ms
2025-07-22 16:16:46.661 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:63343/api/v1/users/search, Response status code: 404
2025-07-22 16:16:46.754 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/users/search?query=Chris - null null
2025-07-22 16:16:46.757 +01:00 [INF] HTTP GET /api/v1/users/search responded 404 in 0.3167 ms
2025-07-22 16:16:46.764 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/users/search?query=Chris - 404 0 null 9.9136ms
2025-07-22 16:16:46.767 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:63343/api/v1/users/search, Response status code: 404
2025-07-22 16:22:04.480 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 16:22:04.503 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 16:22:04.507 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]] GetCurrentUser() on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 16:22:04.553 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:22:04.555 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1496ms.
2025-07-22 16:22:04.557 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:22:04.559 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) in 46.7056ms
2025-07-22 16:22:04.560 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 16:22:04.561 +01:00 [INF] HTTP GET /api/v1/auth/me responded 200 in 58.8306 ms
2025-07-22 16:22:04.564 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 200 null application/json; charset=utf-8 84.2353ms
2025-07-22 16:22:04.833 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 16:22:04.839 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 16:22:04.840 +01:00 [INF] Route matched with {action = "GetConversations", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(System.Nullable`1[MeAndMyDog.API.Models.Enums.ConversationType], Boolean, Int32, Int32) on controller MeAndMyDog.API.Controllers.MessagingController (MeAndMyDog.API).
2025-07-22 16:22:04.868 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:22:04.983 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Conversations] AS [c]
WHERE EXISTS (
    SELECT 1
    FROM [ConversationParticipants] AS [c0]
    WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
    SELECT TOP(1) [c1].[IsArchived]
    FROM [ConversationParticipants] AS [c1]
    WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
2025-07-22 16:22:05.008 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False', @__p_2='0', @__p_3='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ConversationType], [c8].[Title], [c8].[CreatedAt], [c8].[CreatedBy], [c8].[Description], [c8].[ImageUrl], [c8].[IsActive], [c8].[LastMessageAt], [c8].[LastMessageId], [c8].[LastMessagePreview], [c8].[MessageCount], [c8].[Name], [c8].[Type], [c8].[UpdatedAt], [s].[Id], [s].[ConversationId], [s].[IsActive], [s].[IsArchived], [s].[IsMuted], [s].[IsPinned], [s].[JoinedAt], [s].[LastReadAt], [s].[LastReadMessageId], [s].[LeftAt], [s].[MutedUntil], [s].[Role], [s].[UnreadCount], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[AccountStatus], [s].[AddressLine1], [s].[AddressLine2], [s].[City], [s].[ConcurrencyStamp], [s].[County], [s].[CreatedAt], [s].[DateOfBirth], [s].[Email], [s].[EmailConfirmed], [s].[FirstName], [s].[Gender], [s].[IsActive0], [s].[IsKYCVerified], [s].[LastName], [s].[LastSeenAt], [s].[Latitude], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[Longitude], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[PostCode], [s].[PreferredLanguage], [s].[ProfileImageUrl], [s].[ProfilePhotoUrl], [s].[SecurityStamp], [s].[SubscriptionType], [s].[TimeZone], [s].[TwoFactorEnabled], [s].[UpdatedAt], [s].[UserName], [s].[UserType], [m1].[Id], [m1].[Content], [m1].[ConversationId], [m1].[CreatedAt], [m1].[DeletedAt], [m1].[DeletedBy], [m1].[DeliveryStatus], [m1].[EditHistory], [m1].[EditedAt], [m1].[IsDeleted], [m1].[IsEdited], [m1].[IsEncrypted], [m1].[Mentions], [m1].[MessageType], [m1].[ModerationResult], [m1].[ParentMessageId], [m1].[SenderId], [m1].[SentAt], [m1].[Status], [m1].[Tags], [m1].[Timestamp], [c8].[c], [s0].[UserId], [s0].[c], [s0].[Role], [s0].[JoinedAt], [s0].[LastReadAt], [s0].[Id], [s0].[Id0], [c8].[c0], [c8].[c1], [c8].[c2]
FROM (
    SELECT [c].[Id], [c].[ConversationType], [c].[Title], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[ImageUrl], [c].[IsActive], [c].[LastMessageAt], [c].[LastMessageId], [c].[LastMessagePreview], [c].[MessageCount], [c].[Name], [c].[Type], [c].[UpdatedAt], (
        SELECT TOP(1) [c3].[UnreadCount]
        FROM [ConversationParticipants] AS [c3]
        WHERE [c].[Id] = [c3].[ConversationId] AND [c3].[UserId] = @__userId_0) AS [c], (
        SELECT TOP(1) [c5].[IsArchived]
        FROM [ConversationParticipants] AS [c5]
        WHERE [c].[Id] = [c5].[ConversationId] AND [c5].[UserId] = @__userId_0) AS [c0], (
        SELECT TOP(1) [c6].[IsPinned]
        FROM [ConversationParticipants] AS [c6]
        WHERE [c].[Id] = [c6].[ConversationId] AND [c6].[UserId] = @__userId_0) AS [c1], (
        SELECT TOP(1) [c7].[IsMuted]
        FROM [ConversationParticipants] AS [c7]
        WHERE [c].[Id] = [c7].[ConversationId] AND [c7].[UserId] = @__userId_0) AS [c2], COALESCE([c].[LastMessageAt], [c].[CreatedAt]) AS [c3]
    FROM [Conversations] AS [c]
    WHERE EXISTS (
        SELECT 1
        FROM [ConversationParticipants] AS [c0]
        WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
        SELECT TOP(1) [c1].[IsArchived]
        FROM [ConversationParticipants] AS [c1]
        WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
    ORDER BY COALESCE([c].[LastMessageAt], [c].[CreatedAt]) DESC
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [c8]
LEFT JOIN (
    SELECT [c2].[Id], [c2].[ConversationId], [c2].[IsActive], [c2].[IsArchived], [c2].[IsMuted], [c2].[IsPinned], [c2].[JoinedAt], [c2].[LastReadAt], [c2].[LastReadMessageId], [c2].[LeftAt], [c2].[MutedUntil], [c2].[Role], [c2].[UnreadCount], [c2].[UserId], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[Gender], [u].[IsActive] AS [IsActive0], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
    FROM [ConversationParticipants] AS [c2]
    INNER JOIN [Users] AS [u] ON [c2].[UserId] = [u].[Id]
) AS [s] ON [c8].[Id] = [s].[ConversationId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Content], [m0].[ConversationId], [m0].[CreatedAt], [m0].[DeletedAt], [m0].[DeletedBy], [m0].[DeliveryStatus], [m0].[EditHistory], [m0].[EditedAt], [m0].[IsDeleted], [m0].[IsEdited], [m0].[IsEncrypted], [m0].[Mentions], [m0].[MessageType], [m0].[ModerationResult], [m0].[ParentMessageId], [m0].[SenderId], [m0].[SentAt], [m0].[Status], [m0].[Tags], [m0].[Timestamp]
    FROM (
        SELECT [m].[Id], [m].[Content], [m].[ConversationId], [m].[CreatedAt], [m].[DeletedAt], [m].[DeletedBy], [m].[DeliveryStatus], [m].[EditHistory], [m].[EditedAt], [m].[IsDeleted], [m].[IsEdited], [m].[IsEncrypted], [m].[Mentions], [m].[MessageType], [m].[ModerationResult], [m].[ParentMessageId], [m].[SenderId], [m].[SentAt], [m].[Status], [m].[Tags], [m].[Timestamp], ROW_NUMBER() OVER(PARTITION BY [m].[ConversationId] ORDER BY [m].[CreatedAt] DESC) AS [row]
        FROM [Messages] AS [m]
    ) AS [m0]
    WHERE [m0].[row] <= 1
) AS [m1] ON [c8].[Id] = [m1].[ConversationId]
LEFT JOIN (
    SELECT [c4].[UserId], COALESCE([u0].[UserName], N'Unknown') AS [c], [c4].[Role], [c4].[JoinedAt], [c4].[LastReadAt], [c4].[Id], [u0].[Id] AS [Id0], [c4].[ConversationId]
    FROM [ConversationParticipants] AS [c4]
    INNER JOIN [Users] AS [u0] ON [c4].[UserId] = [u0].[Id]
) AS [s0] ON [c8].[Id] = [s0].[ConversationId]
ORDER BY [c8].[c3] DESC, [c8].[Id], [s].[Id], [s].[Id0], [m1].[ConversationId], [m1].[CreatedAt] DESC, [m1].[Id], [s0].[Id]
2025-07-22 16:22:05.011 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 140.9029ms.
2025-07-22 16:22:05.013 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ConversationListResponse'.
2025-07-22 16:22:05.015 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) in 172.5424ms
2025-07-22 16:22:05.016 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 16:22:05.018 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 200 in 180.1686 ms
2025-07-22 16:22:05.022 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 200 null application/json; charset=utf-8 189.3841ms
2025-07-22 16:22:08.021 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:22:08.026 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:22:08.028 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:22:08.049 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:22:08.051 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1331ms.
2025-07-22 16:22:08.055 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:22:08.058 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 26.3463ms
2025-07-22 16:22:08.062 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:22:08.063 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 37.4110 ms
2025-07-22 16:22:08.070 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 49.0533ms
2025-07-22 16:22:34.731 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:22:34.737 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:22:34.738 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:22:34.756 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:22:34.760 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1012ms.
2025-07-22 16:22:34.764 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:22:34.767 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 25.4777ms
2025-07-22 16:22:34.772 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:22:34.773 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 36.9180 ms
2025-07-22 16:22:34.776 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 77.2893ms
2025-07-22 16:22:42.537 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:22:42.541 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:22:42.542 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:22:42.559 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:22:42.565 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.075ms.
2025-07-22 16:22:42.567 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:22:42.570 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.569ms
2025-07-22 16:22:42.572 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:22:42.580 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 39.3200 ms
2025-07-22 16:22:42.584 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 47.2575ms
2025-07-22 16:22:53.677 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:22:53.681 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:22:53.683 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:22:53.705 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:22:53.707 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0884ms.
2025-07-22 16:22:53.711 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:22:53.722 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 32.9766ms
2025-07-22 16:22:53.729 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:22:53.731 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 50.3521 ms
2025-07-22 16:22:53.735 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 58.6675ms
2025-07-22 16:23:07.885 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:23:07.888 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:23:07.891 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:23:07.905 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:23:07.907 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0707ms.
2025-07-22 16:23:07.909 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:23:07.911 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.954ms
2025-07-22 16:23:07.917 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:23:07.918 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.5247 ms
2025-07-22 16:23:07.922 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 36.6004ms
2025-07-22 16:23:14.481 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:23:14.484 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:23:14.485 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:23:14.502 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:23:14.504 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1085ms.
2025-07-22 16:23:14.510 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:23:14.511 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.4786ms
2025-07-22 16:23:14.515 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:23:14.516 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 31.7615 ms
2025-07-22 16:23:14.518 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 37.3622ms
2025-07-22 16:23:19.712 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:23:19.717 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:23:19.719 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:23:19.740 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:23:19.742 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0938ms.
2025-07-22 16:23:19.744 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:23:19.745 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 24.963ms
2025-07-22 16:23:19.748 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:23:19.749 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 32.1671 ms
2025-07-22 16:23:19.751 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 38.5517ms
2025-07-22 16:23:49.987 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:23:49.994 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:23:49.995 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:23:50.009 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:23:50.011 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0681ms.
2025-07-22 16:23:50.013 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:23:50.014 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 17.8529ms
2025-07-22 16:23:50.016 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:23:50.017 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 23.5166 ms
2025-07-22 16:23:50.020 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 36.8555ms
2025-07-22 16:24:39.867 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 16:24:39.870 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:24:39.872 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 16:24:39.896 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 16:24:39.913 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.091ms.
2025-07-22 16:24:39.915 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 16:24:39.917 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 40.9148ms
2025-07-22 16:24:39.918 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 16:24:39.919 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 49.7838 ms
2025-07-22 16:24:39.922 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 55.2091ms
2025-07-22 17:04:11.368 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 17:04:12.186 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 17:04:12.270 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 17:04:12.309 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 17:04:13.166 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 17:04:14.456 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 17:04:14.826 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 17:04:14.973 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 17:04:14.976 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 17:04:14.977 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 17:04:14.979 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 17:04:14.980 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 17:04:14.982 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 17:04:14.983 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 17:04:16.168 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 17:04:16.190 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 17:04:16.231 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 17:04:16.318 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 17:04:16.367 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 17:04:16.385 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 17:04:16.407 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 17:04:16.426 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 17:04:16.460 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 17:04:16.467 +01:00 [INF] Database migrations applied successfully
2025-07-22 17:04:16.474 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 17:04:16.502 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 17:04:16.765 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 17:04:16.767 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 17:04:16.837 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 17:04:16.874 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 17:04:16.875 +01:00 [INF] Hosting environment: Development
2025-07-22 17:04:16.878 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 17:04:17.116 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 17:04:17.124 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:04:17.167 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 17:04:17.342 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:04:17.574 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 457.7251ms
2025-07-22 17:04:17.596 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - null null
2025-07-22 17:04:17.617 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 20.8323ms
2025-07-22 17:04:18.172 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/_vs/browserLink - null null
2025-07-22 17:04:18.223 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.3101ms
2025-07-22 17:04:18.461 +01:00 [INF] Executed DbCommand (531ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 17:04:18.517 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1154.0378ms.
2025-07-22 17:04:18.528 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:04:18.574 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 1400.1334ms
2025-07-22 17:04:18.578 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:04:18.584 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 1643.2670 ms
2025-07-22 17:04:18.594 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 1767.5639ms
2025-07-22 17:04:19.102 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 17:04:19.489 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 386.9189ms
2025-07-22 17:04:31.387 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - null null
2025-07-22 17:04:31.399 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.405 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.406 +01:00 [INF] HTTP GET /api/v1/dashboard/quick-stats responded 401 in 13.0680 ms
2025-07-22 17:04:31.409 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - 401 0 null 22.012ms
2025-07-22 17:04:31.666 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - null null
2025-07-22 17:04:31.672 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.673 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.675 +01:00 [INF] HTTP GET /api/v1/dashboard/health-reminders responded 401 in 5.4572 ms
2025-07-22 17:04:31.677 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - 401 0 null 11.9874ms
2025-07-22 17:04:31.755 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - null null
2025-07-22 17:04:31.760 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.761 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.763 +01:00 [INF] HTTP GET /api/v1/dashboard/weather responded 401 in 2.9304 ms
2025-07-22 17:04:31.767 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - 401 0 null 11.5336ms
2025-07-22 17:04:31.768 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - null null
2025-07-22 17:04:31.768 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - null null
2025-07-22 17:04:31.832 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - null null
2025-07-22 17:04:31.832 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - null null
2025-07-22 17:04:31.842 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - null null
2025-07-22 17:04:31.844 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - null null
2025-07-22 17:04:31.849 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.853 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.856 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.858 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.861 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.865 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.865 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.865 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.867 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.867 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.868 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.869 +01:00 [INF] HTTP GET /api/v1/dashboard/recent-activity responded 401 in 20.6670 ms
2025-07-22 17:04:31.870 +01:00 [INF] HTTP GET /api/v1/dashboard/pets responded 401 in 17.1323 ms
2025-07-22 17:04:31.871 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.872 +01:00 [INF] HTTP GET /api/v1/dashboard/quick-stats responded 401 in 16.5044 ms
2025-07-22 17:04:31.873 +01:00 [INF] HTTP GET /api/v1/dashboard/health-reminders responded 401 in 15.1279 ms
2025-07-22 17:04:31.874 +01:00 [INF] HTTP GET /api/v1/dashboard/weather responded 401 in 13.1015 ms
2025-07-22 17:04:31.876 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - 401 0 null 107.907ms
2025-07-22 17:04:31.878 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - 401 0 null 109.8938ms
2025-07-22 17:04:31.897 +01:00 [INF] HTTP GET /api/v1/dashboard/upcoming-services responded 401 in 31.6120 ms
2025-07-22 17:04:31.911 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - 401 0 null 78.9012ms
2025-07-22 17:04:31.913 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - 401 0 null 81.0467ms
2025-07-22 17:04:31.915 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - 401 0 null 73.1082ms
2025-07-22 17:04:31.919 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - null null
2025-07-22 17:04:31.935 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - null null
2025-07-22 17:04:31.936 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - 401 0 null 91.9921ms
2025-07-22 17:04:31.951 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.953 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:31.957 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.958 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:31.959 +01:00 [INF] HTTP GET /api/v1/dashboard/pets responded 401 in 8.3650 ms
2025-07-22 17:04:31.960 +01:00 [INF] HTTP GET /api/v1/dashboard/recent-activity responded 401 in 7.7184 ms
2025-07-22 17:04:31.962 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - 401 0 null 43.5849ms
2025-07-22 17:04:31.964 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - 401 0 null 29.276ms
2025-07-22 17:04:32.223 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - null null
2025-07-22 17:04:32.227 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:32.229 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:32.230 +01:00 [INF] HTTP GET /api/v1/dashboard/upcoming-services responded 401 in 3.4385 ms
2025-07-22 17:04:32.232 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - 401 0 null 9.5381ms
2025-07-22 17:04:34.047 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - null null
2025-07-22 17:04:34.047 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - null null
2025-07-22 17:04:34.047 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - null null
2025-07-22 17:04:34.051 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.054 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.056 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.057 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.057 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.058 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.059 +01:00 [INF] HTTP GET /api/v1/dashboard/pets responded 401 in 8.1183 ms
2025-07-22 17:04:34.060 +01:00 [INF] HTTP GET /api/v1/dashboard/quick-stats responded 401 in 6.3892 ms
2025-07-22 17:04:34.061 +01:00 [INF] HTTP GET /api/v1/dashboard/upcoming-services responded 401 in 4.5186 ms
2025-07-22 17:04:34.063 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - 401 0 null 15.9988ms
2025-07-22 17:04:34.065 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - 401 0 null 17.7399ms
2025-07-22 17:04:34.066 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - 401 0 null 19.3526ms
2025-07-22 17:04:34.140 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - null null
2025-07-22 17:04:34.140 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - null null
2025-07-22 17:04:34.140 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - null null
2025-07-22 17:04:34.144 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.147 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.151 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.151 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.152 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.153 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.154 +01:00 [INF] HTTP GET /api/v1/dashboard/health-reminders responded 401 in 10.2645 ms
2025-07-22 17:04:34.155 +01:00 [INF] HTTP GET /api/v1/dashboard/recent-activity responded 401 in 7.8343 ms
2025-07-22 17:04:34.156 +01:00 [INF] HTTP GET /api/v1/dashboard/weather responded 401 in 5.7846 ms
2025-07-22 17:04:34.158 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - 401 0 null 17.8094ms
2025-07-22 17:04:34.171 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - 401 0 null 30.578ms
2025-07-22 17:04:34.175 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - 401 0 null 34.5016ms
2025-07-22 17:04:34.481 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - null null
2025-07-22 17:04:34.481 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - null null
2025-07-22 17:04:34.481 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - null null
2025-07-22 17:04:34.484 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.487 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.489 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.489 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.490 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.491 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.492 +01:00 [INF] HTTP GET /api/v1/dashboard/upcoming-services responded 401 in 7.7943 ms
2025-07-22 17:04:34.493 +01:00 [INF] HTTP GET /api/v1/dashboard/quick-stats responded 401 in 6.5928 ms
2025-07-22 17:04:34.494 +01:00 [INF] HTTP GET /api/v1/dashboard/pets responded 401 in 5.7258 ms
2025-07-22 17:04:34.496 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - 401 0 null 15.813ms
2025-07-22 17:04:34.498 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - 401 0 null 17.8428ms
2025-07-22 17:04:34.500 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - 401 0 null 19.1108ms
2025-07-22 17:04:34.604 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - null null
2025-07-22 17:04:34.607 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.609 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.610 +01:00 [INF] HTTP GET /api/v1/dashboard/weather responded 401 in 2.5390 ms
2025-07-22 17:04:34.612 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - 401 0 null 7.9738ms
2025-07-22 17:04:34.665 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - null null
2025-07-22 17:04:34.668 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.670 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.671 +01:00 [INF] HTTP GET /api/v1/dashboard/recent-activity responded 401 in 2.8488 ms
2025-07-22 17:04:34.673 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - 401 0 null 7.8329ms
2025-07-22 17:04:34.943 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - null null
2025-07-22 17:04:34.950 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:34.951 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:34.953 +01:00 [INF] HTTP GET /api/v1/dashboard/health-reminders responded 401 in 3.1067 ms
2025-07-22 17:04:34.955 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - 401 0 null 11.8564ms
2025-07-22 17:04:35.379 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - null null
2025-07-22 17:04:35.379 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - null null
2025-07-22 17:04:35.384 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:35.388 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:35.392 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:35.393 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:35.398 +01:00 [INF] HTTP GET /api/v1/dashboard/upcoming-services responded 401 in 14.4353 ms
2025-07-22 17:04:35.399 +01:00 [INF] HTTP GET /api/v1/dashboard/recent-activity responded 401 in 11.0564 ms
2025-07-22 17:04:35.401 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - 401 0 null 22.3972ms
2025-07-22 17:04:35.403 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - 401 0 null 24.003ms
2025-07-22 17:04:35.410 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - null null
2025-07-22 17:04:35.414 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:35.415 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:35.416 +01:00 [INF] HTTP GET /api/v1/dashboard/quick-stats responded 401 in 2.2803 ms
2025-07-22 17:04:35.418 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - 401 0 null 7.8803ms
2025-07-22 17:04:35.503 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - null null
2025-07-22 17:04:35.507 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:35.508 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:35.509 +01:00 [INF] HTTP GET /api/v1/dashboard/pets responded 401 in 2.6134 ms
2025-07-22 17:04:35.512 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - 401 0 null 9.6931ms
2025-07-22 17:04:35.689 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - null null
2025-07-22 17:04:35.692 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:35.694 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:35.695 +01:00 [INF] HTTP GET /api/v1/dashboard/weather responded 401 in 2.8382 ms
2025-07-22 17:04:35.697 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - 401 0 null 8.1293ms
2025-07-22 17:04:35.783 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - null null
2025-07-22 17:04:35.785 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:35.786 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:35.787 +01:00 [INF] HTTP GET /api/v1/dashboard/health-reminders responded 401 in 2.1191 ms
2025-07-22 17:04:35.790 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - 401 0 null 7.2238ms
2025-07-22 17:04:36.000 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - null null
2025-07-22 17:04:36.003 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:36.005 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:36.006 +01:00 [INF] HTTP GET /api/v1/dashboard/weather responded 401 in 3.0556 ms
2025-07-22 17:04:36.008 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - 401 0 null 7.9542ms
2025-07-22 17:04:36.061 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - null null
2025-07-22 17:04:36.064 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:36.065 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:36.066 +01:00 [INF] HTTP GET /api/v1/dashboard/quick-stats responded 401 in 1.9546 ms
2025-07-22 17:04:36.068 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - 401 0 null 6.5636ms
2025-07-22 17:04:36.155 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - null null
2025-07-22 17:04:36.157 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:36.158 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:36.159 +01:00 [INF] HTTP GET /api/v1/dashboard/recent-activity responded 401 in 1.9076 ms
2025-07-22 17:04:36.161 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - 401 0 null 5.9385ms
2025-07-22 17:04:36.185 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - null null
2025-07-22 17:04:36.188 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - null null
2025-07-22 17:04:36.188 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:36.190 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:36.191 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:36.192 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:36.192 +01:00 [INF] HTTP GET /api/v1/dashboard/pets responded 401 in 4.2937 ms
2025-07-22 17:04:36.193 +01:00 [INF] HTTP GET /api/v1/dashboard/upcoming-services responded 401 in 3.2059 ms
2025-07-22 17:04:36.195 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - 401 0 null 9.5671ms
2025-07-22 17:04:36.196 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - 401 0 null 8.196ms
2025-07-22 17:04:36.466 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - null null
2025-07-22 17:04:36.469 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:36.470 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:36.471 +01:00 [INF] HTTP GET /api/v1/dashboard/health-reminders responded 401 in 2.3998 ms
2025-07-22 17:04:36.473 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - 401 0 null 7.1851ms
2025-07-22 17:04:38.820 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - null null
2025-07-22 17:04:38.838 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:38.839 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:38.841 +01:00 [INF] HTTP GET /api/v1/dashboard/quick-stats responded 401 in 2.4252 ms
2025-07-22 17:04:38.842 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - 401 0 null 21.8602ms
2025-07-22 17:04:38.975 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - null null
2025-07-22 17:04:38.980 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:38.981 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:38.982 +01:00 [INF] HTTP GET /api/v1/dashboard/weather responded 401 in 2.3333 ms
2025-07-22 17:04:38.984 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - 401 0 null 8.5936ms
2025-07-22 17:04:39.007 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - null null
2025-07-22 17:04:39.009 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:39.010 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:39.012 +01:00 [INF] HTTP GET /api/v1/dashboard/pets responded 401 in 2.4239 ms
2025-07-22 17:04:39.013 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - 401 0 null 6.6488ms
2025-07-22 17:04:39.101 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - null null
2025-07-22 17:04:39.105 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:39.106 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:39.107 +01:00 [INF] HTTP GET /api/v1/dashboard/upcoming-services responded 401 in 2.2598 ms
2025-07-22 17:04:39.109 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - 401 0 null 7.686ms
2025-07-22 17:04:39.131 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - null null
2025-07-22 17:04:39.134 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:39.134 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:39.136 +01:00 [INF] HTTP GET /api/v1/dashboard/health-reminders responded 401 in 1.9294 ms
2025-07-22 17:04:39.138 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - 401 0 null 7.3489ms
2025-07-22 17:04:39.348 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - null null
2025-07-22 17:04:39.352 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:39.353 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:39.354 +01:00 [INF] HTTP GET /api/v1/dashboard/quick-stats responded 401 in 2.4746 ms
2025-07-22 17:04:39.356 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/quick-stats - 401 0 null 7.9588ms
2025-07-22 17:04:39.410 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - null null
2025-07-22 17:04:39.413 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:39.414 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:39.415 +01:00 [INF] HTTP GET /api/v1/dashboard/recent-activity responded 401 in 2.0233 ms
2025-07-22 17:04:39.417 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - 401 0 null 7.3671ms
2025-07-22 17:04:39.501 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - null null
2025-07-22 17:04:39.501 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - null null
2025-07-22 17:04:39.505 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:39.507 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:39.508 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:39.509 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:39.511 +01:00 [INF] HTTP GET /api/v1/dashboard/pets responded 401 in 6.3787 ms
2025-07-22 17:04:39.512 +01:00 [INF] HTTP GET /api/v1/dashboard/weather responded 401 in 4.6734 ms
2025-07-22 17:04:39.516 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/pets - 401 0 null 14.4904ms
2025-07-22 17:04:39.518 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/weather - 401 0 null 16.4034ms
2025-07-22 17:04:39.627 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - null null
2025-07-22 17:04:39.630 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:39.632 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:39.633 +01:00 [INF] HTTP GET /api/v1/dashboard/upcoming-services responded 401 in 2.5490 ms
2025-07-22 17:04:39.635 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/upcoming-services - 401 0 null 7.5174ms
2025-07-22 17:04:39.782 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - null null
2025-07-22 17:04:39.785 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:39.787 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:39.788 +01:00 [INF] HTTP GET /api/v1/dashboard/health-reminders responded 401 in 3.7240 ms
2025-07-22 17:04:39.790 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/health-reminders - 401 0 null 8.9525ms
2025-07-22 17:04:39.875 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - null null
2025-07-22 17:04:39.878 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:04:39.879 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:04:39.881 +01:00 [INF] HTTP GET /api/v1/dashboard/recent-activity responded 401 in 2.6404 ms
2025-07-22 17:04:39.884 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/dashboard/recent-activity - 401 0 null 8.2769ms
2025-07-22 17:08:27.954 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 17:08:28.025 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 17:08:28.029 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]] GetCurrentUser() on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 17:08:28.090 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:08:28.094 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5582ms.
2025-07-22 17:08:28.096 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:08:28.104 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) in 72.7192ms
2025-07-22 17:08:28.106 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 17:08:28.108 +01:00 [INF] HTTP GET /api/v1/auth/me responded 200 in 149.3859 ms
2025-07-22 17:08:28.110 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 200 null application/json; charset=utf-8 156.1748ms
2025-07-22 17:08:28.153 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:08:28.157 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.161 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 5.3155 ms
2025-07-22 17:08:28.163 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 10.6173ms
2025-07-22 17:08:28.176 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:08:28.190 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.194 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:28.204 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:28.205 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 14.4165 ms
2025-07-22 17:08:28.207 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 30.5779ms
2025-07-22 17:08:28.211 +01:00 [INF] Request starting HTTP/2 CONNECT https://localhost:63343/hubs/messaging?id=Psng2erAYbXdq03fcvoyUw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - null null
2025-07-22 17:08:28.214 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.215 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:08:28.216 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:08:28.217 +01:00 [INF] HTTP CONNECT /hubs/messaging responded 401 in 2.6195 ms
2025-07-22 17:08:28.219 +01:00 [INF] Request finished HTTP/2 CONNECT https://localhost:63343/hubs/messaging?id=Psng2erAYbXdq03fcvoyUw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - 401 0 null 7.2548ms
2025-07-22 17:08:28.224 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:08:28.225 +01:00 [INF] Connection id "0HNE975KF88JA", Request id "0HNE975KF88JA:0000000B": the application completed without reading the entire request body.
2025-07-22 17:08:28.227 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.229 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 1.6216 ms
2025-07-22 17:08:28.231 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 6.3381ms
2025-07-22 17:08:28.233 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:08:28.236 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.237 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:28.238 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:28.239 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 3.2209 ms
2025-07-22 17:08:28.241 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 8.2962ms
2025-07-22 17:08:28.244 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=sJq40hibDpT43XnV-m6m5Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - null null
2025-07-22 17:08:28.247 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.248 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:08:28.249 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:08:28.250 +01:00 [INF] HTTP GET /hubs/messaging responded 401 in 2.9786 ms
2025-07-22 17:08:28.252 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=sJq40hibDpT43XnV-m6m5Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - 401 0 null 7.5697ms
2025-07-22 17:08:28.256 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:08:28.258 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.259 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 0.6923 ms
2025-07-22 17:08:28.261 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 5.0133ms
2025-07-22 17:08:28.262 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:08:28.266 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.267 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:28.269 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:28.270 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 3.1804 ms
2025-07-22 17:08:28.271 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 8.57ms
2025-07-22 17:08:28.275 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508272 - null null
2025-07-22 17:08:28.277 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.278 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 0.7837 ms
2025-07-22 17:08:28.279 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508272 - 204 null null 4.6613ms
2025-07-22 17:08:28.282 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508272 - null null
2025-07-22 17:08:28.285 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.286 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:08:28.299 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:08:28.302 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 16.1459 ms
2025-07-22 17:08:28.308 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508272 - 200 0 application/octet-stream 26.0681ms
2025-07-22 17:08:28.312 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508309 - null null
2025-07-22 17:08:28.313 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg - null null
2025-07-22 17:08:28.315 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.318 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.319 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 4.1230 ms
2025-07-22 17:08:28.320 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 1.9642 ms
2025-07-22 17:08:28.322 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508309 - 204 null null 10.2831ms
2025-07-22 17:08:28.324 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg - 204 null null 11.3808ms
2025-07-22 17:08:28.361 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508309 - null null
2025-07-22 17:08:28.362 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg - text/plain;charset=UTF-8 32
2025-07-22 17:08:28.369 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.371 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.372 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:08:28.373 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:08:28.378 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:08:28.379 +01:00 [INF] HTTP POST /hubs/messaging responded 200 in 8.4819 ms
2025-07-22 17:08:28.382 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg - 200 0 text/plain 20.5346ms
2025-07-22 17:08:28.386 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:08:28.388 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 19.4536 ms
2025-07-22 17:08:28.392 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508309 - 200 3 application/octet-stream 30.3628ms
2025-07-22 17:08:28.395 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508393 - null null
2025-07-22 17:08:28.398 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.399 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 0.9217 ms
2025-07-22 17:08:28.401 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508393 - 204 null null 5.8161ms
2025-07-22 17:08:28.403 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508393 - null null
2025-07-22 17:08:28.407 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 17:08:28.407 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:28.410 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 17:08:28.411 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:08:28.421 +01:00 [INF] Route matched with {action = "GetConversations", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(System.Nullable`1[MeAndMyDog.API.Models.Enums.ConversationType], Boolean, Int32, Int32) on controller MeAndMyDog.API.Controllers.MessagingController (MeAndMyDog.API).
2025-07-22 17:08:28.451 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:08:28.520 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ConversationId]
FROM [ConversationParticipants] AS [c]
WHERE [c].[UserId] = @__userId_0
2025-07-22 17:08:28.523 +01:00 [INF] User 60618b52-05b6-4a57-8486-9ba3a6c2ac0b connected with connection reOymkrmVO6aH8uviS8fdQ
2025-07-22 17:08:28.608 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Conversations] AS [c]
WHERE EXISTS (
    SELECT 1
    FROM [ConversationParticipants] AS [c0]
    WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
    SELECT TOP(1) [c1].[IsArchived]
    FROM [ConversationParticipants] AS [c1]
    WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
2025-07-22 17:08:28.717 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-22 17:08:28.857 +01:00 [INF] Executed DbCommand (109ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False', @__p_2='0', @__p_3='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ConversationType], [c8].[Title], [c8].[CreatedAt], [c8].[CreatedBy], [c8].[Description], [c8].[ImageUrl], [c8].[IsActive], [c8].[LastMessageAt], [c8].[LastMessageId], [c8].[LastMessagePreview], [c8].[MessageCount], [c8].[Name], [c8].[Type], [c8].[UpdatedAt], [s].[Id], [s].[ConversationId], [s].[IsActive], [s].[IsArchived], [s].[IsMuted], [s].[IsPinned], [s].[JoinedAt], [s].[LastReadAt], [s].[LastReadMessageId], [s].[LeftAt], [s].[MutedUntil], [s].[Role], [s].[UnreadCount], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[AccountStatus], [s].[AddressLine1], [s].[AddressLine2], [s].[City], [s].[ConcurrencyStamp], [s].[County], [s].[CreatedAt], [s].[DateOfBirth], [s].[Email], [s].[EmailConfirmed], [s].[FirstName], [s].[FriendCode], [s].[Gender], [s].[IsActive0], [s].[IsKYCVerified], [s].[LastName], [s].[LastSeenAt], [s].[Latitude], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[Longitude], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[PostCode], [s].[PreferredLanguage], [s].[ProfileImageUrl], [s].[ProfilePhotoUrl], [s].[SecurityStamp], [s].[SubscriptionType], [s].[TimeZone], [s].[TwoFactorEnabled], [s].[UpdatedAt], [s].[UserName], [s].[UserType], [m1].[Id], [m1].[Content], [m1].[ConversationId], [m1].[CreatedAt], [m1].[DeletedAt], [m1].[DeletedBy], [m1].[DeliveryStatus], [m1].[EditHistory], [m1].[EditedAt], [m1].[IsDeleted], [m1].[IsEdited], [m1].[IsEncrypted], [m1].[Mentions], [m1].[MessageType], [m1].[ModerationResult], [m1].[ParentMessageId], [m1].[SenderId], [m1].[SentAt], [m1].[Status], [m1].[Tags], [m1].[Timestamp], [c8].[c], [s0].[UserId], [s0].[c], [s0].[Role], [s0].[JoinedAt], [s0].[LastReadAt], [s0].[Id], [s0].[Id0], [c8].[c0], [c8].[c1], [c8].[c2]
FROM (
    SELECT [c].[Id], [c].[ConversationType], [c].[Title], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[ImageUrl], [c].[IsActive], [c].[LastMessageAt], [c].[LastMessageId], [c].[LastMessagePreview], [c].[MessageCount], [c].[Name], [c].[Type], [c].[UpdatedAt], (
        SELECT TOP(1) [c3].[UnreadCount]
        FROM [ConversationParticipants] AS [c3]
        WHERE [c].[Id] = [c3].[ConversationId] AND [c3].[UserId] = @__userId_0) AS [c], (
        SELECT TOP(1) [c5].[IsArchived]
        FROM [ConversationParticipants] AS [c5]
        WHERE [c].[Id] = [c5].[ConversationId] AND [c5].[UserId] = @__userId_0) AS [c0], (
        SELECT TOP(1) [c6].[IsPinned]
        FROM [ConversationParticipants] AS [c6]
        WHERE [c].[Id] = [c6].[ConversationId] AND [c6].[UserId] = @__userId_0) AS [c1], (
        SELECT TOP(1) [c7].[IsMuted]
        FROM [ConversationParticipants] AS [c7]
        WHERE [c].[Id] = [c7].[ConversationId] AND [c7].[UserId] = @__userId_0) AS [c2], COALESCE([c].[LastMessageAt], [c].[CreatedAt]) AS [c3]
    FROM [Conversations] AS [c]
    WHERE EXISTS (
        SELECT 1
        FROM [ConversationParticipants] AS [c0]
        WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
        SELECT TOP(1) [c1].[IsArchived]
        FROM [ConversationParticipants] AS [c1]
        WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
    ORDER BY COALESCE([c].[LastMessageAt], [c].[CreatedAt]) DESC
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [c8]
LEFT JOIN (
    SELECT [c2].[Id], [c2].[ConversationId], [c2].[IsActive], [c2].[IsArchived], [c2].[IsMuted], [c2].[IsPinned], [c2].[JoinedAt], [c2].[LastReadAt], [c2].[LastReadMessageId], [c2].[LeftAt], [c2].[MutedUntil], [c2].[Role], [c2].[UnreadCount], [c2].[UserId], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[FriendCode], [u].[Gender], [u].[IsActive] AS [IsActive0], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
    FROM [ConversationParticipants] AS [c2]
    INNER JOIN [Users] AS [u] ON [c2].[UserId] = [u].[Id]
) AS [s] ON [c8].[Id] = [s].[ConversationId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Content], [m0].[ConversationId], [m0].[CreatedAt], [m0].[DeletedAt], [m0].[DeletedBy], [m0].[DeliveryStatus], [m0].[EditHistory], [m0].[EditedAt], [m0].[IsDeleted], [m0].[IsEdited], [m0].[IsEncrypted], [m0].[Mentions], [m0].[MessageType], [m0].[ModerationResult], [m0].[ParentMessageId], [m0].[SenderId], [m0].[SentAt], [m0].[Status], [m0].[Tags], [m0].[Timestamp]
    FROM (
        SELECT [m].[Id], [m].[Content], [m].[ConversationId], [m].[CreatedAt], [m].[DeletedAt], [m].[DeletedBy], [m].[DeliveryStatus], [m].[EditHistory], [m].[EditedAt], [m].[IsDeleted], [m].[IsEdited], [m].[IsEncrypted], [m].[Mentions], [m].[MessageType], [m].[ModerationResult], [m].[ParentMessageId], [m].[SenderId], [m].[SentAt], [m].[Status], [m].[Tags], [m].[Timestamp], ROW_NUMBER() OVER(PARTITION BY [m].[ConversationId] ORDER BY [m].[CreatedAt] DESC) AS [row]
        FROM [Messages] AS [m]
    ) AS [m0]
    WHERE [m0].[row] <= 1
) AS [m1] ON [c8].[Id] = [m1].[ConversationId]
LEFT JOIN (
    SELECT [c4].[UserId], COALESCE([u0].[UserName], N'Unknown') AS [c], [c4].[Role], [c4].[JoinedAt], [c4].[LastReadAt], [c4].[Id], [u0].[Id] AS [Id0], [c4].[ConversationId]
    FROM [ConversationParticipants] AS [c4]
    INNER JOIN [Users] AS [u0] ON [c4].[UserId] = [u0].[Id]
) AS [s0] ON [c8].[Id] = [s0].[ConversationId]
ORDER BY [c8].[c3] DESC, [c8].[Id], [s].[Id], [s].[Id0], [m1].[ConversationId], [m1].[CreatedAt] DESC, [m1].[Id], [s0].[Id]
2025-07-22 17:08:28.863 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 409.7897ms.
2025-07-22 17:08:28.864 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ConversationListResponse'.
2025-07-22 17:08:28.879 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) in 456.7784ms
2025-07-22 17:08:28.880 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 17:08:28.882 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 200 in 471.9615 ms
2025-07-22 17:08:28.884 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 200 null application/json; charset=utf-8 477.1919ms
2025-07-22 17:08:49.215 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:08:49.225 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 20817.2845 ms
2025-07-22 17:08:49.252 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=OWuOIBH8Ok4a8zxVEhJUjg&_=1753200508393 - 499 null null 20848.7246ms
2025-07-22 17:08:50.259 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 17:08:50.265 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 17:08:50.268 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]] GetCurrentUser() on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 17:08:50.311 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:08:50.313 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1695ms.
2025-07-22 17:08:50.314 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:08:50.316 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) in 45.9431ms
2025-07-22 17:08:50.317 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 17:08:50.318 +01:00 [INF] HTTP GET /api/v1/auth/me responded 200 in 54.0204 ms
2025-07-22 17:08:50.320 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 200 null application/json; charset=utf-8 61.5704ms
2025-07-22 17:08:50.510 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:08:50.515 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.517 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 2.3982 ms
2025-07-22 17:08:50.519 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 9.3703ms
2025-07-22 17:08:50.536 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:08:50.541 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.542 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:50.544 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:50.546 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 5.3662 ms
2025-07-22 17:08:50.549 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 13.3554ms
2025-07-22 17:08:50.559 +01:00 [INF] Request starting HTTP/2 CONNECT https://localhost:63343/hubs/messaging?id=q04cEojBBcxhTgWpO6WAtQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - null null
2025-07-22 17:08:50.562 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.563 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:08:50.564 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:08:50.566 +01:00 [INF] HTTP CONNECT /hubs/messaging responded 401 in 3.6492 ms
2025-07-22 17:08:50.568 +01:00 [INF] Request finished HTTP/2 CONNECT https://localhost:63343/hubs/messaging?id=q04cEojBBcxhTgWpO6WAtQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - 401 0 null 9.264ms
2025-07-22 17:08:50.572 +01:00 [INF] Connection id "0HNE975KF88JA", Request id "0HNE975KF88JA:0000001D": the application completed without reading the entire request body.
2025-07-22 17:08:50.583 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:08:50.586 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.587 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 1.2459 ms
2025-07-22 17:08:50.589 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 6.2561ms
2025-07-22 17:08:50.593 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:08:50.596 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.598 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:50.600 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:50.602 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 5.2437 ms
2025-07-22 17:08:50.604 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 11.5089ms
2025-07-22 17:08:50.627 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=SWRcJU2Yh-wAvxkS2ALUbw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - null null
2025-07-22 17:08:50.630 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.632 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:08:50.633 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:08:50.635 +01:00 [INF] HTTP GET /hubs/messaging responded 401 in 4.3630 ms
2025-07-22 17:08:50.643 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=SWRcJU2Yh-wAvxkS2ALUbw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - 401 0 null 16.2696ms
2025-07-22 17:08:50.653 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:08:50.657 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.659 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 1.6114 ms
2025-07-22 17:08:50.662 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 8.4281ms
2025-07-22 17:08:50.666 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:08:50.670 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.671 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:50.673 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:08:50.675 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 5.0055 ms
2025-07-22 17:08:50.677 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 11.2561ms
2025-07-22 17:08:50.685 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530679 - null null
2025-07-22 17:08:50.691 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.692 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 0.9670 ms
2025-07-22 17:08:50.694 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530679 - 204 null null 8.5986ms
2025-07-22 17:08:50.705 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530679 - null null
2025-07-22 17:08:50.708 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.709 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:08:50.712 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:08:50.714 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 5.6368 ms
2025-07-22 17:08:50.716 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530679 - 200 0 application/octet-stream 11.1824ms
2025-07-22 17:08:50.723 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530719 - null null
2025-07-22 17:08:50.724 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg - null null
2025-07-22 17:08:50.726 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.729 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.730 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 3.7094 ms
2025-07-22 17:08:50.731 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 1.4902 ms
2025-07-22 17:08:50.732 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530719 - 204 null null 9.0921ms
2025-07-22 17:08:50.734 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg - 204 null null 10.3234ms
2025-07-22 17:08:50.737 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530719 - null null
2025-07-22 17:08:50.737 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg - text/plain;charset=UTF-8 32
2025-07-22 17:08:50.742 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.745 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.746 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:08:50.746 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:08:50.748 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:08:50.748 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:08:50.749 +01:00 [INF] HTTP POST /hubs/messaging responded 200 in 4.1879 ms
2025-07-22 17:08:50.750 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 7.4216 ms
2025-07-22 17:08:50.751 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg - 200 0 text/plain 13.9274ms
2025-07-22 17:08:50.753 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530719 - 200 3 application/octet-stream 16.2051ms
2025-07-22 17:08:50.756 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530754 - null null
2025-07-22 17:08:50.762 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.762 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 0.8948 ms
2025-07-22 17:08:50.763 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 17:08:50.764 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530754 - 204 null null 8.0675ms
2025-07-22 17:08:50.765 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ConversationId]
FROM [ConversationParticipants] AS [c]
WHERE [c].[UserId] = @__userId_0
2025-07-22 17:08:50.767 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530754 - null null
2025-07-22 17:08:50.768 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 17:08:50.771 +01:00 [INF] User 60618b52-05b6-4a57-8486-9ba3a6c2ac0b connected with connection T37v58vroDOzAJoJHe-iuA
2025-07-22 17:08:50.773 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:08:50.774 +01:00 [INF] Route matched with {action = "GetConversations", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(System.Nullable`1[MeAndMyDog.API.Models.Enums.ConversationType], Boolean, Int32, Int32) on controller MeAndMyDog.API.Controllers.MessagingController (MeAndMyDog.API).
2025-07-22 17:08:50.776 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:08:50.790 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:08:50.805 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Conversations] AS [c]
WHERE EXISTS (
    SELECT 1
    FROM [ConversationParticipants] AS [c0]
    WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
    SELECT TOP(1) [c1].[IsArchived]
    FROM [ConversationParticipants] AS [c1]
    WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
2025-07-22 17:08:50.830 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False', @__p_2='0', @__p_3='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ConversationType], [c8].[Title], [c8].[CreatedAt], [c8].[CreatedBy], [c8].[Description], [c8].[ImageUrl], [c8].[IsActive], [c8].[LastMessageAt], [c8].[LastMessageId], [c8].[LastMessagePreview], [c8].[MessageCount], [c8].[Name], [c8].[Type], [c8].[UpdatedAt], [s].[Id], [s].[ConversationId], [s].[IsActive], [s].[IsArchived], [s].[IsMuted], [s].[IsPinned], [s].[JoinedAt], [s].[LastReadAt], [s].[LastReadMessageId], [s].[LeftAt], [s].[MutedUntil], [s].[Role], [s].[UnreadCount], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[AccountStatus], [s].[AddressLine1], [s].[AddressLine2], [s].[City], [s].[ConcurrencyStamp], [s].[County], [s].[CreatedAt], [s].[DateOfBirth], [s].[Email], [s].[EmailConfirmed], [s].[FirstName], [s].[FriendCode], [s].[Gender], [s].[IsActive0], [s].[IsKYCVerified], [s].[LastName], [s].[LastSeenAt], [s].[Latitude], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[Longitude], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[PostCode], [s].[PreferredLanguage], [s].[ProfileImageUrl], [s].[ProfilePhotoUrl], [s].[SecurityStamp], [s].[SubscriptionType], [s].[TimeZone], [s].[TwoFactorEnabled], [s].[UpdatedAt], [s].[UserName], [s].[UserType], [m1].[Id], [m1].[Content], [m1].[ConversationId], [m1].[CreatedAt], [m1].[DeletedAt], [m1].[DeletedBy], [m1].[DeliveryStatus], [m1].[EditHistory], [m1].[EditedAt], [m1].[IsDeleted], [m1].[IsEdited], [m1].[IsEncrypted], [m1].[Mentions], [m1].[MessageType], [m1].[ModerationResult], [m1].[ParentMessageId], [m1].[SenderId], [m1].[SentAt], [m1].[Status], [m1].[Tags], [m1].[Timestamp], [c8].[c], [s0].[UserId], [s0].[c], [s0].[Role], [s0].[JoinedAt], [s0].[LastReadAt], [s0].[Id], [s0].[Id0], [c8].[c0], [c8].[c1], [c8].[c2]
FROM (
    SELECT [c].[Id], [c].[ConversationType], [c].[Title], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[ImageUrl], [c].[IsActive], [c].[LastMessageAt], [c].[LastMessageId], [c].[LastMessagePreview], [c].[MessageCount], [c].[Name], [c].[Type], [c].[UpdatedAt], (
        SELECT TOP(1) [c3].[UnreadCount]
        FROM [ConversationParticipants] AS [c3]
        WHERE [c].[Id] = [c3].[ConversationId] AND [c3].[UserId] = @__userId_0) AS [c], (
        SELECT TOP(1) [c5].[IsArchived]
        FROM [ConversationParticipants] AS [c5]
        WHERE [c].[Id] = [c5].[ConversationId] AND [c5].[UserId] = @__userId_0) AS [c0], (
        SELECT TOP(1) [c6].[IsPinned]
        FROM [ConversationParticipants] AS [c6]
        WHERE [c].[Id] = [c6].[ConversationId] AND [c6].[UserId] = @__userId_0) AS [c1], (
        SELECT TOP(1) [c7].[IsMuted]
        FROM [ConversationParticipants] AS [c7]
        WHERE [c].[Id] = [c7].[ConversationId] AND [c7].[UserId] = @__userId_0) AS [c2], COALESCE([c].[LastMessageAt], [c].[CreatedAt]) AS [c3]
    FROM [Conversations] AS [c]
    WHERE EXISTS (
        SELECT 1
        FROM [ConversationParticipants] AS [c0]
        WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
        SELECT TOP(1) [c1].[IsArchived]
        FROM [ConversationParticipants] AS [c1]
        WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
    ORDER BY COALESCE([c].[LastMessageAt], [c].[CreatedAt]) DESC
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [c8]
LEFT JOIN (
    SELECT [c2].[Id], [c2].[ConversationId], [c2].[IsActive], [c2].[IsArchived], [c2].[IsMuted], [c2].[IsPinned], [c2].[JoinedAt], [c2].[LastReadAt], [c2].[LastReadMessageId], [c2].[LeftAt], [c2].[MutedUntil], [c2].[Role], [c2].[UnreadCount], [c2].[UserId], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[FriendCode], [u].[Gender], [u].[IsActive] AS [IsActive0], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
    FROM [ConversationParticipants] AS [c2]
    INNER JOIN [Users] AS [u] ON [c2].[UserId] = [u].[Id]
) AS [s] ON [c8].[Id] = [s].[ConversationId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Content], [m0].[ConversationId], [m0].[CreatedAt], [m0].[DeletedAt], [m0].[DeletedBy], [m0].[DeliveryStatus], [m0].[EditHistory], [m0].[EditedAt], [m0].[IsDeleted], [m0].[IsEdited], [m0].[IsEncrypted], [m0].[Mentions], [m0].[MessageType], [m0].[ModerationResult], [m0].[ParentMessageId], [m0].[SenderId], [m0].[SentAt], [m0].[Status], [m0].[Tags], [m0].[Timestamp]
    FROM (
        SELECT [m].[Id], [m].[Content], [m].[ConversationId], [m].[CreatedAt], [m].[DeletedAt], [m].[DeletedBy], [m].[DeliveryStatus], [m].[EditHistory], [m].[EditedAt], [m].[IsDeleted], [m].[IsEdited], [m].[IsEncrypted], [m].[Mentions], [m].[MessageType], [m].[ModerationResult], [m].[ParentMessageId], [m].[SenderId], [m].[SentAt], [m].[Status], [m].[Tags], [m].[Timestamp], ROW_NUMBER() OVER(PARTITION BY [m].[ConversationId] ORDER BY [m].[CreatedAt] DESC) AS [row]
        FROM [Messages] AS [m]
    ) AS [m0]
    WHERE [m0].[row] <= 1
) AS [m1] ON [c8].[Id] = [m1].[ConversationId]
LEFT JOIN (
    SELECT [c4].[UserId], COALESCE([u0].[UserName], N'Unknown') AS [c], [c4].[Role], [c4].[JoinedAt], [c4].[LastReadAt], [c4].[Id], [u0].[Id] AS [Id0], [c4].[ConversationId]
    FROM [ConversationParticipants] AS [c4]
    INNER JOIN [Users] AS [u0] ON [c4].[UserId] = [u0].[Id]
) AS [s0] ON [c8].[Id] = [s0].[ConversationId]
ORDER BY [c8].[c3] DESC, [c8].[Id], [s].[Id], [s].[Id0], [m1].[ConversationId], [m1].[CreatedAt] DESC, [m1].[Id], [s0].[Id]
2025-07-22 17:08:50.833 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.8723ms.
2025-07-22 17:08:50.834 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ConversationListResponse'.
2025-07-22 17:08:50.835 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) in 57.6913ms
2025-07-22 17:08:50.837 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 17:08:50.838 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 200 in 70.3314 ms
2025-07-22 17:08:50.840 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 200 null application/json; charset=utf-8 77.3648ms
2025-07-22 17:10:20.790 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:10:20.791 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 90017.9166 ms
2025-07-22 17:10:20.793 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200530754 - 200 0 text/plain 90025.9051ms
2025-07-22 17:10:20.801 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200620795 - null null
2025-07-22 17:10:20.811 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:10:20.812 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 0.7852 ms
2025-07-22 17:10:20.814 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200620795 - 204 null null 13.1353ms
2025-07-22 17:10:20.816 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200620795 - null null
2025-07-22 17:10:20.819 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:10:20.820 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:11:50.832 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:11:50.833 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 90014.2945 ms
2025-07-22 17:11:50.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200620795 - 200 0 text/plain 90018.87ms
2025-07-22 17:11:50.840 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200710837 - null null
2025-07-22 17:11:50.842 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:11:50.843 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 0.8288 ms
2025-07-22 17:11:50.845 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200710837 - 204 null null 4.754ms
2025-07-22 17:11:50.849 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200710837 - null null
2025-07-22 17:11:50.851 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:11:50.853 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:11:53.260 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:11:53.265 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 2413.3929 ms
2025-07-22 17:11:53.268 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=_5kgHi8PI6s-LzreRZBtQg&_=1753200710837 - 499 null null 2418.8926ms
2025-07-22 17:11:54.532 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 17:11:54.536 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:11:54.538 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 17:11:54.558 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:11:54.560 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2973ms.
2025-07-22 17:11:54.562 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:11:54.564 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 23.2656ms
2025-07-22 17:11:54.566 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:11:54.567 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 30.4462 ms
2025-07-22 17:11:54.569 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 37.7261ms
2025-07-22 17:12:08.280 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-22 17:12:08.284 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 17:12:08.291 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:12:08.319 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:12:08.951 +01:00 [INF] Executed DbCommand (588ms) [Parameters=[@__p_2='1', @__queryLower_0_startswith='po13 0jx%' (Size = 10), @__Replace_1_startswith='po130jx%' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [p].[PostcodeFormatted], [p].[Latitude], [p].[Longitude], [p].[PostcodeArea], [p].[PostcodeDistrict]
FROM [Postcodes] AS [p]
WHERE [p].[IsActive] = CAST(1 AS bit) AND (LOWER([p].[PostcodeFormatted]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[Postcode]) LIKE @__Replace_1_startswith ESCAPE N'\')
ORDER BY CAST(LEN([p].[PostcodeFormatted]) AS int)
2025-07-22 17:12:08.982 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-22 17:12:11.016 +01:00 [INF] Executed DbCommand (1,944ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CityName], [c0].[CountyName], [s].[PostcodeFormatted], [s].[Latitude0] AS [Latitude], [s].[Longitude0] AS [Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [p1].[Latitude] AS [Latitude0], [p1].[Longitude] AS [Longitude0], [p1].[PostcodeFormatted], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    INNER JOIN (
        SELECT [p0].[IsActive], [p0].[Latitude], [p0].[Longitude], [p0].[PostcodeDistrict], [p0].[PostcodeFormatted]
        FROM (
            SELECT [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[PostcodeDistrict], [p].[PostcodeFormatted], ROW_NUMBER() OVER(PARTITION BY [p].[PostcodeDistrict] ORDER BY [p].[PostcodeId]) AS [row]
            FROM [Postcodes] AS [p]
        ) AS [p0]
        WHERE [p0].[row] <= 1
    ) AS [p1] ON [c].[CityName] = [p1].[PostcodeDistrict]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [p1].[IsActive] = CAST(1 AS bit)
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [s]
INNER JOIN [Counties] AS [c0] ON [s].[CountyId] = [c0].[CountyId]
ORDER BY [s].[c], [s].[CityName]
2025-07-22 17:12:11.542 +01:00 [INF] Executed DbCommand (514ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CityName], [c0].[CountyName], NULL AS [PostcodeFormatted], [c1].[Latitude], [c1].[Longitude]
FROM (
    SELECT TOP(@__p_1) [c].[CityName], [c].[CountyId], [c].[Latitude], [c].[Longitude], CAST(LEN([c].[CityName]) AS int) AS [c]
    FROM [Cities] AS [c]
    WHERE [c].[IsActive] = CAST(1 AS bit) AND LOWER([c].[CityName]) LIKE @__queryLower_0_startswith ESCAPE N'\' AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL
    ORDER BY CAST(LEN([c].[CityName]) AS int), [c].[CityName]
) AS [c1]
INNER JOIN [Counties] AS [c0] ON [c1].[CountyId] = [c0].[CountyId]
ORDER BY [c1].[c], [c1].[CityName]
2025-07-22 17:12:11.568 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='1', @__queryLower_0_startswith='po13 0jx%' (Size = 4000), @__queryLower_0_startswith_1='po13 0jx%' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[PostcodeArea] AS [PostcodeAreaCode], [p].[AreaName], [p].[Region], [p].[CenterLatitude], [p].[CenterLongitude]
FROM [PostcodeAreas] AS [p]
WHERE (LOWER([p].[PostcodeArea]) LIKE @__queryLower_0_startswith ESCAPE N'\' OR LOWER([p].[AreaName]) LIKE @__queryLower_0_startswith_1 ESCAPE N'\') AND [p].[CenterLatitude] IS NOT NULL AND [p].[CenterLongitude] IS NOT NULL
ORDER BY CAST(LEN([p].[PostcodeArea]) AS int), [p].[AreaName]
2025-07-22 17:12:11.575 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3248.8706ms.
2025-07-22 17:12:11.576 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:12:11.581 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 3287.2913ms
2025-07-22 17:12:11.584 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 17:12:11.585 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 3301.0873 ms
2025-07-22 17:12:11.587 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 3307.2688ms
2025-07-22 17:12:11.851 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 17:12:11.855 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:12:11.859 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:12:11.911 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:12:11.914 +01:00 [INF] Provider search request received for location: null
2025-07-22 17:12:11.923 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:12:11.941 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:12:11.949 +01:00 [INF] Executing real provider search at 50.8205301,-1.1713195 within 25 miles
2025-07-22 17:12:12.014 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__serviceGuids_0='["2124f64c-8805-4510-977c-0892cebdf52d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 17:12:12.610 +01:00 [INF] Executed DbCommand (547ms) [Parameters=[@__Cos_1='0.6317515856612386', @__longitude_2='-1.1713195', @__Sin_3='0.7751709063261538', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","9DA1B93D-8771-421C-BE05-52B65C3520DF"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[FriendCode], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 17:12:13.168 +01:00 [INF] Executed DbCommand (522ms) [Parameters=[@__providerGuid_0='9da1b93d-8771-421c-be05-52b65c3520df'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 17:12:13.202 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__Select_0='["253b2f88-982a-4f2b-a51e-21b3169b11af"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-22 17:12:13.230 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__provider_Id_0='9da1b93d-8771-421c-be05-52b65c3520df' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[CompletedAt]
FROM [Bookings] AS [b]
WHERE [b].[ServiceProviderId] = @__provider_Id_0 AND [b].[Status] = N'Completed' AND [b].[CompletedAt] IS NOT NULL
ORDER BY [b].[CompletedAt] DESC
2025-07-22 17:12:13.238 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-22 17:12:13.240 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-22 17:12:13.242 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:12:13.243 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1331.4862ms.
2025-07-22 17:12:13.245 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:12:13.264 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 1402.5521ms
2025-07-22 17:12:13.265 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:12:13.266 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 1411.0774 ms
2025-07-22 17:12:13.267 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 1416.3368ms
2025-07-22 17:12:19.680 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - null null
2025-07-22 17:12:19.686 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 17:12:19.688 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:12:19.708 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:12:19.710 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.4019ms.
2025-07-22 17:12:19.716 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:12:19.718 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 27.3654ms
2025-07-22 17:12:19.721 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 17:12:19.722 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 36.5863 ms
2025-07-22 17:12:19.726 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=PO13%200JX&maxResults=1 - 200 null application/json; charset=utf-8 46.0866ms
2025-07-22 17:12:19.788 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 17:12:19.792 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:12:19.800 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:12:19.814 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:12:19.817 +01:00 [INF] Provider search request received for location: null
2025-07-22 17:12:19.818 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:12:19.843 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:12:19.846 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_25_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 17:12:19.847 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:12:19.849 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.7094ms.
2025-07-22 17:12:19.851 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:12:19.855 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 53.1426ms
2025-07-22 17:12:19.860 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:12:19.863 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 71.9920 ms
2025-07-22 17:12:19.868 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 79.977ms
2025-07-22 17:12:58.446 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:12:58.4270000+00:00&endDate=2025-08-05T16:12:58.4270000+00:00 - null null
2025-07-22 17:12:58.448 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:12:58.457 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:12:58.469 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 17:12:58.481 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 20.655ms
2025-07-22 17:12:58.482 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:12:58.485 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability responded 400 in 36.9126 ms
2025-07-22 17:12:58.488 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:12:58.4270000+00:00&endDate=2025-08-05T16:12:58.4270000+00:00 - 400 null application/problem+json; charset=utf-8 42.5361ms
2025-07-22 17:13:05.517 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 17:13:05.527 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:13:05.529 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 17:13:05.545 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:13:05.547 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1006ms.
2025-07-22 17:13:05.550 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:13:05.552 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 20.7931ms
2025-07-22 17:13:05.553 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:13:05.557 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 29.6714 ms
2025-07-22 17:13:05.559 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 41.8307ms
2025-07-22 17:13:06.710 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-22 17:13:06.715 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:13:06.717 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:13:06.735 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:13:06.737 +01:00 [INF] Provider search request received for location: PO13 0JX
2025-07-22 17:13:06.743 +01:00 [INF] Starting provider search with filters: {"Location":"PO13 0JX","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:13:06.783 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedPostcode_0='PO13 0JX' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PostcodeId], [p].[DateIntroduced], [p].[DateTerminated], [p].[Easting], [p].[GridReference], [p].[InwardCode], [p].[IsActive], [p].[Latitude], [p].[Longitude], [p].[Northing], [p].[OutwardCode], [p].[PostcodeArea], [p].[Postcode], [p].[PostcodeDistrict], [p].[PostcodeFormatted], [p].[PostcodeSector]
FROM [Postcodes] AS [p]
WHERE [p].[PostcodeFormatted] = @__normalizedPostcode_0 AND [p].[IsActive] = CAST(1 AS bit)
2025-07-22 17:13:07.372 +01:00 [ERR] Failed executing DbCommand (535ms) [Parameters=[@__normalizedCityName_0='po13 0jx' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[AlternativeName], [c].[CityName], [c].[CountyId], [c].[IsActive], [c].[Latitude], [c].[Longitude], [c].[Population], [c0].[CountyId], [c0].[CountryId], [c0].[CountyCode], [c0].[CountyName], [c0].[IsActive]
FROM [Cities] AS [c]
INNER JOIN [Counties] AS [c0] ON [c].[CountyId] = [c0].[CountyId]
WHERE [c].[IsActive] = CAST(1 AS bit) AND [c].[Latitude] IS NOT NULL AND [c].[Longitude] IS NOT NULL AND (LOWER([c].[CityName]) = @__normalizedCityName_0 OR ([c].[AlternativeName] IS NOT NULL AND LOWER([c].[AlternativeName]) = @__normalizedCityName_0))
ORDER BY CASE
    WHEN [c].[Population] IS NOT NULL THEN 0
    ELSE 1
END, [c].[Population] DESC
2025-07-22 17:13:07.411 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MeAndMyDog.API.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d0e24930-2054-4477-bdf3-190440fa32f5
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d0e24930-2054-4477-bdf3-190440fa32f5
Error Number:207,State:1,Class:16
2025-07-22 17:13:07.511 +01:00 [ERR] Error looking up city in database: PO13 0JX
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'AlternativeName'.
Invalid column name 'Population'.
Invalid column name 'Population'.
Invalid column name 'Population'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at MeAndMyDog.API.Services.Implementations.LocationService.GetCoordinatesFromDatabaseCity(String cityName, CancellationToken cancellationToken) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Services\Implementations\LocationService.cs:line 593
ClientConnectionId:d0e24930-2054-4477-bdf3-190440fa32f5
Error Number:207,State:1,Class:16
2025-07-22 17:13:07.542 +01:00 [INF] Start processing HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 17:13:07.545 +01:00 [INF] Sending HTTP request GET https://maps.googleapis.com/maps/api/place/findplacefromtext/json?*
2025-07-22 17:13:08.084 +01:00 [INF] Received HTTP response headers after 533.5966ms - 200
2025-07-22 17:13:08.087 +01:00 [INF] End processing HTTP request after 545.2581ms - 200
2025-07-22 17:13:08.092 +01:00 [INF] Successfully geocoded 'PO13 0JX' using Google Places API: 50.8205301, -1.1713195
2025-07-22 17:13:08.095 +01:00 [INF] Geocoded location 'PO13 0JX' to coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:13:08.096 +01:00 [INF] Executing real provider search at 50.8205301,-1.1713195 within 5 miles
2025-07-22 17:13:08.111 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__serviceGuids_0='["2124f64c-8805-4510-977c-0892cebdf52d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 17:13:08.630 +01:00 [INF] Executed DbCommand (513ms) [Parameters=[@__Cos_1='0.6317515856612386', @__longitude_2='-1.1713195', @__Sin_3='0.7751709063261538', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","9DA1B93D-8771-421C-BE05-52B65C3520DF"]' (Size = 4000), @__p_4='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[FriendCode], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 17:13:09.162 +01:00 [INF] Executed DbCommand (529ms) [Parameters=[@__providerGuid_0='9da1b93d-8771-421c-be05-52b65c3520df'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 17:13:09.178 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__Select_0='["253b2f88-982a-4f2b-a51e-21b3169b11af"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-22 17:13:09.194 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__provider_Id_0='9da1b93d-8771-421c-be05-52b65c3520df' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[CompletedAt]
FROM [Bookings] AS [b]
WHERE [b].[ServiceProviderId] = @__provider_Id_0 AND [b].[Status] = N'Completed' AND [b].[CompletedAt] IS NOT NULL
ORDER BY [b].[CompletedAt] DESC
2025-07-22 17:13:09.196 +01:00 [INF] Found 1 real providers within 5 miles
2025-07-22 17:13:09.198 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-22 17:13:09.199 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:13:09.200 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2463.037ms.
2025-07-22 17:13:09.201 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:13:09.203 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 2483.9676ms
2025-07-22 17:13:09.204 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:13:09.205 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 2490.3876 ms
2025-07-22 17:13:09.207 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 2497.4022ms
2025-07-22 17:13:09.217 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:13:09.2110000+00:00&endDate=2025-07-29T16:13:09.2110000+00:00 - null null
2025-07-22 17:13:09.220 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:13:09.221 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:13:09.226 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 17:13:09.227 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 3.2383ms
2025-07-22 17:13:09.228 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:13:09.229 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability responded 400 in 9.1829 ms
2025-07-22 17:13:09.231 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:13:09.2110000+00:00&endDate=2025-07-29T16:13:09.2110000+00:00 - 400 null application/problem+json; charset=utf-8 13.9178ms
2025-07-22 17:13:09.249 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 17:13:09.252 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:13:09.257 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:13:09.272 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:13:09.276 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 17:13:09.277 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:13:09.289 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 17:13:09.290 +01:00 [INF] Executing real provider search at 0,0 within 10 miles
2025-07-22 17:13:09.841 +01:00 [INF] Executed DbCommand (533ms) [Parameters=[@__Cos_0='1', @__longitude_1='0', @__Sin_2='0', @__p_3='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[FriendCode], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_0 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_3
ORDER BY 3959.0E0 * ACOS((@__Cos_0 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_1) * 3.1415926535897931E0) / 180.0E0) + @__Sin_2 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 17:13:09.843 +01:00 [INF] Found 0 real providers within 10 miles
2025-07-22 17:13:09.845 +01:00 [INF] Provider search completed. Found 0 providers
2025-07-22 17:13:09.846 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 571.548ms.
2025-07-22 17:13:09.847 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:13:09.850 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 590.7164ms
2025-07-22 17:13:09.851 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:13:09.852 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 600.2814 ms
2025-07-22 17:13:09.854 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 604.6694ms
2025-07-22 17:13:13.427 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 17:13:13.430 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:13:13.432 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 17:13:13.448 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:13:13.449 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0548ms.
2025-07-22 17:13:13.451 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:13:13.453 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 18.5808ms
2025-07-22 17:13:13.454 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:13:13.455 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.3335 ms
2025-07-22 17:13:13.457 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 30.6253ms
2025-07-22 17:13:13.777 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-22 17:13:13.779 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:13:13.780 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:13:13.794 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:13:13.795 +01:00 [INF] Provider search request received for location: PO13 0JX
2025-07-22 17:13:13.796 +01:00 [INF] Starting provider search with filters: {"Location":"PO13 0JX","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:13:13.810 +01:00 [INF] Geocoded location 'PO13 0JX' to coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:13:13.811 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_5_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 17:13:13.812 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:13:13.813 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.0069ms.
2025-07-22 17:13:13.815 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:13:13.816 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 33.9903ms
2025-07-22 17:13:13.819 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:13:13.820 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 40.9171 ms
2025-07-22 17:13:13.822 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 45.359ms
2025-07-22 17:13:14.044 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:13:14.0380000+00:00&endDate=2025-07-29T16:13:14.0380000+00:00 - null null
2025-07-22 17:13:14.047 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:13:14.049 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:13:14.055 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 17:13:14.057 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 4.4331ms
2025-07-22 17:13:14.060 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:13:14.062 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability responded 400 in 14.3459 ms
2025-07-22 17:13:14.063 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:13:14.0380000+00:00&endDate=2025-07-29T16:13:14.0380000+00:00 - 400 null application/problem+json; charset=utf-8 18.9243ms
2025-07-22 17:13:14.100 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 17:13:14.103 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:13:14.104 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:13:14.117 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:13:14.119 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 17:13:14.120 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:13:14.134 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 17:13:14.136 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 17:13:14.138 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.0026ms.
2025-07-22 17:13:14.140 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:13:14.141 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 35.9304ms
2025-07-22 17:13:14.146 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:13:14.147 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 44.2976 ms
2025-07-22 17:13:14.150 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 49.7507ms
2025-07-22 17:13:22.899 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 17:13:22.901 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:13:22.902 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 17:13:22.918 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:13:22.920 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0899ms.
2025-07-22 17:13:22.922 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:13:22.924 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 17.4538ms
2025-07-22 17:13:22.925 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:13:22.927 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 25.4824 ms
2025-07-22 17:13:22.930 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 31.3665ms
2025-07-22 17:13:23.247 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-22 17:13:23.250 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:13:23.251 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:13:23.267 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:13:23.270 +01:00 [INF] Provider search request received for location: PO13 0JX
2025-07-22 17:13:23.271 +01:00 [INF] Starting provider search with filters: {"Location":"PO13 0JX","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:13:23.290 +01:00 [INF] Geocoded location 'PO13 0JX' to coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:13:23.292 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_5_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 17:13:23.293 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:13:23.294 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.3566ms.
2025-07-22 17:13:23.296 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:13:23.298 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 44.8727ms
2025-07-22 17:13:23.300 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:13:23.301 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 51.2436 ms
2025-07-22 17:13:23.305 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 57.3988ms
2025-07-22 17:13:23.544 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:13:23.5380000+00:00&endDate=2025-07-29T16:13:23.5380000+00:00 - null null
2025-07-22 17:13:23.547 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:13:23.548 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:13:23.553 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 17:13:23.555 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 3.9467ms
2025-07-22 17:13:23.556 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:13:23.557 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability responded 400 in 9.8940 ms
2025-07-22 17:13:23.558 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:13:23.5380000+00:00&endDate=2025-07-29T16:13:23.5380000+00:00 - 400 null application/problem+json; charset=utf-8 14.1195ms
2025-07-22 17:13:23.589 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 17:13:23.592 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:13:23.594 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:13:23.608 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:13:23.610 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 17:13:23.613 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:13:23.628 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 17:13:23.630 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 17:13:23.631 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.2168ms.
2025-07-22 17:13:23.633 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:13:23.635 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 38.1972ms
2025-07-22 17:13:23.636 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:13:23.637 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 44.8907 ms
2025-07-22 17:13:23.639 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 50.0364ms
2025-07-22 17:16:15.148 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 17:16:15.152 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:16:15.153 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 17:16:15.167 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:16:15.168 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0869ms.
2025-07-22 17:16:15.170 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:16:15.172 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 16.6812ms
2025-07-22 17:16:15.174 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:16:15.175 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 23.1235 ms
2025-07-22 17:16:15.177 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 28.9084ms
2025-07-22 17:16:16.326 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-22 17:16:16.328 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:16:16.331 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:16:16.350 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:16:16.352 +01:00 [INF] Provider search request received for location: PO13 0JX
2025-07-22 17:16:16.353 +01:00 [INF] Starting provider search with filters: {"Location":"PO13 0JX","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:16:16.368 +01:00 [INF] Geocoded location 'PO13 0JX' to coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:16:16.369 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_5_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 17:16:16.370 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:16:16.372 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.1102ms.
2025-07-22 17:16:16.374 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:16:16.375 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 41.9773ms
2025-07-22 17:16:16.377 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:16:16.378 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 50.0173 ms
2025-07-22 17:16:16.381 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 55.1926ms
2025-07-22 17:16:16.797 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:16:16.7900000+00:00&endDate=2025-07-29T16:16:16.7900000+00:00 - null null
2025-07-22 17:16:16.800 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:16:16.802 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:16:16.805 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 17:16:16.807 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 3.3256ms
2025-07-22 17:16:16.808 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:16:16.809 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability responded 400 in 9.4896 ms
2025-07-22 17:16:16.811 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:16:16.7900000+00:00&endDate=2025-07-29T16:16:16.7900000+00:00 - 400 null application/problem+json; charset=utf-8 14.3691ms
2025-07-22 17:16:16.896 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 17:16:16.899 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:16:16.900 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:16:16.912 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:16:16.914 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 17:16:16.915 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:16:16.929 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 17:16:16.930 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 17:16:16.932 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.0282ms.
2025-07-22 17:16:16.933 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:16:16.935 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.9469ms
2025-07-22 17:16:16.938 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:16:16.940 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 41.0182 ms
2025-07-22 17:16:16.941 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 45.9709ms
2025-07-22 17:16:34.231 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 17:16:34.238 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:16:34.239 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 17:16:34.259 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:16:34.263 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0556ms.
2025-07-22 17:16:34.265 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:16:34.268 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 21.3674ms
2025-07-22 17:16:34.278 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:16:34.280 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 42.1637 ms
2025-07-22 17:16:34.282 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 51.0426ms
2025-07-22 17:16:35.608 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-22 17:16:35.610 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:16:35.611 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:16:35.626 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:16:35.627 +01:00 [INF] Provider search request received for location: PO13 0JX
2025-07-22 17:16:35.629 +01:00 [INF] Starting provider search with filters: {"Location":"PO13 0JX","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:16:35.643 +01:00 [INF] Geocoded location 'PO13 0JX' to coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:16:35.645 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_5_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 17:16:35.646 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:16:35.648 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.408ms.
2025-07-22 17:16:35.650 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:16:35.652 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 38.7881ms
2025-07-22 17:16:35.654 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:16:35.655 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 44.8192 ms
2025-07-22 17:16:35.657 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 48.7537ms
2025-07-22 17:16:36.012 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:16:36.0060000+00:00&endDate=2025-07-29T16:16:36.0060000+00:00 - null null
2025-07-22 17:16:36.015 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:16:36.017 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:16:36.020 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 17:16:36.023 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 3.8751ms
2025-07-22 17:16:36.024 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:16:36.026 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability responded 400 in 10.1416 ms
2025-07-22 17:16:36.027 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:16:36.0060000+00:00&endDate=2025-07-29T16:16:36.0060000+00:00 - 400 null application/problem+json; charset=utf-8 14.7787ms
2025-07-22 17:16:36.098 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 17:16:36.101 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:16:36.102 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:16:36.115 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:16:36.116 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 17:16:36.118 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:16:36.132 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 17:16:36.133 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 17:16:36.134 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.8501ms.
2025-07-22 17:16:36.136 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:16:36.137 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 33.7939ms
2025-07-22 17:16:36.139 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:16:36.140 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 39.1655 ms
2025-07-22 17:16:36.142 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 44.2385ms
2025-07-22 17:18:13.630 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 17:18:13.633 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:18:13.634 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 17:18:13.651 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:18:13.653 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1053ms.
2025-07-22 17:18:13.656 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:18:13.658 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 21.7001ms
2025-07-22 17:18:13.659 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:18:13.660 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 27.5777 ms
2025-07-22 17:18:13.662 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 32.3784ms
2025-07-22 17:18:14.884 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-22 17:18:14.887 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:18:14.888 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:18:14.900 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:18:14.901 +01:00 [INF] Provider search request received for location: PO13 0JX
2025-07-22 17:18:14.903 +01:00 [INF] Starting provider search with filters: {"Location":"PO13 0JX","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:18:14.915 +01:00 [INF] Geocoded location 'PO13 0JX' to coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:18:14.917 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_5_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 17:18:14.917 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:18:14.918 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.9755ms.
2025-07-22 17:18:14.920 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:18:14.921 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 31.363ms
2025-07-22 17:18:14.923 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:18:14.925 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 37.8213 ms
2025-07-22 17:18:14.927 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 42.1725ms
2025-07-22 17:18:15.377 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:18:15.3450000+00:00&endDate=2025-07-29T16:18:15.3460000+00:00 - null null
2025-07-22 17:18:15.388 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:18:15.389 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:18:15.392 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 17:18:15.394 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 2.9836ms
2025-07-22 17:18:15.395 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:18:15.396 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability responded 400 in 8.5076 ms
2025-07-22 17:18:15.398 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:18:15.3450000+00:00&endDate=2025-07-29T16:18:15.3460000+00:00 - 400 null application/problem+json; charset=utf-8 21.5017ms
2025-07-22 17:18:15.480 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 17:18:15.483 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:18:15.484 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:18:15.497 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:18:15.499 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 17:18:15.500 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:18:15.512 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 17:18:15.513 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 17:18:15.514 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.4239ms.
2025-07-22 17:18:15.516 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:18:15.517 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 30.968ms
2025-07-22 17:18:15.518 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:18:15.520 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 36.2360 ms
2025-07-22 17:18:15.521 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 41.4714ms
2025-07-22 17:18:41.878 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 17:18:41.889 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:18:41.890 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 17:18:41.903 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:18:41.905 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0478ms.
2025-07-22 17:18:41.906 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:18:41.908 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 15.6288ms
2025-07-22 17:18:41.909 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:18:41.910 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 21.3153 ms
2025-07-22 17:18:41.912 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 34.1455ms
2025-07-22 17:18:43.133 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 440
2025-07-22 17:18:43.145 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:18:43.151 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:18:43.174 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:18:43.175 +01:00 [INF] Provider search request received for location: PO13 0JX
2025-07-22 17:18:43.177 +01:00 [INF] Starting provider search with filters: {"Location":"PO13 0JX","Latitude":null,"Longitude":null,"RadiusMiles":5,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":80,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:18:43.192 +01:00 [INF] Geocoded location 'PO13 0JX' to coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:18:43.194 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_5_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 17:18:43.195 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:18:43.196 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.7516ms.
2025-07-22 17:18:43.198 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:18:43.199 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 40.781ms
2025-07-22 17:18:43.202 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:18:43.202 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 57.0065 ms
2025-07-22 17:18:43.204 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 71.3238ms
2025-07-22 17:18:43.585 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:18:43.5790000+00:00&endDate=2025-07-29T16:18:43.5790000+00:00 - null null
2025-07-22 17:18:43.589 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:18:43.590 +01:00 [INF] Route matched with {action = "CheckProviderAvailability", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderAvailabilityDto]] CheckProviderAvailability(System.String, System.DateTimeOffset, System.DateTimeOffset, System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:18:43.593 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-22 17:18:43.594 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API) in 2.7096ms
2025-07-22 17:18:43.596 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.CheckProviderAvailability (MeAndMyDog.API)'
2025-07-22 17:18:43.597 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability responded 400 in 8.0939 ms
2025-07-22 17:18:43.599 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/9da1b93d-8771-421c-be05-52b65c3520df/availability?startDate=2025-07-22T16:18:43.5790000+00:00&endDate=2025-07-29T16:18:43.5790000+00:00 - 400 null application/problem+json; charset=utf-8 13.0866ms
2025-07-22 17:18:43.703 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - null null
2025-07-22 17:18:43.707 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:18:43.708 +01:00 [INF] Route matched with {action = "GetNearbyProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto]]] GetNearbyProviders(Double, Double, Int32, System.String, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:18:43.720 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:18:43.722 +01:00 [INF] Getting nearby providers at 0,0 within 10 miles
2025-07-22 17:18:43.724 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":0,"Longitude":0,"RadiusMiles":10,"ServiceCategoryIds":null,"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":20,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:18:43.737 +01:00 [INF] Using provided coordinates: Lat=0, Lng=0
2025-07-22 17:18:43.738 +01:00 [INF] Returning cached search results for key: search_0.0000_0.0000_10_pets_1
2025-07-22 17:18:43.740 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.5264ms.
2025-07-22 17:18:43.742 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResultDto, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:18:43.743 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API) in 32.7834ms
2025-07-22 17:18:43.744 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetNearbyProviders (MeAndMyDog.API)'
2025-07-22 17:18:43.746 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/nearby responded 200 in 38.8005 ms
2025-07-22 17:18:43.748 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/nearby?latitude=0&longitude=0&radiusMiles=10 - 200 null application/json; charset=utf-8 45.0372ms
2025-07-22 17:19:07.357 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 17:19:07.363 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 17:19:07.366 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]] GetCurrentUser() on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 17:19:07.404 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:19:07.406 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0926ms.
2025-07-22 17:19:07.408 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:19:07.409 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) in 36.8555ms
2025-07-22 17:19:07.412 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 17:19:07.413 +01:00 [INF] HTTP GET /api/v1/auth/me responded 200 in 51.1343 ms
2025-07-22 17:19:07.416 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 200 null application/json; charset=utf-8 58.9598ms
2025-07-22 17:19:07.808 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:19:07.811 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.812 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 0.8257 ms
2025-07-22 17:19:07.815 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 6.7279ms
2025-07-22 17:19:07.821 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:19:07.841 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.844 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:07.846 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:07.847 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 6.2812 ms
2025-07-22 17:19:07.849 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 28.119ms
2025-07-22 17:19:07.854 +01:00 [INF] Request starting HTTP/2 CONNECT https://localhost:63343/hubs/messaging?id=pw4PKzj-Fk0o5di2ExTimQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - null null
2025-07-22 17:19:07.858 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.858 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:19:07.859 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:19:07.861 +01:00 [INF] HTTP CONNECT /hubs/messaging responded 401 in 3.2987 ms
2025-07-22 17:19:07.863 +01:00 [INF] Request finished HTTP/2 CONNECT https://localhost:63343/hubs/messaging?id=pw4PKzj-Fk0o5di2ExTimQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - 401 0 null 9.1192ms
2025-07-22 17:19:07.868 +01:00 [INF] Connection id "0HNE975KF88JN", Request id "0HNE975KF88JN:00000003": the application completed without reading the entire request body.
2025-07-22 17:19:07.869 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:19:07.873 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.874 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 0.8456 ms
2025-07-22 17:19:07.875 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 6.173ms
2025-07-22 17:19:07.878 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:19:07.881 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.882 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:07.883 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:07.884 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 3.5098 ms
2025-07-22 17:19:07.886 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 8.2733ms
2025-07-22 17:19:07.889 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=7UYhbfKVT6XySJGHxpa3yw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - null null
2025-07-22 17:19:07.892 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.893 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:19:07.894 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:19:07.895 +01:00 [INF] HTTP GET /hubs/messaging responded 401 in 2.9204 ms
2025-07-22 17:19:07.897 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=7UYhbfKVT6XySJGHxpa3yw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - 401 0 null 7.2767ms
2025-07-22 17:19:07.903 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:19:07.906 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.907 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 1.2706 ms
2025-07-22 17:19:07.909 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 6.028ms
2025-07-22 17:19:07.916 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:19:07.923 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.924 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:07.925 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:07.926 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 3.5423 ms
2025-07-22 17:19:07.928 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 11.8875ms
2025-07-22 17:19:07.933 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201147929 - null null
2025-07-22 17:19:07.937 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.938 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 0.9790 ms
2025-07-22 17:19:07.940 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201147929 - 204 null null 7.4173ms
2025-07-22 17:19:07.942 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201147929 - null null
2025-07-22 17:19:07.946 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.947 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:07.949 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:07.950 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 3.9322 ms
2025-07-22 17:19:07.952 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201147929 - 200 0 application/octet-stream 9.5296ms
2025-07-22 17:19:07.956 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201147953 - null null
2025-07-22 17:19:07.958 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ - null null
2025-07-22 17:19:07.962 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.965 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:07.965 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 3.4423 ms
2025-07-22 17:19:07.966 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 1.4101 ms
2025-07-22 17:19:07.968 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201147953 - 204 null null 11.5813ms
2025-07-22 17:19:07.969 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ - 204 null null 11.2477ms
2025-07-22 17:19:07.971 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201147953 - null null
2025-07-22 17:19:08.008 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ - text/plain;charset=UTF-8 32
2025-07-22 17:19:08.014 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:08.016 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:08.017 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:08.018 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:08.020 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:08.020 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:08.021 +01:00 [INF] HTTP POST /hubs/messaging responded 200 in 4.7157 ms
2025-07-22 17:19:08.023 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 9.6564 ms
2025-07-22 17:19:08.030 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ - 200 0 text/plain 51.1218ms
2025-07-22 17:19:08.033 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201147953 - 200 3 application/octet-stream 62.2403ms
2025-07-22 17:19:08.046 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201148034 - null null
2025-07-22 17:19:08.050 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:08.054 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 17:19:08.054 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 4.6779 ms
2025-07-22 17:19:08.058 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 17:19:08.060 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201148034 - 204 null null 14.1493ms
2025-07-22 17:19:08.061 +01:00 [INF] Route matched with {action = "GetConversations", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(System.Nullable`1[MeAndMyDog.API.Models.Enums.ConversationType], Boolean, Int32, Int32) on controller MeAndMyDog.API.Controllers.MessagingController (MeAndMyDog.API).
2025-07-22 17:19:08.062 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201148034 - null null
2025-07-22 17:19:08.076 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:19:08.077 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:08.079 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:08.118 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ConversationId]
FROM [ConversationParticipants] AS [c]
WHERE [c].[UserId] = @__userId_0
2025-07-22 17:19:08.120 +01:00 [INF] User 60618b52-05b6-4a57-8486-9ba3a6c2ac0b connected with connection fO4_JZyphNlMmyCLLmhpcQ
2025-07-22 17:19:08.225 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Conversations] AS [c]
WHERE EXISTS (
    SELECT 1
    FROM [ConversationParticipants] AS [c0]
    WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
    SELECT TOP(1) [c1].[IsArchived]
    FROM [ConversationParticipants] AS [c1]
    WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
2025-07-22 17:19:08.243 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False', @__p_2='0', @__p_3='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ConversationType], [c8].[Title], [c8].[CreatedAt], [c8].[CreatedBy], [c8].[Description], [c8].[ImageUrl], [c8].[IsActive], [c8].[LastMessageAt], [c8].[LastMessageId], [c8].[LastMessagePreview], [c8].[MessageCount], [c8].[Name], [c8].[Type], [c8].[UpdatedAt], [s].[Id], [s].[ConversationId], [s].[IsActive], [s].[IsArchived], [s].[IsMuted], [s].[IsPinned], [s].[JoinedAt], [s].[LastReadAt], [s].[LastReadMessageId], [s].[LeftAt], [s].[MutedUntil], [s].[Role], [s].[UnreadCount], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[AccountStatus], [s].[AddressLine1], [s].[AddressLine2], [s].[City], [s].[ConcurrencyStamp], [s].[County], [s].[CreatedAt], [s].[DateOfBirth], [s].[Email], [s].[EmailConfirmed], [s].[FirstName], [s].[FriendCode], [s].[Gender], [s].[IsActive0], [s].[IsKYCVerified], [s].[LastName], [s].[LastSeenAt], [s].[Latitude], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[Longitude], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[PostCode], [s].[PreferredLanguage], [s].[ProfileImageUrl], [s].[ProfilePhotoUrl], [s].[SecurityStamp], [s].[SubscriptionType], [s].[TimeZone], [s].[TwoFactorEnabled], [s].[UpdatedAt], [s].[UserName], [s].[UserType], [m1].[Id], [m1].[Content], [m1].[ConversationId], [m1].[CreatedAt], [m1].[DeletedAt], [m1].[DeletedBy], [m1].[DeliveryStatus], [m1].[EditHistory], [m1].[EditedAt], [m1].[IsDeleted], [m1].[IsEdited], [m1].[IsEncrypted], [m1].[Mentions], [m1].[MessageType], [m1].[ModerationResult], [m1].[ParentMessageId], [m1].[SenderId], [m1].[SentAt], [m1].[Status], [m1].[Tags], [m1].[Timestamp], [c8].[c], [s0].[UserId], [s0].[c], [s0].[Role], [s0].[JoinedAt], [s0].[LastReadAt], [s0].[Id], [s0].[Id0], [c8].[c0], [c8].[c1], [c8].[c2]
FROM (
    SELECT [c].[Id], [c].[ConversationType], [c].[Title], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[ImageUrl], [c].[IsActive], [c].[LastMessageAt], [c].[LastMessageId], [c].[LastMessagePreview], [c].[MessageCount], [c].[Name], [c].[Type], [c].[UpdatedAt], (
        SELECT TOP(1) [c3].[UnreadCount]
        FROM [ConversationParticipants] AS [c3]
        WHERE [c].[Id] = [c3].[ConversationId] AND [c3].[UserId] = @__userId_0) AS [c], (
        SELECT TOP(1) [c5].[IsArchived]
        FROM [ConversationParticipants] AS [c5]
        WHERE [c].[Id] = [c5].[ConversationId] AND [c5].[UserId] = @__userId_0) AS [c0], (
        SELECT TOP(1) [c6].[IsPinned]
        FROM [ConversationParticipants] AS [c6]
        WHERE [c].[Id] = [c6].[ConversationId] AND [c6].[UserId] = @__userId_0) AS [c1], (
        SELECT TOP(1) [c7].[IsMuted]
        FROM [ConversationParticipants] AS [c7]
        WHERE [c].[Id] = [c7].[ConversationId] AND [c7].[UserId] = @__userId_0) AS [c2], COALESCE([c].[LastMessageAt], [c].[CreatedAt]) AS [c3]
    FROM [Conversations] AS [c]
    WHERE EXISTS (
        SELECT 1
        FROM [ConversationParticipants] AS [c0]
        WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
        SELECT TOP(1) [c1].[IsArchived]
        FROM [ConversationParticipants] AS [c1]
        WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
    ORDER BY COALESCE([c].[LastMessageAt], [c].[CreatedAt]) DESC
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [c8]
LEFT JOIN (
    SELECT [c2].[Id], [c2].[ConversationId], [c2].[IsActive], [c2].[IsArchived], [c2].[IsMuted], [c2].[IsPinned], [c2].[JoinedAt], [c2].[LastReadAt], [c2].[LastReadMessageId], [c2].[LeftAt], [c2].[MutedUntil], [c2].[Role], [c2].[UnreadCount], [c2].[UserId], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[FriendCode], [u].[Gender], [u].[IsActive] AS [IsActive0], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
    FROM [ConversationParticipants] AS [c2]
    INNER JOIN [Users] AS [u] ON [c2].[UserId] = [u].[Id]
) AS [s] ON [c8].[Id] = [s].[ConversationId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Content], [m0].[ConversationId], [m0].[CreatedAt], [m0].[DeletedAt], [m0].[DeletedBy], [m0].[DeliveryStatus], [m0].[EditHistory], [m0].[EditedAt], [m0].[IsDeleted], [m0].[IsEdited], [m0].[IsEncrypted], [m0].[Mentions], [m0].[MessageType], [m0].[ModerationResult], [m0].[ParentMessageId], [m0].[SenderId], [m0].[SentAt], [m0].[Status], [m0].[Tags], [m0].[Timestamp]
    FROM (
        SELECT [m].[Id], [m].[Content], [m].[ConversationId], [m].[CreatedAt], [m].[DeletedAt], [m].[DeletedBy], [m].[DeliveryStatus], [m].[EditHistory], [m].[EditedAt], [m].[IsDeleted], [m].[IsEdited], [m].[IsEncrypted], [m].[Mentions], [m].[MessageType], [m].[ModerationResult], [m].[ParentMessageId], [m].[SenderId], [m].[SentAt], [m].[Status], [m].[Tags], [m].[Timestamp], ROW_NUMBER() OVER(PARTITION BY [m].[ConversationId] ORDER BY [m].[CreatedAt] DESC) AS [row]
        FROM [Messages] AS [m]
    ) AS [m0]
    WHERE [m0].[row] <= 1
) AS [m1] ON [c8].[Id] = [m1].[ConversationId]
LEFT JOIN (
    SELECT [c4].[UserId], COALESCE([u0].[UserName], N'Unknown') AS [c], [c4].[Role], [c4].[JoinedAt], [c4].[LastReadAt], [c4].[Id], [u0].[Id] AS [Id0], [c4].[ConversationId]
    FROM [ConversationParticipants] AS [c4]
    INNER JOIN [Users] AS [u0] ON [c4].[UserId] = [u0].[Id]
) AS [s0] ON [c8].[Id] = [s0].[ConversationId]
ORDER BY [c8].[c3] DESC, [c8].[Id], [s].[Id], [s].[Id0], [m1].[ConversationId], [m1].[CreatedAt] DESC, [m1].[Id], [s0].[Id]
2025-07-22 17:19:08.246 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 167.9657ms.
2025-07-22 17:19:08.247 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ConversationListResponse'.
2025-07-22 17:19:08.249 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) in 183.7769ms
2025-07-22 17:19:08.250 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 17:19:08.252 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 200 in 193.8274 ms
2025-07-22 17:19:08.254 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 200 null application/json; charset=utf-8 200.2757ms
2025-07-22 17:19:10.100 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:10.108 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 2031.1468 ms
2025-07-22 17:19:10.110 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=8nngx78_MTWIg-4uGrqVdQ&_=1753201148034 - 499 null null 2047.6095ms
2025-07-22 17:19:10.792 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 17:19:10.795 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 17:19:10.801 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]] GetCurrentUser() on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 17:19:10.820 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:19:10.822 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.156ms.
2025-07-22 17:19:10.826 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:19:10.828 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) in 25.2882ms
2025-07-22 17:19:10.831 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 17:19:10.833 +01:00 [INF] HTTP GET /api/v1/auth/me responded 200 in 38.1098 ms
2025-07-22 17:19:10.835 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 200 null application/json; charset=utf-8 43.4429ms
2025-07-22 17:19:11.178 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:19:11.181 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.182 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 1.4896 ms
2025-07-22 17:19:11.185 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 6.9017ms
2025-07-22 17:19:11.190 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:19:11.194 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.196 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:11.198 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:11.199 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 4.8471 ms
2025-07-22 17:19:11.202 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 11.7479ms
2025-07-22 17:19:11.213 +01:00 [INF] Request starting HTTP/2 CONNECT https://localhost:63343/hubs/messaging?id=J7Z_Thw3izmDXIzhyA0D6w&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - null null
2025-07-22 17:19:11.217 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.218 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:19:11.219 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:19:11.220 +01:00 [INF] HTTP CONNECT /hubs/messaging responded 401 in 3.4447 ms
2025-07-22 17:19:11.223 +01:00 [INF] Request finished HTTP/2 CONNECT https://localhost:63343/hubs/messaging?id=J7Z_Thw3izmDXIzhyA0D6w&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - 401 0 null 9.5448ms
2025-07-22 17:19:11.227 +01:00 [INF] Connection id "0HNE975KF88JN", Request id "0HNE975KF88JN:00000015": the application completed without reading the entire request body.
2025-07-22 17:19:11.231 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:19:11.235 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.236 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 1.0121 ms
2025-07-22 17:19:11.240 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 8.6607ms
2025-07-22 17:19:11.244 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:19:11.251 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.252 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:11.254 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:11.255 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 3.8325 ms
2025-07-22 17:19:11.257 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 12.465ms
2025-07-22 17:19:11.261 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=rHvIHzHqzkj7evYVCOCvHw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - null null
2025-07-22 17:19:11.265 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.265 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:19:11.266 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:19:11.267 +01:00 [INF] HTTP GET /hubs/messaging responded 401 in 2.9254 ms
2025-07-22 17:19:11.269 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=rHvIHzHqzkj7evYVCOCvHw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - 401 0 null 8.0589ms
2025-07-22 17:19:11.275 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:19:11.278 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.281 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 2.8083 ms
2025-07-22 17:19:11.283 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 8.519ms
2025-07-22 17:19:11.286 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:19:11.290 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.291 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:11.293 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:11.295 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 4.8613 ms
2025-07-22 17:19:11.297 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 10.2626ms
2025-07-22 17:19:11.300 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151298 - null null
2025-07-22 17:19:11.302 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.303 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 0.7851 ms
2025-07-22 17:19:11.305 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151298 - 204 null null 4.82ms
2025-07-22 17:19:11.307 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151298 - null null
2025-07-22 17:19:11.310 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.311 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:11.313 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:11.314 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 3.4553 ms
2025-07-22 17:19:11.316 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151298 - 200 0 application/octet-stream 8.6095ms
2025-07-22 17:19:11.319 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151316 - null null
2025-07-22 17:19:11.323 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.326 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 2.2263 ms
2025-07-22 17:19:11.328 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151316 - 204 null null 9.171ms
2025-07-22 17:19:11.369 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w - null null
2025-07-22 17:19:11.376 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151316 - null null
2025-07-22 17:19:11.396 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.401 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.402 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 5.4952 ms
2025-07-22 17:19:11.407 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:11.423 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w - 204 null null 54.2741ms
2025-07-22 17:19:11.426 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w - text/plain;charset=UTF-8 32
2025-07-22 17:19:11.446 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.448 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:11.450 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:11.450 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:11.451 +01:00 [INF] HTTP POST /hubs/messaging responded 200 in 4.5546 ms
2025-07-22 17:19:11.452 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 51.1206 ms
2025-07-22 17:19:11.454 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w - 200 0 text/plain 28.2831ms
2025-07-22 17:19:11.457 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151316 - 200 3 application/octet-stream 80.9306ms
2025-07-22 17:19:11.462 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151459 - null null
2025-07-22 17:19:11.463 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ConversationId]
FROM [ConversationParticipants] AS [c]
WHERE [c].[UserId] = @__userId_0
2025-07-22 17:19:11.470 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 17:19:11.479 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.482 +01:00 [INF] User 60618b52-05b6-4a57-8486-9ba3a6c2ac0b connected with connection 08K2kT7q43vGchvKbu51bQ
2025-07-22 17:19:11.485 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 17:19:11.486 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 6.2993 ms
2025-07-22 17:19:11.490 +01:00 [INF] Route matched with {action = "GetConversations", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(System.Nullable`1[MeAndMyDog.API.Models.Enums.ConversationType], Boolean, Int32, Int32) on controller MeAndMyDog.API.Controllers.MessagingController (MeAndMyDog.API).
2025-07-22 17:19:11.493 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151459 - 204 null null 31.0604ms
2025-07-22 17:19:11.496 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151459 - null null
2025-07-22 17:19:11.509 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:19:11.521 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:11.523 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:11.534 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Conversations] AS [c]
WHERE EXISTS (
    SELECT 1
    FROM [ConversationParticipants] AS [c0]
    WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
    SELECT TOP(1) [c1].[IsArchived]
    FROM [ConversationParticipants] AS [c1]
    WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
2025-07-22 17:19:11.557 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False', @__p_2='0', @__p_3='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ConversationType], [c8].[Title], [c8].[CreatedAt], [c8].[CreatedBy], [c8].[Description], [c8].[ImageUrl], [c8].[IsActive], [c8].[LastMessageAt], [c8].[LastMessageId], [c8].[LastMessagePreview], [c8].[MessageCount], [c8].[Name], [c8].[Type], [c8].[UpdatedAt], [s].[Id], [s].[ConversationId], [s].[IsActive], [s].[IsArchived], [s].[IsMuted], [s].[IsPinned], [s].[JoinedAt], [s].[LastReadAt], [s].[LastReadMessageId], [s].[LeftAt], [s].[MutedUntil], [s].[Role], [s].[UnreadCount], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[AccountStatus], [s].[AddressLine1], [s].[AddressLine2], [s].[City], [s].[ConcurrencyStamp], [s].[County], [s].[CreatedAt], [s].[DateOfBirth], [s].[Email], [s].[EmailConfirmed], [s].[FirstName], [s].[FriendCode], [s].[Gender], [s].[IsActive0], [s].[IsKYCVerified], [s].[LastName], [s].[LastSeenAt], [s].[Latitude], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[Longitude], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[PostCode], [s].[PreferredLanguage], [s].[ProfileImageUrl], [s].[ProfilePhotoUrl], [s].[SecurityStamp], [s].[SubscriptionType], [s].[TimeZone], [s].[TwoFactorEnabled], [s].[UpdatedAt], [s].[UserName], [s].[UserType], [m1].[Id], [m1].[Content], [m1].[ConversationId], [m1].[CreatedAt], [m1].[DeletedAt], [m1].[DeletedBy], [m1].[DeliveryStatus], [m1].[EditHistory], [m1].[EditedAt], [m1].[IsDeleted], [m1].[IsEdited], [m1].[IsEncrypted], [m1].[Mentions], [m1].[MessageType], [m1].[ModerationResult], [m1].[ParentMessageId], [m1].[SenderId], [m1].[SentAt], [m1].[Status], [m1].[Tags], [m1].[Timestamp], [c8].[c], [s0].[UserId], [s0].[c], [s0].[Role], [s0].[JoinedAt], [s0].[LastReadAt], [s0].[Id], [s0].[Id0], [c8].[c0], [c8].[c1], [c8].[c2]
FROM (
    SELECT [c].[Id], [c].[ConversationType], [c].[Title], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[ImageUrl], [c].[IsActive], [c].[LastMessageAt], [c].[LastMessageId], [c].[LastMessagePreview], [c].[MessageCount], [c].[Name], [c].[Type], [c].[UpdatedAt], (
        SELECT TOP(1) [c3].[UnreadCount]
        FROM [ConversationParticipants] AS [c3]
        WHERE [c].[Id] = [c3].[ConversationId] AND [c3].[UserId] = @__userId_0) AS [c], (
        SELECT TOP(1) [c5].[IsArchived]
        FROM [ConversationParticipants] AS [c5]
        WHERE [c].[Id] = [c5].[ConversationId] AND [c5].[UserId] = @__userId_0) AS [c0], (
        SELECT TOP(1) [c6].[IsPinned]
        FROM [ConversationParticipants] AS [c6]
        WHERE [c].[Id] = [c6].[ConversationId] AND [c6].[UserId] = @__userId_0) AS [c1], (
        SELECT TOP(1) [c7].[IsMuted]
        FROM [ConversationParticipants] AS [c7]
        WHERE [c].[Id] = [c7].[ConversationId] AND [c7].[UserId] = @__userId_0) AS [c2], COALESCE([c].[LastMessageAt], [c].[CreatedAt]) AS [c3]
    FROM [Conversations] AS [c]
    WHERE EXISTS (
        SELECT 1
        FROM [ConversationParticipants] AS [c0]
        WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
        SELECT TOP(1) [c1].[IsArchived]
        FROM [ConversationParticipants] AS [c1]
        WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
    ORDER BY COALESCE([c].[LastMessageAt], [c].[CreatedAt]) DESC
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [c8]
LEFT JOIN (
    SELECT [c2].[Id], [c2].[ConversationId], [c2].[IsActive], [c2].[IsArchived], [c2].[IsMuted], [c2].[IsPinned], [c2].[JoinedAt], [c2].[LastReadAt], [c2].[LastReadMessageId], [c2].[LeftAt], [c2].[MutedUntil], [c2].[Role], [c2].[UnreadCount], [c2].[UserId], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[FriendCode], [u].[Gender], [u].[IsActive] AS [IsActive0], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
    FROM [ConversationParticipants] AS [c2]
    INNER JOIN [Users] AS [u] ON [c2].[UserId] = [u].[Id]
) AS [s] ON [c8].[Id] = [s].[ConversationId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Content], [m0].[ConversationId], [m0].[CreatedAt], [m0].[DeletedAt], [m0].[DeletedBy], [m0].[DeliveryStatus], [m0].[EditHistory], [m0].[EditedAt], [m0].[IsDeleted], [m0].[IsEdited], [m0].[IsEncrypted], [m0].[Mentions], [m0].[MessageType], [m0].[ModerationResult], [m0].[ParentMessageId], [m0].[SenderId], [m0].[SentAt], [m0].[Status], [m0].[Tags], [m0].[Timestamp]
    FROM (
        SELECT [m].[Id], [m].[Content], [m].[ConversationId], [m].[CreatedAt], [m].[DeletedAt], [m].[DeletedBy], [m].[DeliveryStatus], [m].[EditHistory], [m].[EditedAt], [m].[IsDeleted], [m].[IsEdited], [m].[IsEncrypted], [m].[Mentions], [m].[MessageType], [m].[ModerationResult], [m].[ParentMessageId], [m].[SenderId], [m].[SentAt], [m].[Status], [m].[Tags], [m].[Timestamp], ROW_NUMBER() OVER(PARTITION BY [m].[ConversationId] ORDER BY [m].[CreatedAt] DESC) AS [row]
        FROM [Messages] AS [m]
    ) AS [m0]
    WHERE [m0].[row] <= 1
) AS [m1] ON [c8].[Id] = [m1].[ConversationId]
LEFT JOIN (
    SELECT [c4].[UserId], COALESCE([u0].[UserName], N'Unknown') AS [c], [c4].[Role], [c4].[JoinedAt], [c4].[LastReadAt], [c4].[Id], [u0].[Id] AS [Id0], [c4].[ConversationId]
    FROM [ConversationParticipants] AS [c4]
    INNER JOIN [Users] AS [u0] ON [c4].[UserId] = [u0].[Id]
) AS [s0] ON [c8].[Id] = [s0].[ConversationId]
ORDER BY [c8].[c3] DESC, [c8].[Id], [s].[Id], [s].[Id0], [m1].[ConversationId], [m1].[CreatedAt] DESC, [m1].[Id], [s0].[Id]
2025-07-22 17:19:11.561 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.0471ms.
2025-07-22 17:19:11.562 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ConversationListResponse'.
2025-07-22 17:19:11.563 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) in 66.6202ms
2025-07-22 17:19:11.564 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 17:19:11.565 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 200 in 80.4251 ms
2025-07-22 17:19:11.567 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 200 null application/json; charset=utf-8 97.2674ms
2025-07-22 17:19:46.026 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:46.037 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 34516.8123 ms
2025-07-22 17:19:46.044 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=LnECYwkxJ4D-tg8ADD7I1w&_=1753201151459 - 499 null null 34547.5129ms
2025-07-22 17:19:47.049 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 17:19:47.054 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 17:19:47.056 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]] GetCurrentUser() on controller MeAndMyDog.API.Controllers.AuthController (MeAndMyDog.API).
2025-07-22 17:19:47.074 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:19:47.076 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0585ms.
2025-07-22 17:19:47.078 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:19:47.079 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API) in 20.8282ms
2025-07-22 17:19:47.082 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.AuthController.GetCurrentUser (MeAndMyDog.API)'
2025-07-22 17:19:47.086 +01:00 [INF] HTTP GET /api/v1/auth/me responded 200 in 33.6978 ms
2025-07-22 17:19:47.088 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 200 null application/json; charset=utf-8 39.2148ms
2025-07-22 17:19:47.395 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:19:47.401 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.402 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 1.3144 ms
2025-07-22 17:19:47.404 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 9.5934ms
2025-07-22 17:19:47.411 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:19:47.416 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.418 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:47.420 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:47.421 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 4.9446 ms
2025-07-22 17:19:47.424 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 12.5222ms
2025-07-22 17:19:47.430 +01:00 [INF] Request starting HTTP/2 CONNECT https://localhost:63343/hubs/messaging?id=cQL5jWpvJoe5l091VPPm_A&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - null null
2025-07-22 17:19:47.438 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.439 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:19:47.441 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:19:47.444 +01:00 [INF] HTTP CONNECT /hubs/messaging responded 401 in 5.6226 ms
2025-07-22 17:19:47.447 +01:00 [INF] Request finished HTTP/2 CONNECT https://localhost:63343/hubs/messaging?id=cQL5jWpvJoe5l091VPPm_A&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - 401 0 null 16.8732ms
2025-07-22 17:19:47.452 +01:00 [INF] Connection id "0HNE975KF88JN", Request id "0HNE975KF88JN:00000027": the application completed without reading the entire request body.
2025-07-22 17:19:47.453 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:19:47.457 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.458 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 0.8226 ms
2025-07-22 17:19:47.460 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 7.0727ms
2025-07-22 17:19:47.464 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:19:47.468 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.469 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:47.472 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:47.473 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 4.6430 ms
2025-07-22 17:19:47.477 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 12.7021ms
2025-07-22 17:19:47.481 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=lfUT5Md4f8mBeqcgK7ch8w&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - null null
2025-07-22 17:19:47.484 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.485 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:19:47.486 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:19:47.487 +01:00 [INF] HTTP GET /hubs/messaging responded 401 in 3.1404 ms
2025-07-22 17:19:47.488 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=lfUT5Md4f8mBeqcgK7ch8w&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI2MDYxOGI1Mi0wNWI2LTRhNTctODQ4Ni05YmEzYTZjMmFjMGIiLCJlbWFpbCI6InRoM2RpeG9uQGdtYWlsLmNvbSIsInVuaXF1ZV9uYW1lIjoiQ2hyaXMgRGl4b24iLCJ1c2VyX3R5cGUiOiJTZXJ2aWNlUHJvdmlkZXIiLCJyb2xlIjpbIlVzZXIiLCJTZXJ2aWNlUHJvdmlkZXIiXSwibmJmIjoxNzUzMTk3MzY2LCJleHAiOjE3NTMyMDA5NjYsImlhdCI6MTc1MzE5NzM2NiwiaXNzIjoiTWVBbmRNeURvZ2d5IiwiYXVkIjoiTWVBbmRNeURvZ2d5VXNlcnMifQ.ncPqsLvMY2rJPAvJiVTUAwaZEviYDR8MgYqKnq7C1y8 - 401 0 null 7.2037ms
2025-07-22 17:19:47.494 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:19:47.497 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.498 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 0.7572 ms
2025-07-22 17:19:47.500 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 5.382ms
2025-07-22 17:19:47.502 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:19:47.507 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.508 +01:00 [INF] Executing endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:47.509 +01:00 [INF] Executed endpoint '/hubs/messaging/negotiate'
2025-07-22 17:19:47.510 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 200 in 3.8498 ms
2025-07-22 17:19:47.513 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 200 316 application/json 10.8315ms
2025-07-22 17:19:47.519 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187514 - null null
2025-07-22 17:19:47.522 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.523 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 0.8307 ms
2025-07-22 17:19:47.525 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187514 - 204 null null 6.1769ms
2025-07-22 17:19:47.528 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187514 - null null
2025-07-22 17:19:47.534 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.535 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:47.537 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:47.539 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 5.2685 ms
2025-07-22 17:19:47.542 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187514 - 200 0 application/octet-stream 13.5918ms
2025-07-22 17:19:47.546 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187543 - null null
2025-07-22 17:19:47.548 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug - null null
2025-07-22 17:19:47.552 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.555 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.555 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 3.2859 ms
2025-07-22 17:19:47.556 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 1.4102 ms
2025-07-22 17:19:47.558 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187543 - 204 null null 11.7218ms
2025-07-22 17:19:47.560 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug - 204 null null 11.5306ms
2025-07-22 17:19:47.564 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug - text/plain;charset=UTF-8 32
2025-07-22 17:19:47.562 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187543 - null null
2025-07-22 17:19:47.577 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.581 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.582 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:47.584 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:47.585 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:47.586 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:19:47.587 +01:00 [INF] HTTP POST /hubs/messaging responded 200 in 10.4795 ms
2025-07-22 17:19:47.588 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 7.3701 ms
2025-07-22 17:19:47.590 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug - 200 0 text/plain 25.8622ms
2025-07-22 17:19:47.591 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187543 - 200 3 application/octet-stream 29.4367ms
2025-07-22 17:19:47.597 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187593 - null null
2025-07-22 17:19:47.599 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ConversationId]
FROM [ConversationParticipants] AS [c]
WHERE [c].[UserId] = @__userId_0
2025-07-22 17:19:47.603 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.604 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 17:19:47.608 +01:00 [INF] User 60618b52-05b6-4a57-8486-9ba3a6c2ac0b connected with connection _NNS7ZD-HEYl_w4rIm4ZAA
2025-07-22 17:19:47.610 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 6.8234 ms
2025-07-22 17:19:47.614 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 17:19:47.619 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187593 - 204 null null 21.4109ms
2025-07-22 17:19:47.620 +01:00 [INF] Route matched with {action = "GetConversations", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetConversations(System.Nullable`1[MeAndMyDog.API.Models.Enums.ConversationType], Boolean, Int32, Int32) on controller MeAndMyDog.API.Controllers.MessagingController (MeAndMyDog.API).
2025-07-22 17:19:47.622 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187593 - null null
2025-07-22 17:19:47.637 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:19:47.642 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:19:47.648 +01:00 [INF] Executing endpoint '/hubs/messaging'
2025-07-22 17:19:47.657 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Conversations] AS [c]
WHERE EXISTS (
    SELECT 1
    FROM [ConversationParticipants] AS [c0]
    WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
    SELECT TOP(1) [c1].[IsArchived]
    FROM [ConversationParticipants] AS [c1]
    WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
2025-07-22 17:19:47.680 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='60618b52-05b6-4a57-8486-9ba3a6c2ac0b' (Size = 450), @__8__locals1_archived_1='False', @__p_2='0', @__p_3='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [c8].[Id], [c8].[ConversationType], [c8].[Title], [c8].[CreatedAt], [c8].[CreatedBy], [c8].[Description], [c8].[ImageUrl], [c8].[IsActive], [c8].[LastMessageAt], [c8].[LastMessageId], [c8].[LastMessagePreview], [c8].[MessageCount], [c8].[Name], [c8].[Type], [c8].[UpdatedAt], [s].[Id], [s].[ConversationId], [s].[IsActive], [s].[IsArchived], [s].[IsMuted], [s].[IsPinned], [s].[JoinedAt], [s].[LastReadAt], [s].[LastReadMessageId], [s].[LeftAt], [s].[MutedUntil], [s].[Role], [s].[UnreadCount], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[AccountStatus], [s].[AddressLine1], [s].[AddressLine2], [s].[City], [s].[ConcurrencyStamp], [s].[County], [s].[CreatedAt], [s].[DateOfBirth], [s].[Email], [s].[EmailConfirmed], [s].[FirstName], [s].[FriendCode], [s].[Gender], [s].[IsActive0], [s].[IsKYCVerified], [s].[LastName], [s].[LastSeenAt], [s].[Latitude], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[Longitude], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[PostCode], [s].[PreferredLanguage], [s].[ProfileImageUrl], [s].[ProfilePhotoUrl], [s].[SecurityStamp], [s].[SubscriptionType], [s].[TimeZone], [s].[TwoFactorEnabled], [s].[UpdatedAt], [s].[UserName], [s].[UserType], [m1].[Id], [m1].[Content], [m1].[ConversationId], [m1].[CreatedAt], [m1].[DeletedAt], [m1].[DeletedBy], [m1].[DeliveryStatus], [m1].[EditHistory], [m1].[EditedAt], [m1].[IsDeleted], [m1].[IsEdited], [m1].[IsEncrypted], [m1].[Mentions], [m1].[MessageType], [m1].[ModerationResult], [m1].[ParentMessageId], [m1].[SenderId], [m1].[SentAt], [m1].[Status], [m1].[Tags], [m1].[Timestamp], [c8].[c], [s0].[UserId], [s0].[c], [s0].[Role], [s0].[JoinedAt], [s0].[LastReadAt], [s0].[Id], [s0].[Id0], [c8].[c0], [c8].[c1], [c8].[c2]
FROM (
    SELECT [c].[Id], [c].[ConversationType], [c].[Title], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[ImageUrl], [c].[IsActive], [c].[LastMessageAt], [c].[LastMessageId], [c].[LastMessagePreview], [c].[MessageCount], [c].[Name], [c].[Type], [c].[UpdatedAt], (
        SELECT TOP(1) [c3].[UnreadCount]
        FROM [ConversationParticipants] AS [c3]
        WHERE [c].[Id] = [c3].[ConversationId] AND [c3].[UserId] = @__userId_0) AS [c], (
        SELECT TOP(1) [c5].[IsArchived]
        FROM [ConversationParticipants] AS [c5]
        WHERE [c].[Id] = [c5].[ConversationId] AND [c5].[UserId] = @__userId_0) AS [c0], (
        SELECT TOP(1) [c6].[IsPinned]
        FROM [ConversationParticipants] AS [c6]
        WHERE [c].[Id] = [c6].[ConversationId] AND [c6].[UserId] = @__userId_0) AS [c1], (
        SELECT TOP(1) [c7].[IsMuted]
        FROM [ConversationParticipants] AS [c7]
        WHERE [c].[Id] = [c7].[ConversationId] AND [c7].[UserId] = @__userId_0) AS [c2], COALESCE([c].[LastMessageAt], [c].[CreatedAt]) AS [c3]
    FROM [Conversations] AS [c]
    WHERE EXISTS (
        SELECT 1
        FROM [ConversationParticipants] AS [c0]
        WHERE [c].[Id] = [c0].[ConversationId] AND [c0].[UserId] = @__userId_0) AND (
        SELECT TOP(1) [c1].[IsArchived]
        FROM [ConversationParticipants] AS [c1]
        WHERE [c].[Id] = [c1].[ConversationId] AND [c1].[UserId] = @__userId_0) = @__8__locals1_archived_1
    ORDER BY COALESCE([c].[LastMessageAt], [c].[CreatedAt]) DESC
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [c8]
LEFT JOIN (
    SELECT [c2].[Id], [c2].[ConversationId], [c2].[IsActive], [c2].[IsArchived], [c2].[IsMuted], [c2].[IsPinned], [c2].[JoinedAt], [c2].[LastReadAt], [c2].[LastReadMessageId], [c2].[LeftAt], [c2].[MutedUntil], [c2].[Role], [c2].[UnreadCount], [c2].[UserId], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[FriendCode], [u].[Gender], [u].[IsActive] AS [IsActive0], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType]
    FROM [ConversationParticipants] AS [c2]
    INNER JOIN [Users] AS [u] ON [c2].[UserId] = [u].[Id]
) AS [s] ON [c8].[Id] = [s].[ConversationId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Content], [m0].[ConversationId], [m0].[CreatedAt], [m0].[DeletedAt], [m0].[DeletedBy], [m0].[DeliveryStatus], [m0].[EditHistory], [m0].[EditedAt], [m0].[IsDeleted], [m0].[IsEdited], [m0].[IsEncrypted], [m0].[Mentions], [m0].[MessageType], [m0].[ModerationResult], [m0].[ParentMessageId], [m0].[SenderId], [m0].[SentAt], [m0].[Status], [m0].[Tags], [m0].[Timestamp]
    FROM (
        SELECT [m].[Id], [m].[Content], [m].[ConversationId], [m].[CreatedAt], [m].[DeletedAt], [m].[DeletedBy], [m].[DeliveryStatus], [m].[EditHistory], [m].[EditedAt], [m].[IsDeleted], [m].[IsEdited], [m].[IsEncrypted], [m].[Mentions], [m].[MessageType], [m].[ModerationResult], [m].[ParentMessageId], [m].[SenderId], [m].[SentAt], [m].[Status], [m].[Tags], [m].[Timestamp], ROW_NUMBER() OVER(PARTITION BY [m].[ConversationId] ORDER BY [m].[CreatedAt] DESC) AS [row]
        FROM [Messages] AS [m]
    ) AS [m0]
    WHERE [m0].[row] <= 1
) AS [m1] ON [c8].[Id] = [m1].[ConversationId]
LEFT JOIN (
    SELECT [c4].[UserId], COALESCE([u0].[UserName], N'Unknown') AS [c], [c4].[Role], [c4].[JoinedAt], [c4].[LastReadAt], [c4].[Id], [u0].[Id] AS [Id0], [c4].[ConversationId]
    FROM [ConversationParticipants] AS [c4]
    INNER JOIN [Users] AS [u0] ON [c4].[UserId] = [u0].[Id]
) AS [s0] ON [c8].[Id] = [s0].[ConversationId]
ORDER BY [c8].[c3] DESC, [c8].[Id], [s].[Id], [s].[Id0], [m1].[ConversationId], [m1].[CreatedAt] DESC, [m1].[Id], [s0].[Id]
2025-07-22 17:19:47.685 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.8396ms.
2025-07-22 17:19:47.687 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ConversationListResponse'.
2025-07-22 17:19:47.689 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API) in 62.7787ms
2025-07-22 17:19:47.691 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.MessagingController.GetConversations (MeAndMyDog.API)'
2025-07-22 17:19:47.692 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 200 in 78.8311 ms
2025-07-22 17:19:47.696 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 200 null application/json; charset=utf-8 92.0892ms
2025-07-22 17:21:17.657 +01:00 [INF] Executed endpoint '/hubs/messaging'
2025-07-22 17:21:17.658 +01:00 [INF] HTTP GET /hubs/messaging responded 200 in 90016.4247 ms
2025-07-22 17:21:17.660 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201187593 - 200 0 text/plain 90037.7929ms
2025-07-22 17:21:17.664 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201277662 - null null
2025-07-22 17:21:17.666 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:21:17.667 +01:00 [INF] HTTP OPTIONS /hubs/messaging responded 204 in 0.8007 ms
2025-07-22 17:21:17.669 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201277662 - 204 null null 4.7019ms
2025-07-22 17:21:17.671 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201277662 - null null
2025-07-22 17:21:17.674 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:21:17.678 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:21:17.682 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:17'.
2025-07-22 17:21:17.684 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:17'.
2025-07-22 17:21:17.685 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:21:17.687 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:21:17.689 +01:00 [INF] HTTP GET /hubs/messaging responded 401 in 14.9644 ms
2025-07-22 17:21:17.691 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/hubs/messaging?id=wq9L-_AjFqq0e9T0xgH0Ug&_=1753201277662 - 401 0 null 19.8751ms
2025-07-22 17:21:17.697 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:21:17.699 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:21:17.700 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 0.8286 ms
2025-07-22 17:21:17.702 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 5.4151ms
2025-07-22 17:21:17.705 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:21:17.708 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:21:17.709 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:21:17.711 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:17'.
2025-07-22 17:21:17.712 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:17'.
2025-07-22 17:21:17.713 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:21:17.714 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:21:17.715 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 401 in 6.8070 ms
2025-07-22 17:21:17.716 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 401 0 null 11.4978ms
2025-07-22 17:21:19.735 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:21:19.738 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:21:19.739 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 0.8163 ms
2025-07-22 17:21:19.741 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 6.1779ms
2025-07-22 17:21:19.744 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:21:19.750 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:21:19.753 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:21:19.755 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:19'.
2025-07-22 17:21:19.756 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:19'.
2025-07-22 17:21:19.757 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:21:19.759 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:21:19.760 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 401 in 9.5872 ms
2025-07-22 17:21:19.762 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 401 0 null 17.1976ms
2025-07-22 17:21:29.782 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:21:29.784 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:21:29.785 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 0.8985 ms
2025-07-22 17:21:29.787 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 5.2609ms
2025-07-22 17:21:29.790 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:21:29.801 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:21:29.803 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:29'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:21:29.806 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:29'.
2025-07-22 17:21:29.812 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:29'.
2025-07-22 17:21:29.814 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:21:29.815 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:21:29.817 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 401 in 15.4311 ms
2025-07-22 17:21:29.819 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 401 0 null 29.2244ms
2025-07-22 17:21:59.842 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:21:59.845 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:21:59.846 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 0.9444 ms
2025-07-22 17:21:59.849 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 6.9979ms
2025-07-22 17:21:59.852 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:21:59.865 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:21:59.866 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:21:59.869 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:59'.
2025-07-22 17:21:59.873 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:21:59'.
2025-07-22 17:21:59.874 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:21:59.875 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:21:59.876 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 401 in 11.3836 ms
2025-07-22 17:21:59.886 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 401 0 null 34.3612ms
2025-07-22 17:23:04.360 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 17:23:04.373 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:23:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:23:04.376 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:23:04'.
2025-07-22 17:23:04.377 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:23:04'.
2025-07-22 17:23:04.379 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:23:04.381 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:23:04.382 +01:00 [INF] HTTP GET /api/v1/auth/me responded 401 in 9.9246 ms
2025-07-22 17:23:04.385 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 401 0 null 24.4952ms
2025-07-22 17:23:04.777 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:23:04.783 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:23:04.784 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 1.2504 ms
2025-07-22 17:23:04.787 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 10.0218ms
2025-07-22 17:23:04.794 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:23:04.802 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:23:04.806 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:23:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:23:04.810 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:23:04'.
2025-07-22 17:23:04.811 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:23:04'.
2025-07-22 17:23:04.815 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:23:04.818 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:23:04.822 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 401 in 20.2864 ms
2025-07-22 17:23:04.832 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 401 0 null 37.7434ms
2025-07-22 17:31:14.750 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 17:31:14.755 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:14'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:31:14.758 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:14'.
2025-07-22 17:31:14.759 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:14'.
2025-07-22 17:31:14.762 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:31:14.763 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:31:14.764 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 401 in 9.6214 ms
2025-07-22 17:31:14.766 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 401 0 null 15.9673ms
2025-07-22 17:31:16.916 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - null null
2025-07-22 17:31:16.920 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:31:16.922 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:16'.
2025-07-22 17:31:16.923 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:16'.
2025-07-22 17:31:16.924 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:31:16.925 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:31:16.926 +01:00 [INF] HTTP GET /api/v1/auth/me responded 401 in 6.8273 ms
2025-07-22 17:31:16.927 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/auth/me - 401 0 null 11.6581ms
2025-07-22 17:31:17.124 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null null
2025-07-22 17:31:17.140 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:31:17.141 +01:00 [INF] HTTP OPTIONS /hubs/messaging/negotiate responded 204 in 0.8984 ms
2025-07-22 17:31:17.144 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 204 null null 20.7584ms
2025-07-22 17:31:17.154 +01:00 [INF] Request starting HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - null 0
2025-07-22 17:31:17.156 +01:00 [INF] CORS policy execution successful.
2025-07-22 17:31:17.158 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:31:17.160 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:17'.
2025-07-22 17:31:17.161 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:17'.
2025-07-22 17:31:17.162 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:31:17.165 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:31:17.166 +01:00 [INF] HTTP POST /hubs/messaging/negotiate responded 401 in 9.6974 ms
2025-07-22 17:31:17.170 +01:00 [INF] Request finished HTTP/2 POST https://localhost:63343/hubs/messaging/negotiate?negotiateVersion=1 - 401 0 null 16.0701ms
2025-07-22 17:31:18.496 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - null null
2025-07-22 17:31:18.500 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:18'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-22 17:31:18.504 +01:00 [WRN] JWT authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:18'.
2025-07-22 17:31:18.508 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/07/2025 16:16:06', Current time (UTC): '22/07/2025 16:31:18'.
2025-07-22 17:31:18.511 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-22 17:31:18.512 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-22 17:31:18.514 +01:00 [INF] HTTP GET /api/v1/messaging/conversations responded 401 in 14.3024 ms
2025-07-22 17:31:18.518 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/messaging/conversations - 401 0 null 21.8964ms
2025-07-22 17:31:20.981 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 17:31:20.983 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:31:20.985 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 17:31:21.000 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:31:21.003 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.1271ms.
2025-07-22 17:31:21.006 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 17:31:21.008 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 21.0702ms
2025-07-22 17:31:21.010 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 17:31:21.011 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 28.2744 ms
2025-07-22 17:31:21.014 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 33.347ms
2025-07-22 17:31:32.602 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Po13%200jx&maxResults=1 - null null
2025-07-22 17:31:32.606 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 17:31:32.607 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:31:32.623 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:31:32.624 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0945ms.
2025-07-22 17:31:32.626 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:31:32.628 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17.9599ms
2025-07-22 17:31:32.632 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 17:31:32.634 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 27.9633 ms
2025-07-22 17:31:32.636 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Po13%200jx&maxResults=1 - 200 null application/json; charset=utf-8 33.8486ms
2025-07-22 17:31:32.838 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 17:31:32.842 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:31:32.843 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:31:32.863 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:31:32.864 +01:00 [INF] Provider search request received for location: null
2025-07-22 17:31:32.865 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:31:32.884 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:31:32.895 +01:00 [INF] Executing real provider search at 50.8205301,-1.1713195 within 25 miles
2025-07-22 17:31:33.039 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__serviceGuids_0='["2124f64c-8805-4510-977c-0892cebdf52d"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT CONVERT(varchar(36), [p].[ProviderId])
FROM [ProviderService] AS [p]
WHERE [p].[ServiceCategoryId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__serviceGuids_0) WITH ([value] uniqueidentifier '$') AS [s]
) AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 17:31:33.560 +01:00 [INF] Executed DbCommand (517ms) [Parameters=[@__Cos_1='0.6317515856612386', @__longitude_2='-1.1713195', @__Sin_3='0.7751709063261538', @__providerIdsWithServices_0='["2E5B2E8D-DD1A-49F2-A746-EC83998F11A6","36D5C085-DC40-4AEE-B9EF-368652A85FE6","9DA1B93D-8771-421C-BE05-52B65C3520DF"]' (Size = 4000), @__p_4='25'], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BusinessAddress], [s].[BusinessDescription], [s].[BusinessEmail], [s].[BusinessLicense], [s].[BusinessName], [s].[BusinessPhone], [s].[BusinessWebsite], [s].[CreatedAt], [s].[GoogleCalendarId], [s].[HourlyRate], [s].[InsurancePolicy], [s].[IsActive], [s].[IsPremium], [s].[IsVerified], [s].[PremiumEndDate], [s].[PremiumStartDate], [s].[PremiumSubscriptionId], [s].[Rating], [s].[ReliabilityScore], [s].[ResponseTimeHours], [s].[ReviewCount], [s].[ServiceAreas], [s].[Specializations], [s].[TimeZone], [s].[UpdatedAt], [s].[UserId], [s].[YearsOfExperience], [u].[Id], [u].[AccessFailedCount], [u].[AccountStatus], [u].[AddressLine1], [u].[AddressLine2], [u].[City], [u].[ConcurrencyStamp], [u].[County], [u].[CreatedAt], [u].[DateOfBirth], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[FriendCode], [u].[Gender], [u].[IsActive], [u].[IsKYCVerified], [u].[LastName], [u].[LastSeenAt], [u].[Latitude], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Longitude], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PostCode], [u].[PreferredLanguage], [u].[ProfileImageUrl], [u].[ProfilePhotoUrl], [u].[SecurityStamp], [u].[SubscriptionType], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u].[UserType], 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
FROM [ServiceProviders] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [u].[IsActive] = CAST(1 AS bit) AND [s].[Id] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__providerIdsWithServices_0) WITH ([value] nvarchar(450) '$') AS [p]
) AND [u].[Latitude] IS NOT NULL AND [u].[Longitude] IS NOT NULL AND 3959.0E0 * ACOS((@__Cos_1 * COS((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST([u].[Longitude] AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST([u].[Latitude] AS float) * 3.1415926535897931E0) / 180.0E0)) <= @__p_4
ORDER BY 3959.0E0 * ACOS((@__Cos_1 * COS((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0)) * COS(((CAST(COALESCE([u].[Longitude], 0.0) AS float) - @__longitude_2) * 3.1415926535897931E0) / 180.0E0) + @__Sin_3 * SIN((CAST(COALESCE([u].[Latitude], 0.0) AS float) * 3.1415926535897931E0) / 180.0E0))
2025-07-22 17:31:34.089 +01:00 [INF] Executed DbCommand (526ms) [Parameters=[@__providerGuid_0='9da1b93d-8771-421c-be05-52b65c3520df'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServiceId], [p].[CreatedAt], [p].[IsOffered], [p].[OffersEmergencyService], [p].[OffersEveningService], [p].[OffersWeekendService], [p].[ProviderId], [p].[ServiceCategoryId], [p].[ServiceRadiusMiles], [p].[SpecialNotes], [p].[UpdatedAt], [s].[ServiceCategoryId], [s].[ColorCode], [s].[CreatedAt], [s].[Description], [s].[DisplayOrder], [s].[IconClass], [s].[IsActive], [s].[Name], [s].[UpdatedAt]
FROM [ProviderService] AS [p]
INNER JOIN [ServiceCategories] AS [s] ON [p].[ServiceCategoryId] = [s].[ServiceCategoryId]
WHERE [p].[ProviderId] = @__providerGuid_0 AND [p].[IsOffered] = CAST(1 AS bit)
2025-07-22 17:31:34.106 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__Select_0='["253b2f88-982a-4f2b-a51e-21b3169b11af"]' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProviderServicePricingId], [p].[CreatedAt], [p].[EveningSurchargePercentage], [p].[HasEveningSurcharge], [p].[HasWeekendSurcharge], [p].[IsAvailable], [p].[MaxAdvanceBookingDays], [p].[MinAdvanceBookingHours], [p].[Notes], [p].[Price], [p].[PricingType], [p].[ProviderServiceId], [p].[SubServiceId], [p].[UpdatedAt], [p].[WeekendSurchargePercentage]
FROM [ProviderServicePricing] AS [p]
WHERE [p].[ProviderServiceId] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] uniqueidentifier '$') AS [s]
)
2025-07-22 17:31:34.121 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__provider_Id_0='9da1b93d-8771-421c-be05-52b65c3520df' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[CompletedAt]
FROM [Bookings] AS [b]
WHERE [b].[ServiceProviderId] = @__provider_Id_0 AND [b].[Status] = N'Completed' AND [b].[CompletedAt] IS NOT NULL
ORDER BY [b].[CompletedAt] DESC
2025-07-22 17:31:34.124 +01:00 [INF] Found 1 real providers within 25 miles
2025-07-22 17:31:34.125 +01:00 [INF] Provider search completed. Found 1 providers
2025-07-22 17:31:34.127 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:31:34.128 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1263.4589ms.
2025-07-22 17:31:34.129 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:31:34.131 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 1283.1747ms
2025-07-22 17:31:34.133 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:31:34.135 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 1292.8703 ms
2025-07-22 17:31:34.137 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 1298.9268ms
2025-07-22 17:31:35.233 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Po13%200jx&maxResults=1 - null null
2025-07-22 17:31:35.236 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 17:31:35.238 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:31:35.251 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:31:35.253 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0949ms.
2025-07-22 17:31:35.254 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:31:35.256 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 16.0309ms
2025-07-22 17:31:35.258 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 17:31:35.259 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 22.6789 ms
2025-07-22 17:31:35.262 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Po13%200jx&maxResults=1 - 200 null application/json; charset=utf-8 29.4703ms
2025-07-22 17:31:35.344 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 17:31:35.348 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:31:35.350 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:31:35.367 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:31:35.369 +01:00 [INF] Provider search request received for location: null
2025-07-22 17:31:35.371 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:31:35.404 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:31:35.408 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_25_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 17:31:35.409 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:31:35.412 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.5895ms.
2025-07-22 17:31:35.414 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:31:35.416 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 61.9684ms
2025-07-22 17:31:35.418 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:31:35.421 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 73.1006 ms
2025-07-22 17:31:35.423 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 78.444ms
2025-07-22 17:33:54.684 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Po13%200jx&maxResults=1 - null null
2025-07-22 17:33:54.687 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 17:33:54.692 +01:00 [INF] Route matched with {action = "GetLocationSuggestions", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[MeAndMyDog.API.Services.Interfaces.LocationSuggestion]]] GetLocationSuggestions(System.String, Int32, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:33:54.707 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:33:54.709 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.0606ms.
2025-07-22 17:33:54.710 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MeAndMyDog.API.Services.Interfaces.LocationSuggestion, MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-22 17:33:54.712 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API) in 17.6111ms
2025-07-22 17:33:54.713 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.GetLocationSuggestions (MeAndMyDog.API)'
2025-07-22 17:33:54.714 +01:00 [INF] HTTP GET /api/v1/ProviderSearch/locations/suggestions responded 200 in 26.7824 ms
2025-07-22 17:33:54.716 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ProviderSearch/locations/suggestions?query=Po13%200jx&maxResults=1 - 200 null application/json; charset=utf-8 31.3808ms
2025-07-22 17:33:54.819 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - application/json; charset=utf-8 448
2025-07-22 17:33:54.822 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:33:54.823 +01:00 [INF] Route matched with {action = "SearchProviders", controller = "ProviderSearch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto]] SearchProviders(MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchFilterDto, System.Threading.CancellationToken) on controller MeAndMyDog.API.Controllers.ProviderSearchController (MeAndMyDog.API).
2025-07-22 17:33:54.836 +01:00 [INF] Executing action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) - Validation state: "Valid"
2025-07-22 17:33:54.838 +01:00 [INF] Provider search request received for location: null
2025-07-22 17:33:54.838 +01:00 [INF] Starting provider search with filters: {"Location":null,"Latitude":50.8205301,"Longitude":-1.1713195,"RadiusMiles":25,"ServiceCategoryIds":["2124f64c-8805-4510-977c-0892cebdf52d"],"SubServiceIds":null,"StartDate":null,"EndDate":null,"PetCount":1,"MinPrice":null,"MaxPrice":null,"MinRating":null,"VerifiedOnly":false,"EmergencyServiceOnly":false,"WeekendAvailable":false,"EveningAvailable":false,"SortBy":"distance","SortDirection":"asc","Page":1,"PageSize":3,"IncludeAvailability":false,"$type":"ProviderSearchFilterDto"}
2025-07-22 17:33:54.851 +01:00 [INF] Using provided coordinates: Lat=50.8205301, Lng=-1.1713195
2025-07-22 17:33:54.852 +01:00 [INF] Returning cached search results for key: search_50.8205_-1.1713_25_services_2124f64c-8805-4510-977c-0892cebdf52d_pets_1
2025-07-22 17:33:54.853 +01:00 [INF] Provider search completed. Found 1 providers in 0ms
2025-07-22 17:33:54.854 +01:00 [INF] Executed action method MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.4224ms.
2025-07-22 17:33:54.856 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.DTOs.ProviderSearch.ProviderSearchResponseDto'.
2025-07-22 17:33:54.857 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API) in 31.6687ms
2025-07-22 17:33:54.858 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ProviderSearchController.SearchProviders (MeAndMyDog.API)'
2025-07-22 17:33:54.859 +01:00 [INF] HTTP POST /api/v1/ProviderSearch/search responded 200 in 36.8711 ms
2025-07-22 17:33:54.861 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:63343/api/v1/ProviderSearch/search - 200 null application/json; charset=utf-8 41.6007ms
2025-07-22 18:19:40.268 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 18:19:41.102 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 18:19:41.211 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 18:19:41.255 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 18:19:41.375 +01:00 [FTL] Application failed to start
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardCacheService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardCacheService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardAnalyticsService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardAnalyticsService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IMobileIntegrationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.MobileIntegrationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardCacheService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardCacheService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 343
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardAnalyticsService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardAnalyticsService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IMobileIntegrationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.MobileIntegrationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-07-22 18:20:16.605 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 18:20:17.304 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 18:20:17.405 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 18:20:17.483 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 18:20:17.625 +01:00 [FTL] Application failed to start
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardCacheService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardCacheService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardAnalyticsService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardAnalyticsService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IMobileIntegrationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.MobileIntegrationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardCacheService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardCacheService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 343
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardAnalyticsService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardAnalyticsService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IMobileIntegrationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.MobileIntegrationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-07-22 18:20:26.105 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 18:20:26.819 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 18:20:26.928 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 18:20:26.988 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 18:20:27.124 +01:00 [FTL] Application failed to start
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardCacheService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardCacheService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardAnalyticsService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardAnalyticsService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IMobileIntegrationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.MobileIntegrationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardCacheService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardCacheService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 343
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardAnalyticsService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardAnalyticsService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IMobileIntegrationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.MobileIntegrationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-07-22 18:21:04.043 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 18:21:04.137 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 18:21:04.155 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 18:21:04.159 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 18:21:04.183 +01:00 [FTL] Application failed to start
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardCacheService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardCacheService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardAnalyticsService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardAnalyticsService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IMobileIntegrationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.MobileIntegrationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardCacheService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardCacheService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 343
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardAnalyticsService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardAnalyticsService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IMobileIntegrationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.MobileIntegrationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-07-22 18:21:37.757 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 18:21:37.863 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 18:21:37.882 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 18:21:37.888 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 18:21:37.913 +01:00 [FTL] Application failed to start
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardCacheService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardCacheService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardAnalyticsService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardAnalyticsService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IMobileIntegrationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.MobileIntegrationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardCacheService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardCacheService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 343
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IDashboardAnalyticsService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.DashboardAnalyticsService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IMobileIntegrationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.MobileIntegrationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Distributed.IDistributedCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.DashboardCacheService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-07-22 18:22:08.710 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 18:22:08.818 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 18:22:08.836 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 18:22:08.840 +01:00 [INF] Redis connection string not found. Using in-memory distributed caching.
2025-07-22 18:22:08.864 +01:00 [FTL] Application failed to start
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IServiceCatalogService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.ServiceCatalogService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.ServiceCatalogService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IProviderSearchService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.ProviderSearchService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.LocationService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.ILocationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.LocationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.LocationService'.) (Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.IAuthService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.AuthService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.LocationService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IServiceCatalogService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.ServiceCatalogService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.ServiceCatalogService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.ServiceCatalogService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API\Program.cs:line 343
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.IProviderSearchService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.ProviderSearchService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.LocationService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.LocationService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.Interfaces.ILocationService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.LocationService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.LocationService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.LocationService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MeAndMyDog.API.Services.IAuthService Lifetime: Scoped ImplementationType: MeAndMyDog.API.Services.Implementations.AuthService': Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.LocationService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Caching.Memory.IMemoryCache' while attempting to activate 'MeAndMyDog.API.Services.Implementations.LocationService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-07-22 18:22:34.954 +01:00 [INF] Starting MeAndMyDoggyV2 API application...
2025-07-22 18:22:35.071 +01:00 [INF] Development environment detected. Using local configuration.
2025-07-22 18:22:35.090 +01:00 [INF] JWT authentication configured with issuer: MeAndMyDoggy and audience: MeAndMyDoggyUsers
2025-07-22 18:22:35.095 +01:00 [INF] Redis connection string not found. Using in-memory caching.
2025-07-22 18:22:35.429 +01:00 [INF] Checking database connection and applying migrations...
2025-07-22 18:22:36.145 +01:00 [WRN] No instantiatable types implementing `IEntityTypeConfiguration` were found while while scanning assembly 'MeAndMyDog.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
2025-07-22 18:22:36.400 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-07-22 18:22:36.487 +01:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 18:22:36.487 +01:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'ApplicationUser'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 18:22:36.487 +01:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'MedicalRecord'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 18:22:36.487 +01:00 [WRN] No store type was specified for the decimal property 'TranslationCost' on entity type 'MessageTranslation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 18:22:36.487 +01:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 18:22:36.487 +01:00 [WRN] No store type was specified for the decimal property 'TravelCostPerKm' on entity type 'Service'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 18:22:36.487 +01:00 [WRN] No store type was specified for the decimal property 'PaidAmount' on entity type 'UserSubscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-22 18:22:37.198 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 18:22:37.209 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-22 18:22:37.239 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-22 18:22:37.302 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-22 18:22:37.339 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 18:22:37.351 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-22 18:22:37.365 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-22 18:22:37.376 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-07-22 18:22:37.404 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-22 18:22:37.406 +01:00 [INF] Database migrations applied successfully
2025-07-22 18:22:37.408 +01:00 [INF] MeAndMyDoggyV2 API started successfully
2025-07-22 18:22:37.417 +01:00 [INF] User profile is available. Using 'C:\Users\thedi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 18:22:37.490 +01:00 [INF] Now listening on: https://localhost:63343
2025-07-22 18:22:37.491 +01:00 [INF] Now listening on: http://localhost:63344
2025-07-22 18:22:37.492 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 18:22:37.492 +01:00 [INF] Hosting environment: Development
2025-07-22 18:22:37.492 +01:00 [INF] Content root path: C:\kirorepo\MeAndMyDoggyV2\MeAndMyDoggyV2\src\API\MeAndMyDog.API
2025-07-22 18:58:27.271 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 18:58:27.504 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 234.8859ms
2025-07-22 18:58:29.533 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 18:58:30.275 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 741.7023ms
2025-07-22 18:58:30.896 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 18:58:30.925 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 18:58:30.941 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 18:58:31.689 +01:00 [INF] Executed DbCommand (131ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceCategoryId], [s].[Name], [s].[Description], [s].[IconClass], [s].[ColorCode], [s].[DisplayOrder], [s1].[SubServiceId], [s1].[Name], [s1].[Description], [s1].[DurationMinutes], [s1].[SuggestedMinPrice], [s1].[SuggestedMaxPrice], [s1].[DefaultPricingType], [s1].[DisplayOrder]
FROM [ServiceCategories] AS [s]
LEFT JOIN (
    SELECT [s0].[SubServiceId], [s0].[Name], [s0].[Description], [s0].[DurationMinutes], [s0].[SuggestedMinPrice], [s0].[SuggestedMaxPrice], [s0].[DefaultPricingType], [s0].[DisplayOrder], [s0].[ServiceCategoryId]
    FROM [SubServices] AS [s0]
    WHERE [s0].[IsActive] = CAST(1 AS bit)
) AS [s1] ON [s].[ServiceCategoryId] = [s1].[ServiceCategoryId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[DisplayOrder], [s].[ServiceCategoryId], [s1].[DisplayOrder]
2025-07-22 18:58:31.730 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 18:58:31.755 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 810.5761ms
2025-07-22 18:58:31.755 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 18:58:31.759 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 856.2919 ms
2025-07-22 18:58:31.763 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 866.066ms
2025-07-22 18:59:25.007 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 18:59:25.010 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 2.9125ms
2025-07-22 18:59:27.815 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - null null
2025-07-22 18:59:27.823 +01:00 [INF] Executing endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 18:59:27.823 +01:00 [INF] Route matched with {action = "GetPublicServiceCategories", controller = "ServiceCatalog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MeAndMyDog.API.Models.Common.ApiResponse`1[System.Object]]] GetPublicServiceCategories() on controller MeAndMyDog.API.Controllers.ServiceCatalogController (MeAndMyDog.API).
2025-07-22 18:59:27.828 +01:00 [INF] Executing OkObjectResult, writing value of type 'MeAndMyDog.API.Models.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-22 18:59:27.829 +01:00 [INF] Executed action MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API) in 5.4375ms
2025-07-22 18:59:27.829 +01:00 [INF] Executed endpoint 'MeAndMyDog.API.Controllers.ServiceCatalogController.GetPublicServiceCategories (MeAndMyDog.API)'
2025-07-22 18:59:27.829 +01:00 [INF] HTTP GET /api/v1/ServiceCatalog/public/categories responded 200 in 10.0857 ms
2025-07-22 18:59:27.830 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:63343/api/v1/ServiceCatalog/public/categories - 200 null application/json; charset=utf-8 14.7961ms
2025-07-22 18:59:27.840 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 18:59:28.065 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 224.0342ms
2025-07-22 20:54:25.319 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/index.html - null null
2025-07-22 20:54:25.322 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/index.html - 200 null text/html;charset=utf-8 2.8478ms
2025-07-22 20:54:26.360 +01:00 [INF] Request starting HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - null null
2025-07-22 20:54:26.594 +01:00 [INF] Request finished HTTP/2 GET https://localhost:63343/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 233.4786ms
