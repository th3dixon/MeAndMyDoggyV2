<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeAndMyDoggy - Mobile Search Prototype V2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .service-slide {
            scroll-snap-align: center;
            scroll-behavior: smooth;
        }
        .search-container {
            scroll-snap-type: x mandatory;
        }
        .pulse-ring {
            animation: pulse-ring 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
        @keyframes pulse-ring {
            0% { transform: scale(0.33); }
            80%, 100% { opacity: 0; }
        }
        .floating-action {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 50;
        }
        .bottom-sheet {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .bottom-sheet.open {
            transform: translateY(0);
        }
        .bottom-sheet.closed {
            transform: translateY(100%);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen overflow-x-hidden">
    <div x-data="mobileSearchInterface()" class="relative">
        <!-- Mobile Header -->
        <div class="bg-white shadow-sm px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center">
                        <span class="text-white font-bold text-lg">üêï</span>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-gray-900">MeAndMyDoggy</h1>
                        <p class="text-xs text-gray-500">Find pet care near you</p>
                    </div>
                </div>
                <button class="p-2 text-gray-600">
                    <i class="fas fa-user-circle text-2xl"></i>
                </button>
            </div>
        </div>

        <!-- Quick Search Bar -->
        <div class="bg-white px-4 py-4 border-b border-gray-100">
            <div class="relative">
                <div class="flex items-center bg-gray-100 rounded-full px-4 py-3 cursor-pointer" 
                     @click="openSearchSheet()">
                    <i class="fas fa-search text-gray-400 mr-3"></i>
                    <span class="text-gray-500 flex-1" x-text="searchPlaceholder"></span>
                    <div class="flex items-center gap-2">
                        <span x-show="selectedService" class="text-xl" x-text="serviceIcon"></span>
                        <i class="fas fa-chevron-up text-gray-400"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Service Categories Horizontal Scroll -->
        <div class="bg-white px-4 py-6">
            <h2 class="text-lg font-semibold text-gray-800 mb-4">Popular Services</h2>
            <div class="flex gap-4 overflow-x-auto pb-2 search-container">
                <div class="service-slide flex-shrink-0 w-20 text-center cursor-pointer" 
                     @click="quickSelect('walking', 'üö∂‚Äç‚ôÇÔ∏è', 'Dog Walking')">
                    <div class="w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center mx-auto mb-2 hover:bg-orange-200 transition-colors">
                        <span class="text-2xl">üö∂‚Äç‚ôÇÔ∏è</span>
                    </div>
                    <span class="text-xs font-medium text-gray-700">Walking</span>
                </div>

                <div class="service-slide flex-shrink-0 w-20 text-center cursor-pointer"
                     @click="quickSelect('sitting', 'üè†', 'Pet Sitting')">
                    <div class="w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-2 hover:bg-blue-200 transition-colors">
                        <span class="text-2xl">üè†</span>
                    </div>
                    <span class="text-xs font-medium text-gray-700">Sitting</span>
                </div>

                <div class="service-slide flex-shrink-0 w-20 text-center cursor-pointer"
                     @click="quickSelect('grooming', '‚úÇÔ∏è', 'Grooming')">
                    <div class="w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mx-auto mb-2 hover:bg-green-200 transition-colors">
                        <span class="text-2xl">‚úÇÔ∏è</span>
                    </div>
                    <span class="text-xs font-medium text-gray-700">Grooming</span>
                </div>

                <div class="service-slide flex-shrink-0 w-20 text-center cursor-pointer"
                     @click="quickSelect('training', 'üéì', 'Training')">
                    <div class="w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center mx-auto mb-2 hover:bg-purple-200 transition-colors">
                        <span class="text-2xl">üéì</span>
                    </div>
                    <span class="text-xs font-medium text-gray-700">Training</span>
                </div>

                <div class="service-slide flex-shrink-0 w-20 text-center cursor-pointer"
                     @click="quickSelect('emergency', 'üö®', 'Emergency')">
                    <div class="w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-2 hover:bg-red-200 transition-colors">
                        <span class="text-2xl">üö®</span>
                    </div>
                    <span class="text-xs font-medium text-gray-700">Emergency</span>
                </div>

                <div class="service-slide flex-shrink-0 w-20 text-center cursor-pointer"
                     @click="quickSelect('vet', 'üè•', 'Vet Care')">
                    <div class="w-16 h-16 bg-pink-100 rounded-2xl flex items-center justify-center mx-auto mb-2 hover:bg-pink-200 transition-colors">
                        <span class="text-2xl">üè•</span>
                    </div>
                    <span class="text-xs font-medium text-gray-700">Vet Care</span>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="px-4 py-6">
            <h2 class="text-lg font-semibold text-gray-800 mb-4">Quick Actions</h2>
            <div class="space-y-3">
                <div class="bg-red-50 border border-red-200 rounded-xl p-4 flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-red-500 rounded-full flex items-center justify-center relative">
                            <span class="text-white text-lg">üö®</span>
                            <div class="absolute inset-0 rounded-full bg-red-500 pulse-ring"></div>
                        </div>
                        <div>
                            <h3 class="font-semibold text-red-800">Emergency Pet Care</h3>
                            <p class="text-sm text-red-600">Available 24/7</p>
                        </div>
                    </div>
                    <button class="px-4 py-2 bg-red-500 text-white rounded-lg font-medium">
                        Find Now
                    </button>
                </div>

                <div class="bg-orange-50 border border-orange-200 rounded-xl p-4 flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center">
                            <span class="text-white text-lg">‚ö°</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-orange-800">Same Day Booking</h3>
                            <p class="text-sm text-orange-600">Available today</p>
                        </div>
                    </div>
                    <button class="px-4 py-2 bg-orange-500 text-white rounded-lg font-medium">
                        Book
                    </button>
                </div>

                <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center">
                            <span class="text-white text-lg">üìÖ</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-blue-800">Schedule Regular Care</h3>
                            <p class="text-sm text-blue-600">Weekly or monthly</p>
                        </div>
                    </div>
                    <button class="px-4 py-2 bg-blue-500 text-white rounded-lg font-medium">
                        Plan
                    </button>
                </div>
            </div>
        </div>

        <!-- Floating Action Button -->
        <button @click="openSearchSheet()" 
                class="floating-action w-14 h-14 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-600 transition-colors flex items-center justify-center">
            <i class="fas fa-search text-xl"></i>
        </button>

        <!-- Bottom Sheet Search -->
        <div class="fixed inset-0 z-50 pointer-events-none" x-show="showSearchSheet">
            <!-- Backdrop -->
            <div class="absolute inset-0 bg-black bg-opacity-50 pointer-events-auto" 
                 @click="closeSearchSheet()" x-show="showSearchSheet" 
                 x-transition:enter="transition-opacity duration-300"
                 x-transition:enter-start="opacity-0"
                 x-transition:enter-end="opacity-100"></div>

            <!-- Bottom Sheet -->
            <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl pointer-events-auto bottom-sheet"
                 :class="showSearchSheet ? 'open' : 'closed'">
                
                <!-- Handle Bar -->
                <div class="flex justify-center pt-4 pb-2">
                    <div class="w-12 h-1 bg-gray-300 rounded-full"></div>
                </div>

                <div class="p-6">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Find Pet Services</h2>

                    <!-- Service Selection -->
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-3">What do you need?</h3>
                        <div class="grid grid-cols-3 gap-3">
                            <button class="p-4 rounded-xl border-2 transition-all duration-200"
                                    :class="selectedService === 'walking' ? 'border-orange-500 bg-orange-50' : 'border-gray-200'"
                                    @click="selectService('walking', 'üö∂‚Äç‚ôÇÔ∏è', 'Dog Walking')">
                                <div class="text-2xl mb-1">üö∂‚Äç‚ôÇÔ∏è</div>
                                <div class="text-sm font-medium">Walking</div>
                            </button>

                            <button class="p-4 rounded-xl border-2 transition-all duration-200"
                                    :class="selectedService === 'sitting' ? 'border-blue-500 bg-blue-50' : 'border-gray-200'"
                                    @click="selectService('sitting', 'üè†', 'Pet Sitting')">
                                <div class="text-2xl mb-1">üè†</div>
                                <div class="text-sm font-medium">Sitting</div>
                            </button>

                            <button class="p-4 rounded-xl border-2 transition-all duration-200"
                                    :class="selectedService === 'grooming' ? 'border-green-500 bg-green-50' : 'border-gray-200'"
                                    @click="selectService('grooming', '‚úÇÔ∏è', 'Grooming')">
                                <div class="text-2xl mb-1">‚úÇÔ∏è</div>
                                <div class="text-sm font-medium">Grooming</div>
                            </button>
                        </div>
                    </div>

                    <!-- Location Input -->
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-3">Where are you?</h3>
                        <div class="relative">
                            <input type="text" 
                                   x-model="postcode"
                                   @input="searchProviders()"
                                   placeholder="Enter postcode or use current location"
                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 pr-12">
                            <button @click="getCurrentLocation()" 
                                    class="absolute right-3 top-1/2 transform -translate-y-1/2 text-orange-500">
                                <i class="fas fa-location-arrow"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Results Preview -->
                    <div x-show="showResults" x-transition class="mb-6 p-4 bg-gray-50 rounded-xl">
                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="font-semibold text-gray-800" x-text="providerCount + ' providers found'"></h4>
                                <p class="text-sm text-gray-600" x-text="priceRange + ' ‚Ä¢ ' + availability"></p>
                            </div>
                            <div class="text-2xl" x-text="serviceIcon"></div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex gap-3">
                        <button @click="closeSearchSheet()" 
                                class="flex-1 py-3 border-2 border-gray-200 text-gray-700 font-semibold rounded-xl">
                            Cancel
                        </button>
                        <button :disabled="!selectedService || !postcode"
                                class="flex-1 py-3 bg-orange-500 text-white font-semibold rounded-xl disabled:bg-gray-300">
                            Find Services
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function mobileSearchInterface() {
            return {
                selectedService: '',
                serviceIcon: '',
                serviceName: '',
                postcode: '',
                showSearchSheet: false,
                showResults: false,
                providerCount: 0,
                priceRange: '',
                availability: '',
                searchPlaceholder: 'What does your pet need?',

                openSearchSheet() {
                    this.showSearchSheet = true;
                    document.body.style.overflow = 'hidden';
                },

                closeSearchSheet() {
                    this.showSearchSheet = false;
                    document.body.style.overflow = '';
                },

                selectService(service, icon, name) {
                    this.selectedService = service;
                    this.serviceIcon = icon;
                    this.serviceName = name;
                    this.searchPlaceholder = `Find ${name.toLowerCase()} near you`;
                    
                    if (this.postcode) {
                        this.searchProviders();
                    }
                },

                quickSelect(service, icon, name) {
                    this.selectService(service, icon, name);
                    this.openSearchSheet();
                },

                searchProviders() {
                    if (!this.selectedService || !this.postcode) return;
                    
                    // Simulate API call
                    setTimeout(() => {
                        this.providerCount = Math.floor(Math.random() * 15) + 3;
                        
                        const prices = {
                            'walking': '¬£15-25',
                            'sitting': '¬£25-45',
                            'grooming': '¬£30-80',
                            'training': '¬£40-70',
                            'emergency': '¬£50-100',
                            'vet': '¬£60-120'
                        };
                        
                        this.priceRange = prices[this.selectedService] || '¬£20-50';
                        this.availability = Math.random() > 0.5 ? 'Available today' : 'Next available tomorrow';
                        this.showResults = true;
                    }, 500);
                },

                getCurrentLocation() {
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition((position) => {
                            this.postcode = 'SW1A 1AA'; // Example postcode
                            this.searchProviders();
                        });
                    }
                }
            }
        }
    </script>
</body>
</html>